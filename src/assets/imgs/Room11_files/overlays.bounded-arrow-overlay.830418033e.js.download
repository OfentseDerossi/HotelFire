($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/overlays.bounded-arrow-overlay",d:["vendor-babel","vendor-react-libs","vendor-redux-libs","@ta/events.window-resize","@ta/overlays.pieces"],e:["./packages/overlays/bounded-arrow-overlay/bounded-arrow-overlay.jsx"],x:{"./packages/overlays/bounded-arrow-overlay/bounded-arrow-overlay.jsx":["WindowPadding","getAdjustedPosition","getAdjustedAlignEdge","getArrowOffset","getPosition","getPositionForProps","default"]},m:{"./packages/overlays/bounded-arrow-overlay/bounded-arrow-overlay.jsx":function(t,e,i){"use strict";i.r(e),i.d(e,"WindowPadding",function(){return k}),i.d(e,"getAdjustedPosition",function(){return R}),i.d(e,"getAdjustedAlignEdge",function(){return X}),i.d(e,"getArrowOffset",function(){return j}),i.d(e,"getPosition",function(){return M}),i.d(e,"getPositionForProps",function(){return z});var o=i("@babel/runtime/helpers/esm/objectSpread"),r=i.n(o),n=i("@babel/runtime/helpers/esm/objectWithoutProperties"),a=i.n(n),s=i("@babel/runtime/helpers/esm/classCallCheck"),d=i.n(s),l=i("@babel/runtime/helpers/esm/createClass"),f=i.n(l),u=i("@babel/runtime/helpers/esm/possibleConstructorReturn"),h=i.n(u),c=i("@babel/runtime/helpers/esm/getPrototypeOf"),p=i.n(c),g=i("@babel/runtime/helpers/esm/inherits"),m=i.n(g),b=i("@babel/runtime/helpers/esm/assertThisInitialized"),v=i.n(b),w=i("@babel/runtime/helpers/esm/defineProperty"),y=i.n(w),x=i("react"),P=i("react-redux"),O=i("@ta/events.window-resize"),A=i.n(O),E=i("@ta/overlays.pieces"),k=20,R=function t(e,i){if(e){if("rightOf"===i)return"leftOf";if("leftOf"===i)return"rightOf"}return i},X=function t(e,i){if(e){if("right"===i)return"left";if("left"===i)return"right"}return i},j=function t(e,i,o,r){if("windowX"===o){var n=r.getBoundingClientRect();if(n){var a=e?-1:1;return(n.width/2+n.left-2*k)*a}}return i},W=function t(e,i){switch(e){case"above":return"bottom";case"below":return"top";case"leftOf":return i?"left":"right";case"rightOf":default:return i?"right":"left"}},C=function t(e,i,o,r){var n=document&&(r?document.documentElement:document.body)||{},a=n.clientHeight,s=void 0===a?0:a,d=n.clientWidth,l=void 0===d?0:d,f=window,u=f.innerHeight,h=void 0===u?0:u,c=f.innerWidth,p=void 0===c?0:c;return"right"!==e||"right"!==i&&"left"!==i?"bottom"!==e||"top"!==i&&"bottom"!==i?o:r?Math.max(s,h)-o:s-o:r?Math.min(p,l)-o:l-o},M=function t(e,i,o,r){var n=e.position,a=e.target,s=e.fixed,d=e.alignEdge,l=e.arrowType,f=e.paddingY,u=e.minWidth,h=e.zIndex,c=e.paddingX,p=e.shiftX,g=e.shiftY,m=r&&r.getBoundingClientRect()||{},b=m.width,v=void 0===b?0:b,w=m.height,y=void 0===w?0:w,x=window||{},P=x.pageXOffset,O=void 0===P?0:P,A=x.pageYOffset,R=void 0===A?0:A,X=document&&document.body||{},j=X.clientHeight,M=void 0===j?0:j,z=X.clientWidth,S=void 0===z?0:z,Y=a.getBoundingClientRect(),B={top:Y.top+(s?0:R),left:Y.left+(s?0:O),right:Y.right+(s?0:O),bottom:Y.bottom+(s?0:R)},T={};T[o]=C(o,i,B[i],s),d&&"windowX"===d?(c=c||k,u&&S-2*c<u&&(c=Math.max(0,(S-u)/2)),T.left=c,T.right=c):d?T[d]=C(d,d,B[d],s):"top"===i||"bottom"===i?T.left=B.left+Y.width/2-v/2:T.top=B.top+Y.height/2-y/2;var H={position:s?"fixed":"absolute"},I=function t(e){return"small"===e?E.SmallArrowSize:"none"===e?0:E.ArrowSize}(l);switch(W(n)){case"bottom":g-=I;break;case"top":g+=I;break;case"left":p+=I;break;default:p-=I}if(void 0!==T.left){T.left+=p;var $=T.left+v-(S-c);$>0&&(T.left=Math.max(c,T.left-$)),H.left="".concat(T.left,"px")}if(void 0!==T.right){T.right-=p;var D=T.right+v-(S-c);D>0&&(T.right=Math.max(c,T.right-D)),H.right="".concat(T.right,"px")}if(void 0!==T.top){T.top+=g;var F=T.top+y-(M-f);F>0&&(T.top=Math.max(f,T.top-F)),H.top="".concat(T.top,"px")}if(void 0!==T.bottom){T.bottom-=g;var U=T.bottom+y-(M-f);U>0&&(T.bottom=Math.max(f,T.bottom-U)),H.bottom="".concat(T.bottom,"px")}return h&&(H.zIndex="".concat(h)),H},z=function t(e,i){return"above"===e.position?M(e,"top","bottom",i):"leftOf"===e.position?M(e,"left","right",i):"rightOf"===e.position?M(e,"right","left",i):M(e,"bottom","top",i)},S=[{property:"top",timing:500},{property:"bottom",timing:500},{property:"left",timing:500},{property:"right",timing:500}],Y=function(t){function e(t){var i;return d()(this,e),i=h()(this,p()(e).call(this,t)),y()(v()(v()(i)),"setPosition",function(t){i.refreshing||(i.refreshing=!0,i.setState({position:z(i.props,i.contentsRef.current),animated:t&&i.props.animated},function(){i.refreshing=!1}))}),y()(v()(v()(i)),"contentsRef",x.createRef()),y()(v()(v()(i)),"refreshing",!1),i.state={position:z(t,i.contentsRef.current),animated:!1},i}return m()(e,t),f()(e,[{key:"componentDidMount",value:function t(){this.setPosition()}},{key:"componentDidUpdate",value:function t(){this.refreshing||this.setPosition(!0)}},{key:"renderArrow",value:function t(){var e=this.props,i=e.isRtl,o=e.position,r=e.arrowType,n=e.shiftArrow,a=e.alignEdge,s=e.target,d=e.inverted,l=e.shiftX,f=e.shiftY;if("none"===r)return null;var u=j(i,n,a,s),h=W(o,i);switch(o){case"above":case"below":u*=i?-1:1,u-=l;break;case"rightOf":default:u-=f}return u*="bottom"===a||"right"===a?-1:1,x.createElement(E.Arrow,{on:h,from:"windowX"===a?"left":a,offset:u,small:"small"===r,inverted:d})}},{key:"render",value:function t(){return null!==this.state.position?x.createElement(E.Overlay,{position:this.state.position,transitionProperties:this.state.animated?S:[]},x.createElement("div",{ref:this.contentsRef},x.createElement(E.ShadowBox,{inverted:this.props.inverted},this.renderArrow(),this.props.children)),x.createElement(A.a,{callback:this.setPosition,throttle:100})):null}}]),e}(x.Component);y()(Y,"defaultProps",{alignEdge:void 0,fixed:!1,shiftX:0,shiftY:0,shiftArrow:0,arrowType:"large",inverted:!1,animated:!1,paddingX:0,paddingY:0}),e.default=Object(P.connect)(function(t,e){var i=e.position,o=e.alignEdge,n=e.shiftX,s=void 0===n?0:n,d=a()(e,["position","alignEdge","shiftX"]),l=t.i18n.isRtl;return r()({isRtl:l,position:R(l,i),alignEdge:X(l,o),shiftX:l?-s:s},d)})(Y)}}});
//# sourceMappingURL=overlays.bounded-arrow-overlay.830418033e.js.map