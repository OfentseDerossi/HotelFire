($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/hotels.hotel-offers",d:["vendor-babel","vendor-react-libs","lithium-platform","ta-platform","ta-common","@ta/public.dataroots","@ta/public.data-api-polling"],e:["./packages/hotels/hotel-offers/hotel-offers.jsx"],x:{"./packages/hotels/hotel-offers/hotel-offers.jsx":["DominantOffer","bindDominantOffer","DetailTextOffer","bindDetailTextOffer","DetailChevronOffer","bindDetailChevronOffer","MobileDrawerOffer","bindMobileDrawerOffer","MiniOffer","getOfferElementProps","clickOfferElement","bindToHotelReview","isAnyAvailable","isNoCommerce","isBookWithRewards","getTopOffer","trackHRCugShown","MerchandiseMessage","default"]},m:{"./packages/hotels/hotel-offers/hotel-offers.jsx":function(e,t,a){"use strict";a.r(t);var r=a("@babel/runtime/helpers/esm/extends"),n=a.n(r),s=a("react"),o=a("@ta/common.i18n"),l=a("@ta/common.cdn"),i=a("@ta/common.features"),c=a("@ta/common.classnames"),f=a.n(c);require(["trjs!commerce/offerclick"],function(){return null});var u=function e(t){if(!t)return{};var a={"data-contentid":t.contentId,"data-provider":t.provider,"data-clicktoken":t.clickToken||void 0,"data-early-click-target":"commerce/offerclick.compElementClick"};return(t.dataAtts?Object.keys(t.dataAtts).filter(function(e){return!a[e]&&/^data-/.test(e)}):[]).forEach(function(e){t&&t.dataAtts&&(a[e.toLowerCase()]=t.dataAtts[e])}),a},m=function e(t,a){t.persist();var r=a||t.currentTarget,n=r&&r.getAttribute("data-clicktoken");return!(!n||window._hotels_early_clicks_enabled_&&r.getAttribute("data-early-click-target")||(require(["trjs!commerce/offerclick"],function(e){return e.clickEvent(t.nativeEvent,r,n)}),1))},d=a("@babel/runtime/helpers/esm/defineProperty"),h=a.n(d),p=a("@ta/styleguide.icon"),_=function e(t){var a=t.message,r=Object(i.featureIsEnabled)("payment_messaging_ui_update");return s.createElement("div",{className:f()("hotels-hotel-offers-MerchandiseMessage__merchandiseMessage--1LZv3",h()({},"hotels-hotel-offers-MerchandiseMessage__singleLine--2TyGY",r))},s.createElement(p.Icon,{name:"checkmark",className:f()("hotels-hotel-offers-MerchandiseMessage__merchandiseMessageIcon--3Omc_",h()({},"hotels-hotel-offers-MerchandiseMessage__grayIcon--m9pI_",r))}),a)},v=function e(t){var a=t.message,r=t.merchandiseMessagesBelow;return s.createElement("div",{className:f()("hotels-hotel-offers-SpecialRateMessage__special_rate_message_container--32cKE",r?"hotels-hotel-offers-SpecialRateMessage__merchandiseMessagesBelow--1a-Go":void 0)},s.createElement("div",{className:"hotels-hotel-offers-SpecialRateMessage__special_rate_message--HQxg6"},s.createElement("span",{className:"hotels-hotel-offers-SpecialRateMessage__circle--2-67j"},s.createElement(p.Icon,{name:"lock-fill",className:f()("hotels-hotel-offers-SpecialRateMessage__lock-fill--3X63P")}),s.createElement(p.Icon,{name:"bubble-rating-bg",className:f()("hotels-hotel-offers-SpecialRateMessage__bubble-rating-bg--3C2Bs")})),s.createElement("span",{className:"hotels-hotel-offers-SpecialRateMessage__main_text--F63AY"},a)))},g=a("@ta/common.tracking"),O=a.n(g),E=function e(t){if(t&&t.specialRateTracking){var a,r,n=(null===(a=t.dataAtts)||void 0===a?void 0:a["data-provider"])||"Unknown",s=(null===(r=t.dataAtts)||void 0===r?void 0:r["data-specialratetype"])||"None",o=t.specialRateTracking;O()({module:"Hotels_Loyalty_HR_click",action:"".concat(n,"|").concat(s),context:o})}},b=function e(t){var a=t.find(function(e){return!!e.data.specialRateTracking});a&&O()({module:"Hotels_Loyalty_HR",action:"Loyalty_Offer",context:a.data.specialRateTracking})},k=function e(t){return t&&t.isIbOffer&&Object(i.featureIsEnabled)("om_affiliate_commerce_button_CTA")},N=function e(t){var a=t.data,r=t.providerLogoUrl,c=t.providerDisplayName,d=t.strikeThroughText,h=t.buttonText,p=t.priceText,g=t.status,O=t.specialRateMessage,b=t.merchandiseMessages;return s.createElement("div",null,s.createElement("a",n()({id:"bor_book_link_".concat(a.contentId),className:f()("hotels-hotel-offers-DominantOffer__offer--152Fj","offer",d&&Object(i.featureIsEnabled)("black_strikethrough")&&"hotels-hotel-offers-DominantOffer__blackStrikeThrough--3LBE4",Object(i.featureIsEnabled)("commerce_link_strategy_underline_prices")&&"hotels-hotel-offers-DominantOffer__linkStrategyUnderlinePrices--2TiVd",a.clickToken&&"bookableOffer"),href:"javascript:void(0);",onClick:function e(t){m(t),E(a)}},u(a)),s.createElement("div",{className:"ui_columns is-mobile is-multiline is-vcentered is-gapless-vertical ".concat("hotels-hotel-offers-DominantOffer__offerBlock--1K1CL")},s.createElement("div",{className:"ui_column ".concat("hotels-hotel-offers-DominantOffer__logo--1KDoW")},function e(t,a,r){return t.isIbOffer?s.createElement("span",{className:"svgico ".concat("hotels-hotel-offers-DominantOffer__ta_meta_logo--1HyNm")}):a?s.createElement(l.CdnImage,{className:"hotels-hotel-offers-DominantOffer__logo_img--2-BIH",src:a,alt:r}):s.createElement("span",{className:"taLnk",title:r},r)}(a,r,c)),s.createElement("div",{className:"ui_column ".concat("hotels-hotel-offers-DominantOffer__priceBlock--1NB9R")},d?s.createElement("div",{className:"hotels-hotel-offers-DominantOffer__xthrough--pk0Bk"},d):null,p?s.createElement("div",{className:"hotels-hotel-offers-DominantOffer__price--D-ycN"},p):null)),function e(t){return k(t)?s.createElement(_,{key:Object(o.localize)("affiliate_merchandise_message_v1"),message:Object(o.localize)("affiliate_merchandise_message_v1")}):null}(a),function e(t,a){return t&&0!==t.length?s.createElement(v,{message:t,merchandiseMessagesBelow:void 0!==a&&a.length>0}):null}(O,b),function e(t){return t&&0!==t.length?s.createElement("div",{className:"hotels-hotel-offers-DominantOffer__merchandiseMessagesWrapper--2XT-A"},t.map(function(e){return s.createElement(_,{key:e,message:e})})):null}(b)),s.createElement("div",{className:"ui_columns is-mobile"},s.createElement("div",{className:"ui_column is-12 ".concat("hotels-hotel-offers-DominantOffer__ctaColumn--3V-xN")},s.createElement("div",n()({className:"".concat("hotels-hotel-offers-DominantOffer__ctaButton--2wh3E"," ui_button original"),onClick:function e(t){m(t),E(a)}},u(a)),"IN_PROGRESS"===g?s.createElement("span",{className:"ui_loader small ".concat("hotels-hotel-offers-DominantOffer__loader--3QRVq")},s.createElement("span",null),s.createElement("span",null),s.createElement("span",null),s.createElement("span",null),s.createElement("span",null)):h||function e(t){return k(t)?Object(o.localize)("affiliate_cta_book_get_rewards_v1"):null}(a)||Object(o.localize)("view_deal")))))},D=function e(t){return t.offerFields.push("data","providerLogoUrl","strikeThroughText","savePriceText","providerDisplayName","taxesAndFeesText","priceText","status","specialRateMessage","merchandiseMessages"),function e(t){var a=t.offer;return a.data&&s.createElement(N,{data:a.data,providerLogoUrl:a.providerLogoUrl,providerDisplayName:a.providerDisplayName||"",priceText:a.priceText,strikeThroughText:a.strikeThroughText,status:a.status||"UNCONFIRMED",specialRateMessage:a.specialRateMessage,merchandiseMessages:a.merchandiseMessages})}};N.defaultProps={providerLogoUrl:void 0,priceText:void 0,strikeThroughText:void 0,buttonText:void 0,status:void 0,specialRateMessage:void 0,merchandiseMessages:void 0};var T=N,x=function e(t){var a=t.data,r=t.providerDisplayName,o=t.priceText,l=t.isComparisonOffer,c=t.status,d=t.inDropdown;return s.createElement("div",n()({className:f()("hotels-hotel-offers-DetailTextOffer__offer--3a6SH",!a.clickToken&&"hotels-hotel-offers-DetailTextOffer__unclickable--3-rKE",d&&"hotels-hotel-offers-DetailTextOffer__inDropdown--2mtzW",Object(i.featureIsEnabled)("black_strikethrough")&&"hotels-hotel-offers-DetailTextOffer__blackStrikeThrough--Pas5i",Object(i.featureIsEnabled)("commerce_link_strategy_underline_prices")&&"hotels-hotel-offers-DetailTextOffer__linkStrategyUnderlinePrices--1ikZZ"),onClick:function e(t){m(t),E(a)}},u(a)),s.createElement("span",{title:r,className:"hotels-hotel-offers-DetailTextOffer__provider--1ai6p"},r,a.isIbOffer||!a.clickToken?null:s.createElement("span",{className:"ui_icon external-link-no-box"})),function e(t,a,r,n){return"IN_PROGRESS"===t?s.createElement("span",{className:"hotels-hotel-offers-DetailTextOffer__loading--1m0iV"},s.createElement("span",{className:"ui_loader small"},s.createElement("span",null),s.createElement("span",null),s.createElement("span",null),s.createElement("span",null),s.createElement("span",null))):"UNAVAILABLE"!==t&&r?"AVAILABLE"===t&&a?n?s.createElement("span",{title:a,className:f()("hotels-hotel-offers-DetailTextOffer__price--2gYdd","hotels-hotel-offers-DetailTextOffer__comparisonOffer--11Mdk")},a):s.createElement("span",{title:a,className:"hotels-hotel-offers-DetailTextOffer__price--2gYdd"},a):s.createElement("span",{className:"hotels-hotel-offers-DetailTextOffer__price--2gYdd"},s.createElement("span",{className:"ui_icon search"})):s.createElement("span",{className:"hotels-hotel-offers-DetailTextOffer__price--2gYdd"},s.createElement("span",{className:"ui_icon prohibited"}))}(c,o,!!a.clickToken,l))};x.defaultProps={priceText:void 0,isComparisonOffer:void 0,inDropdown:void 0};var M=function e(t,a){return t.offerFields.push("data","providerDisplayName","priceText","isComparisonOffer","status"),function e(t){var r=t.offer;return r.data&&s.createElement(x,{data:r.data,providerDisplayName:r.providerDisplayName||"",priceText:r.priceText,isComparisonOffer:r.isComparisonOffer,status:r.status||"UNCONFIRMED",inDropdown:a})}},C=x,y=function e(t){var a=t.data,r=t.providerLogoUrl,c=t.providerDisplayName,d=t.strikeThroughText,h=t.buttonText,p=t.priceText,g=t.status,O=t.savePriceText,b=t.taxesAndFeesText,k=t.specialRateMessage,N=t.merchandiseMessages;return s.createElement("div",n()({className:f()("hotels-hotel-offers-DetailChevronOffer__offer--2b4bE","offer",d&&Object(i.featureIsEnabled)("black_strikethrough")&&"hotels-hotel-offers-DetailChevronOffer__blackStrikeThrough--3k4KZ",Object(i.featureIsEnabled)("commerce_link_strategy_underline_prices")&&"hotels-hotel-offers-DetailChevronOffer__linkStrategyUnderlinePrices--1bpHe",a.clickToken&&"bookableOffer",O&&"hotels-hotel-offers-DetailChevronOffer__offerWithStarSave--UJ6h1"),onClick:function e(t){m(t),E(a)}},u(a)),s.createElement("div",{className:"ui_columns is-gapless is-mobile"},s.createElement("div",{className:"ui_column is-4 ".concat("hotels-hotel-offers-DetailChevronOffer__logo--2JJsC")},function e(t,a,r){return t.isIbOffer?s.createElement("span",{className:"svgico ".concat("hotels-hotel-offers-DetailChevronOffer__ta_meta_logo--3Ihqg")}):a?s.createElement(l.CdnImage,{className:"hotels-hotel-offers-DetailChevronOffer__logo_img--1ug1t",src:a,alt:r}):s.createElement("span",{className:"taLnk",title:r},r)}(a,r,c)),s.createElement("div",{className:"ui_column is-4 ".concat("hotels-hotel-offers-DetailChevronOffer__priceBlock--QrLCS")},s.createElement("div",{className:"hotels-hotel-offers-DetailChevronOffer__priceInner--1X4PY"},d?s.createElement("div",{className:"autoResize ".concat("hotels-hotel-offers-DetailChevronOffer__xthrough--h1SKg")},d):null,p?s.createElement("div",{className:"".concat("hotels-hotel-offers-DetailChevronOffer__price--py2LH"," autoResize"),"data-sizegroup":"hr_chevron_prices"},p):null,b?s.createElement("div",{className:"hotels-hotel-offers-DetailChevronOffer__taxesAndFees--2GuTG"},"+ ".concat(b," ").concat(Object(o.localize)("meta_ui_taxes_and_fees_14f6"))):null)),s.createElement("div",{className:"ui_column is-4 ".concat("hotels-hotel-offers-DetailChevronOffer__ctaColumn--CMZbI")},s.createElement("div",{className:f()("ui_button original autoResize","hotels-hotel-offers-DetailChevronOffer__ctaButton--3MGTE","IN_PROGRESS"!==g&&"large"),"data-sizegroup":"hr_chevron_cta"},"IN_PROGRESS"===g?s.createElement("span",{className:"hotels-hotel-offers-DetailChevronOffer__ctaText--3irpB"},s.createElement("span",{className:"ui_loader small ".concat("hotels-hotel-offers-DetailChevronOffer__loader--1YARi")},s.createElement("span",null),s.createElement("span",null),s.createElement("span",null),s.createElement("span",null),s.createElement("span",null))):s.createElement("span",{className:"hotels-hotel-offers-DetailChevronOffer__ctaText--3irpB"},h||Object(o.localize)("view_deal"))))),O?s.createElement("div",{className:"autoResize ".concat("hotels-hotel-offers-DetailChevronOffer__starSave--26N9-")},s.createElement("span",{className:"ui_icon star"}),s.createElement("span",null,Object(o.localize)("hotels_save_money",{0:O}))):null,function e(t,a){return t&&0!==t.length?s.createElement(v,{message:t,merchandiseMessagesBelow:void 0!==a&&a.length>0}):null}(k,N),function e(t){return t&&0!==t.length?s.createElement("div",{className:"hotels-hotel-offers-DetailChevronOffer__merchandiseMessagesWrapper--nA5oH"},t.map(function(e){return s.createElement(_,{key:e,message:e})})):null}(N))};y.defaultProps={providerLogoUrl:void 0,priceText:void 0,strikeThroughText:void 0,buttonText:void 0,savePriceText:void 0,isComparisonOffer:void 0,taxesAndFeesText:void 0,specialRateMessage:void 0,merchandiseMessages:void 0};var I=function e(t){return t.offerFields.push("data","providerLogoUrl","strikeThroughText","savePriceText","providerDisplayName","taxesAndFeesText","priceText","isComparisonOffer","status","specialRateMessage","merchandiseMessages"),function e(t){var a=t.offer;return a.data&&s.createElement(y,{data:a.data,providerLogoUrl:a.providerLogoUrl,providerDisplayName:a.providerDisplayName||"",priceText:a.priceText,strikeThroughText:a.strikeThroughText,isComparisonOffer:a.isComparisonOffer,taxesAndFeesText:Object(i.featureIsEnabled)("hr_ib_exclude_taxes_and_fees")?void 0:a.taxesAndFeesText,savePriceText:a.savePriceText,status:a.status||"UNCONFIRMED",specialRateMessage:a.specialRateMessage,merchandiseMessages:a.merchandiseMessages})}},R=y,A=function e(t){var a=t.data,r=t.providerDisplayName,o=t.priceText,l=t.isComparisonOffer,c=t.status;return s.createElement("div",n()({className:f()("hotels-hotel-offers-MobileDrawerOffer__offer--3VA-m",!a.clickToken&&"hotels-hotel-offers-MobileDrawerOffer__unclickable--2wekV",Object(i.featureIsEnabled)("black_strikethrough")&&"hotels-hotel-offers-MobileDrawerOffer__blackStrikeThrough--1Moig"),onClick:function e(t){return m(t)}},u(a)),s.createElement("span",{title:r,className:"hotels-hotel-offers-MobileDrawerOffer__provider--1YOna"},r,a.isIbOffer||!a.clickToken?null:s.createElement("span",{className:"ui_icon external-link-no-box"})),function e(t,a,r,n){return"IN_PROGRESS"===t?s.createElement("span",{className:"hotels-hotel-offers-MobileDrawerOffer__loading--HInZl"},s.createElement("span",{className:"ui_loader small"},s.createElement("span",null),s.createElement("span",null),s.createElement("span",null),s.createElement("span",null),s.createElement("span",null))):"UNAVAILABLE"!==t&&r?"AVAILABLE"===t&&a?n?s.createElement("span",{title:a,className:"hotels-hotel-offers-MobileDrawerOffer__price--3clni"},s.createElement("span",{className:"hotels-hotel-offers-MobileDrawerOffer__comparisonOffer--2qLEC"},a)):s.createElement("span",{title:a,className:"hotels-hotel-offers-MobileDrawerOffer__price--3clni"},a):s.createElement("span",{className:"hotels-hotel-offers-MobileDrawerOffer__price--3clni"},s.createElement("span",{className:"ui_icon search"})):s.createElement("span",{className:"hotels-hotel-offers-MobileDrawerOffer__price--3clni"},s.createElement("span",{className:"ui_icon prohibited"}))}(c,o,!!a.clickToken,l))};A.defaultProps={priceText:void 0,isComparisonOffer:void 0};var w=function e(t){return t.offerFields.push("data","providerDisplayName","priceText","isComparisonOffer","status"),function e(t){var a=t.offer;return a.data&&s.createElement(A,{data:a.data,providerDisplayName:a.providerDisplayName||"",priceText:a.priceText,isComparisonOffer:a.isComparisonOffer,status:a.status||"UNCONFIRMED"})}},L=A,j=function e(t){var a=t.listing||{},r=a.chevronOffers,n=a.textLinkOffers,s=a.hiddenOffers,o=function e(t){return"AVAILABLE"===t.status};return!!(r&&r.find(o)||n&&n.find(o)||s&&s.find(o))},S=function e(t){var a=t.listing;return!!(a&&a.chevronOffers&&0===a.chevronOffers.length&&a.textLinkOffers&&0===a.textLinkOffers.length)},P=function e(t){var a=t.listing;return a&&a.chevronOffers&&a.chevronOffers[0]?a.chevronOffers[0]:null},B=function e(t){return t&&t.isIbOffer&&Object(i.featureIsEnabled)("om_affiliate_commerce_button_CTA")},F=function e(t){var a=t.offer;if(!a)return null;var r=a.data,l=a.status,i=a.providerDisplayName,c=a.priceText,f=B(r)?Object(o.localize)("affiliate_cta_book_get_rewards_v1"):Object(o.localize)("view_deal");return"AVAILABLE"!==l?null:s.createElement(s.Fragment,null,s.createElement("div",{className:"hotels-hotel-offers-MiniOffer__price_night--29nrf"},s.createElement("div",{className:"hotels-hotel-offers-MiniOffer__price--3qu-X"},c),s.createElement("div",{className:"hotels-hotel-offers-MiniOffer__price_vendor--3F3AG"},i,r.isIbOffer||!r.clickToken?null:s.createElement(p.Icon,{name:"external-link-no-box"}))),s.createElement("div",{className:"hotels-hotel-offers-MiniOffer__btnWrap--3XIDk"},s.createElement("div",n()({className:"ui_button original",onClick:m},u(r)),f)))},U=a("@ta/public.dataroots"),H=a("@ta/public.data-api-polling"),z=function e(t,a){if(!t)return"";var r={};return t.filter(function(e){return"string"==typeof e}).forEach(function(e){r[e]=!0}),a&&a.filter(function(e){return"string"==typeof e}).forEach(function(e){r[e]=!0}),Object.keys(r).sort().join(",")},V=function e(t,a,r){return Object(H.bindDataApiPoller)(function e(r,n){return function e(t,a,r,n){var s;if(!n.route.detail)return null;var o=Number(n.route.detail),l=["/data/1.0/hotelDetail/".concat(o,"/offers?rc=Hotel_Review")];t&&l.push("ttp=".concat(t)),n.tracking&&n.tracking.uid&&l.push("puid=".concat(encodeURIComponent(n.tracking.uid)));var i=n.travelerInfo&&n.travelerInfo.hotels;i&&i.stayDates&&(l.push("stayDates=".concat(i.stayDates)),l.push("dd=".concat(!!i.defaultDates))),i&&i.guests&&l.push("guestInfo=".concat(i.guests));var c=(n.meta&&n.meta.lineItemsByLoc||{})[String(o)];c&&l.push("slid=".concat(c));var f=null===(s=n.page)||void 0===s?void 0:s.refreshCount;return f&&l.push("refreshCount=".concat(f)),a&&l.push("rn=".concat(a)),l.push("fields=".concat(z(r.listingFields,["complete"]))),l.push("offerFields=".concat(z(r.offerFields,["status","data"]))),n.page.isMetaWithVp&&l.push("shape=VP_HR"),l.join("&")}(a,n,t,r)},function e(t){return!(!t||!t.complete)},function e(t,a,n,s){return r(function e(t,a,r,n){return{hotelId:t.route.detail?Number(t.route.detail):-1,loading:!!a,listing:r,params:n}}(t,a,n,s))},function e(a,r){return t&&Object(U.stageAll)(t,a,r)})};a.d(t,"DominantOffer",function(){return T}),a.d(t,"bindDominantOffer",function(){return D}),a.d(t,"DetailTextOffer",function(){return C}),a.d(t,"bindDetailTextOffer",function(){return M}),a.d(t,"DetailChevronOffer",function(){return R}),a.d(t,"bindDetailChevronOffer",function(){return I}),a.d(t,"MobileDrawerOffer",function(){return L}),a.d(t,"bindMobileDrawerOffer",function(){return w}),a.d(t,"MiniOffer",function(){return F}),a.d(t,"getOfferElementProps",function(){return u}),a.d(t,"clickOfferElement",function(){return m}),a.d(t,"bindToHotelReview",function(){return V}),a.d(t,"isAnyAvailable",function(){return j}),a.d(t,"isNoCommerce",function(){return S}),a.d(t,"isBookWithRewards",function(){return B}),a.d(t,"getTopOffer",function(){return P}),a.d(t,"trackHRCugShown",function(){return b}),a.d(t,"MerchandiseMessage",function(){return _}),t.default={}}}});
//# sourceMappingURL=hotels.hotel-offers.eb2f5430f0.js.map