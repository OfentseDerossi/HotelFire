($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/hotels.hotel-draft-review",d:["vendor-babel","vendor-react-libs"],e:["./packages/hotels/hotel-draft-review/hotel-draft-review.jsx"],x:{"./packages/hotels/hotel-draft-review/hotel-draft-review.jsx":["DraftReviewConsumer","DraftReviewProvider"]},m:{"./packages/hotels/hotel-draft-review/hotel-draft-review.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"DraftReviewConsumer",function(){return R}),r.d(t,"DraftReviewProvider",function(){return k});var n=r("@babel/runtime/helpers/esm/classCallCheck"),a=r.n(n),i=r("@babel/runtime/helpers/esm/createClass"),s=r.n(i),o=r("@babel/runtime/helpers/esm/possibleConstructorReturn"),h=r.n(o),l=r("@babel/runtime/helpers/esm/getPrototypeOf"),c=r.n(l),u=r("@babel/runtime/helpers/esm/inherits"),f=r.n(u),v=r("@babel/runtime/helpers/esm/assertThisInitialized"),d=r.n(v),p=r("@babel/runtime/helpers/esm/defineProperty"),m=r.n(p),w=r("react"),b=w.createContext({hasDraftReview:!1}),R=b.Consumer,D=b.Provider,k=function(e){function t(e){var r;return a()(this,t),r=h()(this,c()(t).call(this,e)),m()(d()(d()(r)),"checkReviewStatus",function(){fetch("/data/1.0/draftreviews/hasDraft/".concat(r.props.locationId),{method:"GET",credentials:"same-origin"}).then(function(e){if(e.ok)return e.json();throw Error()}).then(function(e){return r.setState({hasDraftReview:e})}).catch(function(){return r.setState({hasDraftReview:!1})})}),r.state={hasDraftReview:!1},r}return f()(t,e),s()(t,[{key:"componentDidMount",value:function e(){this.checkReviewStatus()}},{key:"componentDidUpdate",value:function e(t){this.props.locationId!==t.locationId&&this.checkReviewStatus()}},{key:"render",value:function e(){var t=this.state.hasDraftReview;return w.createElement(D,{value:{hasDraftReview:t}},this.props.children)}}]),t}(w.Component)}}});
//# sourceMappingURL=hotels.hotel-draft-review.371d7c3d6f.js.map