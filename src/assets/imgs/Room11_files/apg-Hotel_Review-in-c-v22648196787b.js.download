var ta="undefined"!=typeof window&&window.ta||{},define,require;ta.rollupAmdShim=ta.rollupAmdShim||function(){function e(e,i){var t,o,d,f;if(!window.overrideRequire){for(t=0;e&&e.length&&t<e.length;++t)w[e[t]]=!0;for(t=0;i&&i.length&&t<i.length;++t)m[i[t]]=!0;var l,u;if(y&&window._dummyDefine&&window._dummyDefine.isDummyDefine&&(l=window._dummyDefine.pendingDefinitions,window._dummyDefine=null,define=null),"undefined"!=typeof require&&require.isDummyRequire){u=require.pendingRequirements;var a=require.pendingConfigs;if(a&&a.length)for(t=0;t<a.length;t++)f=a[t],r.config.apply(null,f);require=null}if("function"==typeof define&&define.isTaRollupShim||(E="function"==typeof define?define:null,define=n),"function"==typeof require&&require.isTaRollupShim||(O="function"==typeof require?require:null,require=r),l&&l.length)for(t=0;t<l.length;t++)o=l[t],n.apply(null,o);if(u&&u.length)for(t=0;t<u.length;t++)d=u[t],r.apply(null,d)}}function n(e,r,t,d){var f,l,a=[];if("function"==typeof r&&void 0===t&&void 0===d&&(t=r,r=[]),"string"==typeof e&&"object"==typeof r&&"function"==typeof t){if(D.hasOwnProperty(e)||v[e]&&v[e].deps)return;if(l=i(r,a))try{f=t.apply(null,l),u(e,f)}catch(e){P("Error in require callback: ",e)}else o(a,{deps:r,cb:t,defname:e},n.depLoader)}else{if(E)return E(e,r,t,d);P("invalid args for AMD define: "+typeof e+", "+typeof r+", "+typeof t)}}function r(e,r,d,f){var l=null;if("string"==typeof e&&"function"!=typeof r){try{l=i([e]),!l&&O&&(l=[O(e,r,d,f)])}catch(e){}if(!l)throw t(e);return l[0]}if("object"==typeof e&&"function"==typeof r){var u=[];if(l=i(e,u))try{r.apply(null,l)}catch(e){P("Error in require callback: ",e)}else o(u,{deps:e,cb:r,eb:"function"==typeof d&&d},n.depLoader)}else{if(O)return O(e,r,d,f);P("invalid args for AMD require: "+typeof e+", "+typeof r+". Expected either a string-literal singular dependency (i.e. synchronous) or an array of dependencies with a callback function (i.e. async).")}}function i(e,n){var r,i,t,o,d=[];for(r=0;r<e.length;++r)if(i=e[r],o=null,i)if(D.hasOwnProperty(i))o=D[i],d.push(o);else if(m[i]){for(t=i.split("/"),"underscore"===t[0]&&(t[0]="_"),o="undefined"!=typeof window&&window;t.length>1&&o;o=o[t.shift()]);t.length>0&&o&&(o=o[t[0]]||o[t[0].toLowerCase()]),o?(D[i]=o,d.push(o)):n.push(i)}else n&&n.push(i);else d.push(null);if(d.length===e.length)return d}function t(e){var n,r,i,t,o="Missing immediately required dependency: "+e;for(n=0;n<10;n++){var d=v[e];if(!d){o+=" (not specified)";break}if(d.error){o+=" ("+d.error+")";break}if(e=null,t=d.deps)for(r=0;r<t.length;r++)if(i=t[r],!D.hasOwnProperty(i)){e=i;break}if(!e)break;o+=" -> "+e}var f=new Error(o);return y&&!window.IS_DEBUG||!g||y&&null===window.require.caller&&/^R|react$/.test(e)||g.error(f),f}function o(e,n,t){var u,a,s,p,c,h,y,g=[],w=[],m=[];n.deps=n.deps||[],n.defname&&(p=v[n.defname],v[n.defname]=n,p&&p!==n&&p.needers&&p.needers.length&&(n.needers=(p.needers||[]).concat(n.needers||[])));for(var c=0;c<e.length;c++)u=e[c],h=u.lastIndexOf("!"),h>=0?(g.push(u.substring(0,h)),w.push(u.substring(h+1))):(g.push(null),w.push(u));if(g=i(g,m),!g)return o(m,n);for(var c=0;c<e.length;c++)if(a=g[c],s=v[e[c]],!s&&!D.hasOwnProperty(e[c])){s={defname:e[c]},v[e[c]]=s;var E=f(s),M=l(s);E.error=M;try{if(a)a.load(w[c],r,E,{});else if(t)t(w[c],r,E,{});else{if(!O||O.taVer)throw new Error("no loader for AMD module '"+s.defname+"'");O([s.defname],E,M)}y=!0}catch(e){n.error=e,M(e)}}n.need=0;for(var c=0;c<e.length;c++)u=e[c],s=v[u],!s||D.hasOwnProperty(u)||s.error||(s.needers=s.needers||[],s.needers.push(n),n.need+=1);!n.need&&y&&(b.push(n),q||(q=setTimeout(d,0)))}function d(){var e,n,r,t;for(q=-1;b.length>0;){var d=b.shift();if(d)try{if(d.error){d.defname&&a(d.defname);continue}if(n=[],t="string"==typeof d.deps?[d.deps]:d.deps,e=i(t||[],n),n.length>0){o(n,d);continue}r=null,d.cb&&(r=d.cb.apply(null,e)),d.deps=[],d.cb=null,d.defname&&u(d.defname,r)}catch(e){P("Error propagating dependency resolutions: ",e)}}q=null}function f(e){return function(n){e.defname&&u(e.defname,n)}}function l(e){return function(n){e.defname&&(e.error="Error loading '"+e.defname+"': "+n,P(e.error),e.need=0,e.deps=[],a(e.defname))}}function u(e,n){if(!D[e]){var r=v[e];if(D[e]=n,delete v[e],w[e]){var i,t=e.split("/"),o=ta;for("ta"===t[0]&&t.shift();t.length>1;)i=t.shift(),o[i]||(o[i]={}),o=o[i];t.length>0&&(i=t.shift(),i in o||i.toLowerCase()in o||(o[i]=n,o[i.toLowerCase()]=n))}if(E&&E(e,[],s(n)),r)for(;r.needers&&r.needers.length>0;){var f=r.needers.shift();f.need-=1,f.need||b.push(f)}b.length&&!q&&(q=setTimeout(d,0))}}function a(e){var n=v[e];if(n){var r=n.eb;for(n.deps=null,n.cb=null,n.eb=null,n.error||(n.error="Error loading '"+n.defname+"'");n.needers&&n.needers.length>0;){var i=n.needers.shift();i.error="Failed to load AMD module '"+e+"' which is depended upon by '"+i.defname+"'",i.need>0&&(i.need=0,b.push(i)),y&&!window.IS_DEBUG||!g||g.error(i.error)}if(null!=r)try{r(n.error)}catch(e){}}b.length&&!q&&(q=setTimeout(d,0))}function s(e){return function(){return e}}function p(e){return e&&(e.indexOf("trjs!")!==-1||e.indexOf("trcss!")!==-1||e.indexOf("trhtml!")!==-1||e.indexOf("trdust!")!==-1)}function c(){return!("undefined"!=typeof ta&&ta.page&&ta.page.loadDeferred)}function h(){var e,n,r,t,o;if(q)return void setTimeout(h,0);if(M=!0,v&&c())for(e in v)if(v.hasOwnProperty(e)){if(n=v[e],t=[],o=[],p(n.defname))continue;if(v.hasOwnProperty("trjs!"+n.defname))continue;if(n.deps&&n.deps.length){for(r=0;r<n.deps.length;r++)p(n.deps[r])||t.push(n.deps[r]);if(i(t,o),0===o.length)continue}P("Page 'load' event fired but we have not resolved the '"+n.defname+"' AMD module"+(n.deps&&n.deps.length?" due to missing dependencies: "+o:""))}}var y="undefined"!=typeof window,g=y&&window.console||"undefined"!=typeof console&&console||void 0,w={},m={},v={},b=[],q=null,D={ta:ta},E=null,O=null,M=!1,P=function(e,n){if("undefined"!=typeof __SERVER__)throw n;g&&g.error.apply&&g.error.apply(g,arguments),g&&!g.error.apply&&g.error&&g.error([].slice.apply(arguments))};n.amd=!0,n.isTaRollupShim=!0,n.depLoader=function(){},n.depLoader.isDefault=!0,r.isTaRollupShim=!0,r.undef=function(e){delete D[e];var n=v[e];n&&n.deps&&(n.deps=[],n.cb=null,n.defname=null,delete v[e])},r.config=function(){O&&O.config&&O.config.apply(O,arguments)},r.defined=function(e){return!!D.hasOwnProperty(e)||!v.hasOwnProperty(e)&&(O&&O.defined&&O.defined(e))},r.parsed=function(e){return!!D.hasOwnProperty(e)||v[e]&&v[e].deps},r.specified=function(e){return!(!D.hasOwnProperty(e)&&!v[e])||O&&O.specified&&O.specified(e)},y&&window.IS_DEBUG&&(window.addEventListener?window.addEventListener("load",h,!1):window.attachEvent&&window.attachEvent("onload",h));var _={install:e,reportMissing:h,define:n,require:r,initializedModules:D,debug:function(){return{globalModuleFlags:w,shimModuleFlags:m,initializedModules:D,pendingModules:v,outer:{require:O,define:E},depLoader:n.depLoader}}};return _.install(),u("ta/rollupAmdShim",_),_}();
require(['ta/rollupAmdShim'], function(rollupAmdShim) {rollupAmdShim.install(["servlets/standardTemplateSupport","ta/prwidgets","ta/p13n/placements","servlets/responsivehotelreview","ta/Core/TA.FireEvent","utils/nodePreserve","hotels/SpecialMessageUtil","common/Radio","babel/babel-helpers","t4b/tracking/b2bClickTracking","retargeting/listeners/mobile-bl-click","utils/asdf-encoder","common/trackingStreams","hotels/ClickSourceTracking","utils/classnameUtils","commerce/offerclick","ta/Core/TA.Event","ta/Core/TA.LocalStorage","hotels/tracking/UEF-LocationDateSpecificClickThru","sponsoredlisting/HotelStaticListing","hotels/recentlyViewedHotels","ta/registration/RegEvents","utils/responsive","responsive/text-resizer","maps/v3/providers/providerShim","maps/v3/tracking"],["page-model","page-model","page-model","ta/rollupAmdShim","ta","ta","page-model","ta","ta","ta","page-model","ta","page-model","page-model","ta"]);});
if(window.requirejs && requirejs.taConfig)requirejs.taConfig({"deferred":{},"name":"build/concat/apg-Hotel_Review-in","files":{"js-amd":{"lib":{"babel":{"babel-helpers":1}},"src":{"common":{"trackingStreams":1},"hotels":{"recentlyViewedHotels":1,"ClickSourceTracking":1},"utils":{"asdf-encoder":1,"responsive":1,"classnameUtils":1,"nodePreserve":1},"servlets":{"standardTemplateSupport":1,"responsivehotelreview":1},"retargeting":{"listeners":{"mobile-bl-click":1}},"commerce":{"offerclick":1},"sponsoredlisting":{"HotelStaticListing":1}}},"js3":{"build":{"es6":{"src":{"t4b":{"tracking":{"b2bClickTracking":1}},"common":{"Radio":1},"maps":{"v3":{"tracking":1,"providers":{"providerShim":1}}},"hotels":{"SpecialMessageUtil":1,"tracking":{"UEF-LocationDateSpecificClickThru":1}},"responsive":{"text-resizer":1}}}},"src":{"ta":{"prwidgets":1,"registration":{"RegEvents":1},"Core":{"TA.FireEvent":1,"TA.Event":1,"TA.LocalStorage":1},"p13n":{"placements":1}}}}},"_":{"baseUrl":"/"}});
;
define("utils/throttle",[],function(){return function(t,n){var e,r;return function(){r&&(clearTimeout(r),r=0);var i=e?n-(Date.now()-e):null;if(null!==i&&i>0)return void(r=setTimeout(t.apply.bind(t,this,arguments),i));var u=t.apply(this,arguments);return e=Date.now(),u}}});
define("vanillajs",[],function(){return{}});
define("mobile/lite/image-loader",["utils/throttle","vanillajs"],function(t){"use strict";function e(e,n){n=n||document,c=e||0;var i=Array.prototype.filter.call(n.querySelectorAll("["+u+"]"),r());if(0!=i.length){var o=t(function(t){i=i.filter(r()),0==i.length&&(window.removeEventListener("scroll",o),window.removeEventListener("resize",o))},200);window.addEventListener("scroll",o),window.addEventListener("resize",o)}}function r(){return function(t){if(!document.body.contains(t))return!1;try{if(!i(t))return!0}catch(t){return!1}var e=t.getAttribute(u);if(e)return"IMG"===t.tagName?t.src=e:t.style.backgroundImage="url("+e+")",t.removeAttribute(u),!1;var r=t.getAttribute(l);return r&&"IMG"===t.tagName&&(t.srcset=r,t.removeAttribute(l)),!0}}function n(t){t=t||document;var e=t.querySelectorAll("["+u+"]");Array.prototype.filter.call(e,r())}function i(t){var e=t.getBoundingClientRect();return e.width>0&&e.height>0&&e.top+c>=0&&e.top-c<=window.innerHeight}function o(){return function(t){var e=t.getAttribute(u);return!e||("IMG"===t.tagName?t.src=e:t.style.backgroundImage="url("+e+")",t.removeAttribute(u),!1)}}function a(t){t=t||document;var e=t.querySelectorAll("["+u+"]");Array.prototype.filter.call(e,o())}var u="data-lazyurl",l="data-lazyset",c=0;return{init:e,demandLoadImages:n,forceLoadImages:a}});
define("utils/to-array",["vanillajs"],function(){return function(n){return"number"!=typeof n.length?[n]:Array.prototype.slice.call(n)}});
define("amdloaders",["utils/to-array"],function(e){var t=[],n=[],r=[],o=[],a=[],d=null,i=null,u={},s={},c={},l={},f=null,p=!1,h=1e4,m=!1,w={},v=function(e,t,r){if("@ta/"!==e.substring(0,4)){if(u[e]){if(s[e]&&/^[-a-z]+\.[-_a-zA-Z0-9]+$/.test(e))return}else u[e]=!0,n.push(e);a.push(function(n){n||!t.parsed||t.parsed(e)||(n=new Error("Dynamic load failed to define module '"+e+"'")),n&&r.error&&r.error(n)}),S()}},g=function(e,t,r){u[e]||(u[e]=!0,s[e]||t.specified(e)||n.push(e)),a.push(function(n){var o=t.parsed(e);n||s[e]||o||(n=new Error("Dynamic load failed to define '"+e+"'")),n?r.error&&r.error(n):o||define(e,[],H(!0))}),t([e],r,r.error),S()},y=function(e,n,r){t.push(e),a.push(function(e){e?r.error&&r.error(e):r(!0)}),S()},C=function(e,t,n){r.push(e),a.push(function(r){r||t.specified("trhtml!"+e)||(r=new Error("Dynamic load failed to define content '"+e+"'")),r&&n.error&&n.error(r)}),S()},L=function(e,t,n){c[e]||(c[e]=!0,l[e]||o.push(e)),a.push(function(e){e?n.error&&n.error(e):n(!0)}),S()},L=function(e,t,n){c[e]||(c[e]=!0,l[e]||o.push(e)),a.push(function(e){e?n.error&&n.error(e):n(!0)}),S()},S=function(){!f&&p&&!m&&(a.length||t.length||n.length||r.length||o.length)&&(f=setTimeout(b,0))},E=function(e,t){var n=e.getAttribute("data-rup");if(n){var r;n=n.split(",");for(var o=0;o<n.length;o++)r=n[o].trim(),r&&t(r)}},R=w.getJSRollupsLoaded=function(){var t=i||e(document.getElementsByTagName("SCRIPT")).reduce(function(e,t){return t.hasAttribute("data-is-dust")||E(t,function(t){e.dedup[t]||(e.rups.push(t),u[t]=s[t]=e.dedup[t]=!0)}),e},{rups:[],dedup:{}}).rups;return!i&&p&&(i=t),t},A=w.getCSSRollupsLoaded=function(){var t=d||(document.head?e(document.head.querySelectorAll("LINK, STYLE")).reduce(function(e,t){return E(t,function(t){e.dedup[t]||(e.rups.push(t),e.dedup[t]=!0)}),e},{rups:[],dedup:{}}).rups:[]);return!d&&p&&(d=t),t},T=w.getLoadedFilesParams=function(){return{haveJses:String(R()),haveCsses:String(A())}},b=function(){if(f=null,p&&!m){var e=t,d=a,i=r,u=o,c=T(),l=n.filter(function(e){return e&&!s[e]&&!require.parsed(e)});if(a=[],t=[],n=[],r=[],o=[],!(l.length||e.length||i.length||u.length))return void I(d);var h="haveJses="+encodeURIComponent(c.haveJses)+"&haveCsses="+encodeURIComponent(c.haveCsses)+"&needJses="+encodeURIComponent(String(l||""))+"&needCsses="+encodeURIComponent(String(e||""))+"&needDusts="+encodeURIComponent(String(u||""));i.length>0&&(h+="&needContent="+encodeURIComponent(String(i))),window.pageServlet&&(h+="&metaReferer="+encodeURIComponent(window.pageServlet));var w=null;try{w=new XMLHttpRequest}catch(e){try{w=new ActiveXObject("MSXML2.XMLHTTP")}catch(e){try{w=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){throw new Error("Can't create XMLHttpRequest or similar")}}}var v=!1;w.onreadystatechange=function(){v||4!==w.readyState||(v=!0,w.status>=200&&w.status<=299?x(d,w.responseText):I(d,new Error("XHR returned "+w.status)))},w.open("POST","/DemandLoadAjax",!0);try{w.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8")}catch(e){}try{w.setRequestHeader("X-Requested-With","XMLHttpRequest")}catch(e){}try{w.setRequestHeader("Accept","text/html, */*")}catch(e){}m=!0,w.send(h)}},I=function(e,t){if(m=!1,S(),e.length)for(var n=0;n<e.length;++n)try{e[n](t)}catch(e){window.IS_DEBUG&&console.error&&console.error("Error in async callback: ",e)}},D=w.installStyles=function(e){document.head.appendChild(e.reduce(function(e,t){return E(t,function(e){d.push(e),define("trcss!"+e,[],H(void 0))}),e.appendChild(t),e},document.createDocumentFragment()))},q=w.installScripts=function(e){return Promise.all(e.map(function(e){return E(e,function(t){e.hasAttribute("data-is-dust")?l[t]=!0:(i&&i.push(t),s[t]=!0)}),new Promise(function(t){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("data-rup",e.getAttribute("data-rup")),e.src?(n.src=e.src,n.async=!0,n.onload=n.onerror=t,document.head.appendChild(n)):e.text&&(n.text=e.text,document.head.appendChild(n),document.head.removeChild(n),t())})}))},x=function(t,n){if(!n||!n.substr)return void I(t,new Error("no data returned from /DemandLoadAjax"));var r,o=Promise.resolve();try{var a=document.createElement("DIV");a.innerHTML=n,D(e(a.querySelectorAll("STYLE, LINK"))),o=q(e(a.getElementsByTagName("SCRIPT")));for(var d,i;d=a.firstChild;)a.removeChild(d),1===d.nodeType&&(i=d.getAttribute("data-content"),i&&define("trhtml!"+i,[],H(d)))}catch(e){r=e}o.then(I.bind(null,t,r))},H=function(e){return function(){return e}},M=w.activate=function(){p||(p=!0,define.depLoader&&!define.depLoader.isDefault||(define.depLoader=v),S())},X=function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++)if(e[t].hasAttribute("data-loadtrk")&&!e[t].loadtrk)return window.console&&console.warn&&console.warn(e[t].src+" is not loaded yet"),!1;return!0},P=function(){"interactive"===document.readyState&&X()&&(window.console&&console.warn&&console.warn("force activate async loading due to wait timeout"),M())};return define("trjs",[],function(){return{load:g}}),define("trcss",[],function(){return{load:y}}),define("trhtml",[],function(){return{load:C}}),define("trdust",[],function(){return{load:L}}),"undefined"!=typeof window&&(document.addEventListener&&!window.taRollupsAreAsync&&document.addEventListener("DOMContentLoaded",M,!1),window.addEventListener?window.addEventListener("load",M,!1):window.attachEvent&&window.attachEvent("onload",M),window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("Edge")>-1&&setTimeout(P,h)),w});
define("common/trackingStreams",["vanillajs","amdloaders"],function(){function l(l,e,t){if(e=Array.prototype.slice.call(e),l.handler)try{l.handler.apply(null,e),t()}catch(l){}else if(l.list){l.list.length>=l.limit&&(l.list=l.list.slice(0,l.list.length-1),l.callbacks=l.callbacks.slice(0,l.callbacks.length-1)),l.list.unshift(e),l.callbacks.unshift(t);var r=l.handlerModule;r&&l.handlerMethod&&(l.handlerModule=null,require([r+""],function(e){n(l,e[l.handlerMethod],0)}))}}function e(l,e){if(e=Array.prototype.slice.call(e),l.handler)try{l.handler.apply(null,e)}catch(l){}else if(l.list&&l.list.length<l.limit&&(l.list.push(e),l.handlerModule&&l.handlerMethod)){var t=l.handlerModule;l.handlerModule=null,require([t+""],function(e){n(l,e[l.handlerMethod],0)})}}function n(l,n,t){if(t=t||0,l.handler&&l.priority>=t)return!1;l.handler=n,l.priority=t;var a=l.list;l.list=null;for(var i=0;i<a.length;++i)try{n.apply(null,a[i]),l.callbacks&&l.callbacks[i]&&l.callbacks[i]()}catch(n){l!==r&&e(r,[n,l.name+" dispatch error"])}}var t="trjs!ta/Core/TA.Record",r={name:"errorQ",limit:3,handler:null,handlerModule:"trjs!ta/util/Error",handlerMethod:"record",list:[]},a={name:"GARecordQ",limit:100,handler:null,handlerModule:t,handlerMethod:"trackEventOnPage",list:[]},i={name:"GARecordOnPageOnceQ",limit:100,handler:null,handlerModule:t,handlerMethod:"trackEventOnPageOnce",list:[]},d={name:"SetCookieQ",limit:100,handler:null,handlerModule:t,handlerMethod:"setEvtCookie",list:[]},c={name:"UnifiedUserTrackingQ",limit:100,handler:null,handlerModule:t,handlerMethod:"trackUnifiedEvent",list:[]},o={name:"redirectCallback",limit:1,handler:null,handlerModule:t,handlerMethod:"setEvtCookie",list:[],callbacks:[]};return{error:function(){e(r,arguments)},setErrorHandler:function(l,e){n(r,l,e)},trackEvent:function(){e(a,arguments)},trackEventOnPageOnce:function(){e(i,arguments)},setTrackEventHandler:function(l,e){n(a,l,e)},setEvtCookie:function(){e(d,arguments)},trackUnifiedEvent:function(l,n,t){e(c,arguments)},redirectWithEvt:function(){var e=Array.prototype.slice.call(arguments);e.length>0&&"function"==typeof e[0]&&l(o,e.slice(1),e[0])}}});
define("ns-exporter",["vanillajs"],function(r){function n(r){if("undefined"==typeof window)return null;if("undefined"==typeof r&&(r=window),!r)return require.defined("ta/util/Error")&&require("ta/util/Error").record(null,"Using ns-exporter:exportTo without a namespace"),null;if("string"==typeof r){var n=window;n.ta||(ta={}),r.split(".").forEach(function(r){n[r]||(n[r]={}),n=n[r]}),r=n}return r}return{exportTo:function(r,e,t){if(e=n(e),!e)return!1;for(var i in r)!r.hasOwnProperty(i)||t&&i in e||(e[i]=r[i]);return!0},createNs:function(r,e,t){return!!(e=n(e))&&void(e[t]=r)}}});
define("ta/Core/TA.FireEvent",["vanillajs"],function(){var n={},e={};return n.on=function(n,r){var i=e[n];i||(i=e[n]=[]),i.push(r)},n.fireEvent=function(n,r){var i=Array.prototype.slice.call(arguments),t=e[n];i.shift(),t&&t.slice(0).forEach(function(n){try{n.apply(null,i)}catch(n){window.IS_DEBUG&&(console.error||console.log)("Exception in TA.FireEvent handler",n)}})},n.off=function(n,r){if(r){var i,t=e[n];t instanceof Array&&(i=t.indexOf(r),i>=0&&t.splice(i,1))}else delete e[n]},n.hasEventListener=function(n){return!!e[n]},n});
define("ta/Core/TA.Event",["vanillajs","common/trackingStreams","ns-exporter","ta/Core/TA.FireEvent"],function(vanilla,tracks,nsExporter,fireEvent){function _makeClosure(e,t){var n=this;return t=Array.prototype.slice.call(t),function(){e.apply(n,t)}}function QueueTimer(e,t){var n=0,r=0,o=[],a=0,u=!1;this.start=function(){n&&clearTimeout(n),a=Date.now()},this.end=function(i){var c=Date.now(),f=c-a;r+=f;var l=""+f+"ms ["+(i||"")+"]",s=e+(t?"-after":"");u?console.error("Straggler for "+s+": "+l):(o.push(l),n=setTimeout(function(){console.error("Timing for "+s+": "+r+"ms\n"+o.sort(function(e,t){return parseInt(e)-parseInt(t)}).join("\n")),u=!0},2e3))}}var exports={on:fireEvent.on,off:fireEvent.off,fireEvent:fireEvent.fireEvent,hasEventListener:fireEvent.hasEventListener};exports.call=function(e,t,n,r){if(null==t)return IS_DEBUG&&alert("You must pass the event.\n\nUsage:\nta.call('ta.namespace.Class.function', event);"),!1;if(null==e)return IS_DEBUG&&alert("ta.call of undefined function"),!1;var o=e;if("function"==typeof e)e="<func>";else if(!/^ta\.[\w\d\.]+$/.test(e))return IS_DEBUG&&alert("Invalid function name. Must be of the form: ta.namespace.Class.function"),!1;var a=t||window.event;["stopPropagation","preventDefault"].forEach(function(e){a[e]||(a[e]=function(){})}),a.stop||(a.stop=function(){a.preventDefault(),a.stopPropagation()}),n||(n=a.target||a.srcElement),n||tracks.error(null,"ta.call re-wrap fail (non-DOM element) - "+e,t,{"funcName":e});var u=arguments,i=Array.prototype.slice.call(u,3);i.splice(0,0,a,n);try{return i.unshift({callback:_ta_call_defer,evt:a}),i.unshift(o),exports.run.apply(null,i)}catch(n){tracks.error(n,"ta.call - "+e,t)}return!1};var _ta_call_defer=function(e,t){t&&delete t.evt,exports.run.apply(null,arguments)};exports.run=function(e,t){var n=arguments,r=Array.prototype.slice.call(n,2);try{var o=exports.fn(e);if("function"==typeof o){var a=o.apply(window,Array.prototype.slice.call(r));if(t&&t.onComplete){var u=exports.fn(t.onComplete);u&&u(a)}return a}t&&t.evt&&(t.evt.stopPropagation?t.evt.stopPropagation():t.evt.cancelBubble=!0,t.evt.preventDefault?t.evt.preventDefault():t.evt.returnValue=!1);var i=_makeClosure(t&&t.callback||exports.run,arguments);require(["trjs!ta/Core/TA.Load"],function(t){try{t.load(e,i)}catch(t){tracks.error(t,"ta.run - "+e)}})}catch(t){tracks.error(t,"ta.run - "+e)}return!1};var OneTimeFunctionQueue=function(e,t,n){function r(){u=!0,c()}var o,a=[],u=!!n,i=function(n,r){o&&o.start();try{n()}catch(n){try{tracks.error(n,"OneTimeFunctionQueue "+e+(t?"-after":"")+(r?"-"+r:""))}catch(e){}}o&&o.end(r)},c=function(){if(a.sort(function(e,t){return e.priority-t.priority||e.subpriority-t.subpriority}),t){var e=1;a.forEach(function(t){setTimeout(i.bind(null,t.func,t.name),e++)})}else a.forEach(function(e){i(e.func,e.name)});a=[]};null!=e&&(window.addEventListener?window.addEventListener(e,r,!1):window.attachEvent&&("DOMContentLoaded"==e?window.attachEvent("onload",r):"load"==e?window.attachEvent("on"+e,function(){setTimeout(r,1)}):window.attachEvent("on"+e,r))),this.addToQueue=function(t,n,r){return t?("string"==typeof n&&(r=n,n=!1),void(u?i(t,r):(n=n||100+a.length,a.push({func:t,priority:n,name:r,subpriority:a.length})))):void tracks.error(null,"addToQueue for "+e+" queue - no function")},this.executeQueue=function(){c()}},loaded="undefined"!=typeof document&&"complete"===document.readyState,ready="undefined"!=typeof document&&"interactive"===document.readyState||loaded,_readyQ=new OneTimeFunctionQueue("DOMContentLoaded",!1,ready),_loadQ=new OneTimeFunctionQueue("load",!1,loaded),_afterLoadQ=new OneTimeFunctionQueue("load",!0);ready||_loadQ.addToQueue(function(){_readyQ.executeQueue()},-999999999,"checkReadyQueue"),_loadQ.addToQueue(function(){_afterLoadQ.executeQueue()},999999999,"afterLoadQueue"),exports.queueForReady=function(e,t,n){_readyQ.addToQueue(e,t,n)},exports.queueForLoad=function(e,t,n){_loadQ.addToQueue(e,t,n)},exports.queueForAfterLoad=function(e,t){_afterLoadQ.addToQueue(e,0,t)},exports.fn=function(fn){switch(typeof fn){case"function":return fn;case"string":var f=!1;try{f=eval(fn)}catch(e){}if(!f){var ns=fn.split("."),n=ns.pop();try{ns=eval(ns.join(".")),f=ns&&ns._magic&&ns._magic.partial(n)}catch(e){}}if(f&&"function"==typeof f)return f}return null},exports.fireClick=function(e){if(document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),e.dispatchEvent(t)}else document.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},exports.throttle=function(e,t,n,r){function o(){delete m_throttles[t],a.cb()}var a,u=(new Date).getTime();if(t in m_throttles){if(a=m_throttles[t],u-a.lastReset<a.minResolution)return void(a.cb=e)}else a=m_throttles[t]={start:u,minResolution:Math.max(Math.floor(n/10),50)};a.cb=e,a.timeout&&clearTimeout(a.timeout),r&&u-a.start>r?o():(a.lastReset=u,a.timeout=setTimeout(o,n))};var m_throttles={};return nsExporter.exportTo(exports,ta),exports});
define("ta/Core/TA.LocalStorage",["vanillajs","common/trackingStreams","ns-exporter"],function(e,t,n){"use strict";var r=!1,o="taLsTest",i="1",a="TALocalStorageCurrentSessionId",u=!1,s="session-",l=!1,c=[],f=[],v=[],g=function(){return!(!u&&!l)},m=function(e){return!!g()||(t.error(null,"Accessing localStorage session cookie before session logic intialized: "+e),!1)},S=function(e){return d(e,"value")},y=function(e){return d(e,"now")},d=function(e,t){if(!t)return null;try{var n,o=JSON.parse(r.getItem(e)||"0");return o?o.ttl&&o.ttl+o.now<(new Date).getTime()?(r.removeItem(e),null):o.hasOwnProperty(t)?(r.setItem("512",o[t]),n=r.getItem("512"),r.removeItem("512"),n):null:null}catch(e){}return null},h=function(e,t){try{var n=JSON.parse(e||"0");return n&&n.hasOwnProperty(t)?n[t]:null}catch(e){return null}},w=function(e){try{var t=JSON.parse(r.getItem(e)||"0");return t?t.ttl&&t.ttl+t.now<(new Date).getTime()?(r.removeItem(e),null):t.value:null}catch(e){}return null},I=function(e){try{r.removeItem(e)}catch(e){}},p=function(e,t){var n=y(e);if(t&&n&&n<(new Date).getTime()-t)try{r.removeItem(e)}catch(e){}},O=function(e){try{var t=r.getItem(e);if(null!==t&&void 0!==t)return!0}catch(e){}return!1},T=function(e,t,n){try{r.setItem(e,JSON.stringify({ttl:n||0,now:(new Date).getTime(),value:t}))}catch(e){}},k=function(e){if(l=!0,!e)return t.error(null,"Attempting to initialize localStorage with invalid sesion key: "+e),!1;if(!V())return!1;if(u=S(a),!u||u!=e){u=e,T(a,u);var n=S("latestPageServlet");n&&T("sessionEntryServlet",n),E(),O(a)&&require.defined("ta/Core/TA.Store")&&require("ta/Core/TA.Store").store("isFirstSessionPageView",!0)}for(var r=0;r<v.length;r++)v[r]();v=[]},E=function(){try{var e=s+u,t=new RegExp("^"+s);if(r.length)for(var n=0;n<r.length;n++){var o=r.key(n);try{t.test(o)&&o!=e&&I(o)}catch(e){}}}catch(e){}},V=function(){try{if(r&&r.setItem){r.setItem(o,i);var e=r.getItem(o)!=i;return r.removeItem(o),e&&(r=!1),!!r}}catch(e){}return!1},N=function(e){try{r.setItem("session-"+u,JSON.stringify(e))}catch(e){}},b=function(){try{var e=r.getItem("session-"+u);if(e)return JSON.parse(e)}catch(e){}return{}},A=function(e){c.push(e)},C=function(e,t){f[e]||(f[e]=[]),f[e].push(t)},J=function(e){"function"==typeof e&&(g()?e():v.push(e))},L={enabled:V(),get:S,getObject:w,set:T,remove:I,removeIfElapsed:p,has:O,getTimeStamp:y,updateSessionId:k,onSessionStorageChange:A,onValueChange:C,canUseSession:g,onLocalStorageSessionInit:J,getSessionKey:function(e){if(!m(e))return null;var t=b();return t?t[e]:null},setSessionKey:function(e,t){if(m(e)){var n=b();n||(n={}),n[e]=t,N(n)}},removeSessionKey:function(e){if(m(e)){var t=b();t&&(delete t[e],N(t))}},hasSessionKey:function(e){if(!m(e))return!1;var t=b();if(t){var n=t[e];if(null!==n&&void 0!==n)return!0}return!1},setStorage:function(e){r=e,L.enabled=V()}};if("undefined"!=typeof window){var j=!1;try{j=window.localStorage}catch(e){}L.setStorage(j),function(){function e(e){if(e=e||window.event,!u||e.key&&e.key!=="session-"+u)e.key&&f[e.key]&&(e.oldValueObj=e.oldValue&&h(e.oldValue,"value"),e.newValueObj=e.newValue&&h(e.newValue,"value"),f[e.key].forEach(function(t){t(e)}));else for(var t=0,n=c.length;t<n;t++)c[t](e)}window.addEventListener?window.addEventListener("storage",e,!1):window.attachEvent&&window.attachEvent("onstorage",e)}()}return n.createNs(L,"ta","localStorage"),L});
define("ta/util/SessionStorage",["vanillajs","ns-exporter"],function(e,t){var n={};return n.canUseSessionStore=function(){try{if(window.sessionStorage){var e="taLsTest";sessionStorage.setItem(e,"1");var t=sessionStorage.getItem(e);return"1"==t}}catch(e){return!1}},n.canUseSessionStore()?(n.setObject=function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},n.getObject=function(e){var t=sessionStorage.getItem(e);return t?JSON.parse(t):null},n.remove=function(e){sessionStorage.removeItem(e)}):(n.setObject=function(){},n.getObject=function(){return null},n.remove=function(){}),t.exportTo(n,"ta.util.sessionStorage"),n});
define("ta/util/LocalStorage",["vanillajs","ns-exporter","ta/Core/TA.LocalStorage","ta/util/SessionStorage"],function(e,t,o,a){"use strict";var n={canUseLocalStore:function(){return o.enabled},canUseSessionStore:function(){return a.canUseSessionStore()}};return t.exportTo(n,"ta.util.localstorage"),n});
define("ta/util/Cookie",["vanillajs","ns-exporter"],function(e,o){var t=0,n=5e3,i={cookiePIDName:"NPID",ONE_DAY:864e5,ONE_HOUR:36e5,setPIDCookie:function(e){i.write(i.cookiePIDName,e,n,"/",window.cookieDomain)},removePIDCookie:function(){try{i.write(i.cookiePIDName,"",t,"/",window.cookieDomain)}catch(e){}},canSet:function(){return document.cookie="SessionTest=true",!!document.cookie.match("(^|;)\\s*SessionTest=true\\s*(;|$)")&&(document.cookie="SessionTest=; expires=Thu, 01 Jan 1970 00:00:01 GMT",!0)},readRaw:function(e){e=e.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1");var o=document.cookie.match(new RegExp("(?:^|;)\\s*"+e+"=([^;]*)"));return!!o&&o[1]},remove:function(e,o,t){i.write(e,"",new Date(1e3),o,t)},write:function(e,o,t,n,i){"number"==typeof t&&(t=new Date(Date.now()+t)),document.cookie=e+"="+o+(t?"; expires="+t.toUTCString():"")+(n?"; path="+n:"")+(i?"; domain="+i:"")},setOneTimeCookieOnFQDN:function(e,o){return i.write(e,o,5e3),!0},setOneTimeCookie:function(e,o){return i.write(e,o,5e3,null,window.cookieDomain),!0}};return o.exportTo({setPID:i.setPIDCookie}),o.createNs(i,"ta.util","cookie"),i});
define("ta/util/Currency",["vanillajs","ta/util/Cookie","common/trackingStreams","ns-exporter"],function(r,n,t,e){var o={},a="‏",i="؜",u=" ",c="‎";return o.formatCurrency=function(r,n,t,e){var a=n?n:"USD",i=window.currencySymbol[a],f=r;e||(f=o.formatThousands(Math.round(r)));var s=i[0],l=i[1],y=document.body.classList;return y.contains("lang_ar")?o.isCurrencyAbbreviation(s)?f+u+s+c:s+c+u+f:t?l?f+u+s:s+u+f:l?f+s:s+f},o.formatCurrencyRange=function(r,n,t,e){var c,f=document.body.classList;return c=f.contains("lang_ar")?u+"-"+i+u:ta.util.i18n.isRtl()?u+"-"+a+u:u+"-"+u,e?(r=o.formatCurrency(r,t,!0),n=o.formatCurrency(n,t,!0),r+c+n):(r=o.formatCurrency(r,t),n=o.formatCurrency(n,t),r+c+n)},o.isCurrencyAbbreviation=function(r){return/^[a-zA-Z]+[^a-zA-Z0-9]?$/i.test(r)},o.formatThousands=function(r){if("undefined"==typeof groupingSize||"undefined"==typeof groupingSeparator||groupingSize<1)return r;for(var n="",t=""+r,e=1;e<=t.length;e++)n=t.charAt(t.length-e)+n,e%groupingSize==0&&e<t.length&&(n=groupingSeparator+n);return n},o.setCurrencyAndReload=function(r,e){var o="SetCurrency";n.write(o,r,15e3),e=e?e+"|":"",t.trackEvent("CurrencyPicker","Select",e+r),location.reload(!0)},e.exportTo(o,"ta.util.currency"),o});
define("mixins/Events",["vanillajs"],function(e){"use strict";var t=function(){this.events={},Array.prototype.slice.call(arguments).forEach(function(e){this.events[e]=[]},this)};return t.create=function(){function e(e){return t.apply(this,e)}return e.prototype=t.prototype,function(){return new e(arguments)}}(),t.extend=function(e,r){var i=Object.create(t.prototype);return i.delegate=e,t.apply(i,r),i},t.prototype.on=t.prototype.addListener=function(e,t){return void 0!==this.events[e]?this.events[e].push(t):this.delegate?this.delegate.on(e,t):this.events[e]=[t],this},t.prototype.off=t.prototype.removeListener=function(e,t){if(void 0!==this.events[e])if(t){var r=this.events[e].indexOf(t);r>=0&&this.events[e].splice(r,1)}else this.events[e].length=0;else this.delegate&&this.delegate.removeListener(e,t);return this},t.prototype.removeAllListeners=function(e){if(e&&void 0!==this.events[e])this.events[e].length=0;else if(e)this.delegate&&this.delegate.removeAllListeners&&this.delegate.removeAllListeners(e);else{for(var t in this.events)this.events.hasOwnProperty(t)&&(this.events[t].length=0);this.delegate&&this.delegate.removeAllListeners&&this.delegate.removeAllListeners()}},t.prototype.hasListeners=function(e){if(e){if(this.events.hasOwnProperty(e))return this.events[e].length>0;if(this.delegate&&this.delegate.hasListeners)return this.delegate.hasListeners(e)}return!1},t.prototype.emit=function(e,t){if(this.events[e]){var r=Array.prototype.slice.call(arguments,1);this.events[e].slice(0).forEach(function(t){if(t)try{t.apply(this,r)}catch(t){"string"==typeof t&&(t=new Error(t));var i="Error in event handler for "+e;if(require.defined("ta/util/Error"))require("ta/util/Error").record(t,i);else{var s=require.defined("ta")&&require("ta");s&&s.log&&s.log.error?s.log.error(t,i):s&&s.m&&s.m.recordJSError?s.m.recordJSError([t,i]):"undefined"!=typeof console&&(console.error||console.log)(i,t)}}},this)}else this.delegate&&this.delegate.emit&&this.delegate.emit.apply(delegate,arguments);return this},t});
define("ta/registration/RegEvents",["mixins/Events"],function(e){return new e("success")});
define("post_rollup_globals_shim",["page-model","ns-exporter","common/trackingStreams","ta/registration/RegEvents"],function(e,r,t,i){var n=e.session;i.on("success",function(){e.session.loggedIn=!0});var o={uid:n.uid,userLoggedIn:n.loggedIn,userSecurelyLoggedIn:n.securelyLoggedIn};r.exportTo(o,"ta");try{var s=XMLHttpRequest.prototype,u=s.send;s.send=function(e){try{var r=new RegExp("^(/[^/]|(http(s)?:)?//"+window.location.hostname+")");if(this._url&&r.test(this._url)){var t=n.uid;if(require.defined("redux-init")){var i=require("redux-init");i&&i.tracking&&i.tracking.uid&&(t=i.tracking.uid)}this.setRequestHeader("X-Puid",t)}}catch(e){}u.call(this,e)};var a=s.open;s.open=function(e,r){return this._url=r,a.apply(this,arguments)}}catch(e){t.error(e,"Error intercepting AJAX for tracking")}});
define("ta/Core/TA.PageVisibility",["vanillajs"],function(e){"use strict";function n(){a=!1;for(var e in s)s.hasOwnProperty(e)&&s[e]()}function t(){a=!0;for(var e in f)f.hasOwnProperty(e)&&f[e]()}function d(){var e=document[c]?f:s;for(var n in e)e.hasOwnProperty(n)&&e[n]()}function i(){"undefined"==typeof document[c]?document.addEventListener?(document.addEventListener("focus",n,!1),document.addEventListener("blur",t,!1)):(document.attachEvent("onfocus",n),document.attachEvent("onblur",t)):document.addEventListener(r,d),m=!0}function o(){"undefined"==typeof document[c]?document.removeEventListener?(document.removeEventListener("focus",n,!1),document.removeEventListener("blur",t,!1)):(document.detachEvent("onfocus",n),document.detachEvent("onblur",t)):document.removeEventListener(r,d),a=!1,m=!1}function u(e,n){var t=e.indexOf(n);return t>=0?e.splice(t,1):null}var c,r,f=[],s=[],m=!1,a=!1;return"undefined"!=typeof document.hidden?(c="hidden",r="visibilitychange"):"undefined"!=typeof document.mozHidden?(c="mozHidden",r="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(c="msHidden",r="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(c="webkitHidden",r="webkitvisibilitychange"),{addFocusListener:function(e){s.push(e),m||i()},addBlurListener:function(e){f.push(e),m||i()},removeFocusListener:function(e){e?u(s,e):s.length=0,0===s.length&&0===f.length&&o()},removeBlurListener:function(e){e?u(f,e):f.length=0,0===s.length&&0===f.length&&o()},hidden:function(){return"undefined"!=typeof document.hidden?document.hidden:a}}});
define("utils/bounceRateUtils",["ta/Core/TA.PageVisibility","common/trackingStreams","ta/Core/TA.LocalStorage","ta/util/SessionStorage","page-model"],function(e,t,n,r,a){"use strict";function o(t){if(t&&t.length&&n.canUseSession()&&r.canUseSessionStore()){w=t;var o=c(t),f=a.session.hasReferral,b=f&&a.session.isExternalReferral,j=!window.performance||!performance.navigation||0===performance.navigation.type,v=!f&&j;if(v||b||!o)i(t),s(t,0);else if(!O(w)){var d=r.getObject(S);null!==d&&0!==d||(d=Date.now()-r.getObject(m)),r.setObject(m,Date.now()),s(t,d)}O(w)||(e.addFocusListener(l),e.addBlurListener(g),n.onSessionStorageChange(u))}}function i(e){r.setObject(d,v()),r.setObject(m,Date.now()),r.setObject(S,0);for(var t=0;t<e.length;t++)r.setObject(j(e[t]),!1)}function c(e){for(var t=0;t<e.length;t++)if(null===r.getObject(j(e[t])))return!1;return null!==r.getObject(d)&&null!==r.getObject(m)&&null!==r.getObject(S)}function s(t,n){if(!e.hidden())for(var a=0;a<t.length;a++){var o=t[a],i=r.getObject(j(o));i||b(o,n)}}function u(e){if(e&&e.newValue&&!O(w)){try{var n=JSON.parse(e.newValue)}catch(e){t.error(e,"bounceRateUtils._receiveLandingInfo: error parsing json from local session storage")}var a=n&&n[h],o=a&&a[d],i=r.getObject(d);if(o&&i&&o===i)for(var c in a)c!==d&&a.hasOwnProperty(c)&&r.setObject(c,a[c])}}function f(e,t){var a={};a[d]=r.getObject(d),a[e]=t,n.setSessionKey(h,a),n.removeSessionKey(h)}function l(){O(w)||(r.setObject(m,Date.now()),s(w,r.getObject(S)))}function g(){if(!O(w)){for(var e=0;e<p.length;e++)clearTimeout(p[e]);p=[];var t=r.getObject(m),n=r.getObject(S);if(null!==t&&null!==n){var a=n+(Date.now()-t);r.setObject(S,a),f(S,a)}}}function b(n,a){var o=setTimeout(function(){if(!e.hidden()){var o=j(n),i=r.getObject(o),c=r.getObject(m),s=(a+(Date.now()-c))/1e3;i||(t.trackEvent("landingBounceRate",n+"s","actualTime : "+s+"s"),r.setObject(o,!0),f(o,!0))}},1e3*n-a);p.push(o)}function O(e){for(var t=0;t<e.length;t++)if(!r.getObject(j(e[t])))return!1;return!0}function j(e){var t="brHasSentTimeRecord";return t+e}function v(){return Date.now()+Math.floor(1e3*Math.random()).toString()}var d="brLandingId",m="brStartTimeStamp",S="brTimeElapsed",h="brLandingInfo",w=[],p=[];return{init:o}});
define("siteops/distil",[],function(){function t(t){var e=document.createElement("script"),n="https://cdn.distiltag.com/api/v1/defense/script/SMXQIXqAfX8m29tJb8E1tB2BHsWt3C6qnvqiQb4K?AYAH_P1="+t;e.type="text/javascript",e.src=n,e.async=!0,document.getElementsByTagName("head")[0].appendChild(e)}return t});
define("servlets/standardTemplateSupport",["page-model","mobile/lite/image-loader","ta/Core/TA.Event","ta/Core/TA.LocalStorage","ta/util/LocalStorage","ta/util/Currency","ta/util/SessionStorage","post_rollup_globals_shim","utils/bounceRateUtils","siteops/distil"],function(s,e,i,o,t,a,n,l,u,r){function d(){i.queueForLoad(function(){e.init(200)},"lazy load images"),s&&s.session&&s.session.sessionId&&o.updateSessionId(s.session.sessionId),u.init([15,30]),s&&s.session&&s.session.distilTag&&r(s.session.ta_uuid)}return{footerInit:d}});
define("purify",["vanillajs"],function(e){function n(e,n){return e?t(e)?(window.IS_DEBUG&&console.error("You're using a jQuery object where you shouldn't. Check the stack trace and fix it!"),n&&e.length>1?e.get():e.get(0)):e.forEach&&(e.length<=1||!n)?e[0]:e:e}function t(e){return!!(e.animate&&e.get&&e.eq&&e.each)}return n});
define("babel/babel-helpers",[],function(){var e={};return e["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.jsx=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(r,t,n,o){var i=r&&r.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});if(1===u)t.children=o;else if(u>1){for(var f=Array(u),l=0;l<u;l++)f[l]=arguments[l+3];t.children=f}return{$$typeof:e,type:r,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),e.asyncIterator=function(e){if("function"==typeof Symbol){if(Symbol.asyncIterator){var r=e[Symbol.asyncIterator];if(null!=r)return r.call(e)}if(Symbol.iterator)return e[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},e.asyncGenerator=function(){function e(e){this.value=e}function r(r){function t(e,r){return new Promise(function(t,o){var a={key:e,arg:r,resolve:t,reject:o,next:null};u?u=u.next=a:(i=u=a,n(e,r))})}function n(t,i){try{var u=r[t](i),a=u.value;a instanceof e?Promise.resolve(a.value).then(function(e){n("next",e)},function(e){n("throw",e)}):o(u.done?"return":"normal",u.value)}catch(e){o("throw",e)}}function o(e,r){switch(e){case"return":i.resolve({value:r,done:!0});break;case"throw":i.reject(r);break;default:i.resolve({value:r,done:!1})}i=i.next,i?n(i.key,i.arg):u=null}var i,u;this._invoke=t,"function"!=typeof r["return"]&&(this["return"]=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(e){return this._invoke("next",e)},r.prototype["throw"]=function(e){return this._invoke("throw",e)},r.prototype["return"]=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new r(e.apply(this,arguments))}},"await":function(r){return new e(r)}}}(),e.asyncGeneratorDelegate=function(e,r){function t(t,n){return o=!0,n=new Promise(function(r){r(e[t](n))}),{done:!1,value:r(n)}}var n={},o=!1;return"function"==typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return o?(o=!1,e):t("next",e)},"function"==typeof e["throw"]&&(n["throw"]=function(e){if(o)throw o=!1,e;return t("throw",e)}),"function"==typeof e["return"]&&(n["return"]=function(e){return t("return",e)}),n},e.asyncToGenerator=function(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,i){try{var u=r[o](i),a=u.value}catch(e){return void t(e)}return u.done?void e(a):Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}},e.classCallCheck=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},e.createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),e.defineEnumerableProperties=function(e,r){for(var t in r){var n=r[t];n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t,n)}return e},e.defaults=function(e,r){for(var t=Object.getOwnPropertyNames(r),n=0;n<t.length;n++){var o=t[n],i=Object.getOwnPropertyDescriptor(r,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e},e.defineProperty=function(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e},e["extends"]=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},e.get=function e(r,t,n){null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,t);if(void 0===o){var i=Object.getPrototypeOf(r);return null===i?void 0:e(i,t,n)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(n)},e.inherits=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)},e["instanceof"]=function(e,r){return null!=r&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](e):e instanceof r},e.interopRequireDefault=function(e){return e&&e.__esModule?e:{"default":e}},e.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r},e.newArrowCheck=function(e,r){if(e!==r)throw new TypeError("Cannot instantiate an arrow function")},e.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},e.objectWithoutProperties=function(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},e.possibleConstructorReturn=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r},e.selfGlobal="undefined"==typeof global?self:global,e.set=function e(r,t,n,o){var i=Object.getOwnPropertyDescriptor(r,t);if(void 0===i){var u=Object.getPrototypeOf(r);null!==u&&e(u,t,n,o)}else if("value"in i&&i.writable)i.value=n;else{var a=i.set;void 0!==a&&a.call(o,n)}return n},e.slicedToArray=function(){function e(e,r){var t=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(t.push(u.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e.slicedToArrayLoose=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var t,n=[],o=e[Symbol.iterator]();!(t=o.next()).done&&(n.push(t.value),!r||n.length!==r););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},e.taggedTemplateLiteral=function(e,r){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))},e.taggedTemplateLiteralLoose=function(e,r){return e.raw=r,e},e.temporalRef=function(e,r,t){if(e===t)throw new ReferenceError(r+" is not defined - temporal dead zone");return e},e.temporalUndefined={},e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},e.toConsumableArray=function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)},e});
define("widget/components",["babel/babel-helpers"],function(e){var t={};return t.initComponentWidgets=function(e,o){var n=t.getComponentWidgets(e,o);return 0===n.length?n:(require(["babel/babel-helpers","@ta/platform.runtime"],function(e,t){n.forEach(function(e){var o=e.getAttribute("data-component"),n=e.id,r=e.getAttribute("data-component-props"),i="page-manifest"===r?t.pageManifestComponents[n]:JSON.parse(r);t.importBundle(o).then(function(){var e=!!document.getElementById(n);e&&t.createRoot(n,o,i)})})}),n)},t.getComponentWidgets=function(e,t){var o=e&&e.querySelectorAll(".component-widget[data-component"+(t?"='"+t+"'":"")+"]");return o?Array.prototype.slice.apply(o):[]},t.contains=function(e,o,n){var r=t.getComponentWidgets(o||document.body,n);return r.some(function(t){return t.contains(e)})},t.termsOfUseGate=function(){return new Promise(function(e){require(["babel/babel-helpers","@ta/platform.runtime","redux-init"],function(t,o,n){if(!n.getState().auth.loggedInUserId)return e();var r="@ta/social.terms-of-use-gate";o.importBundle(r).then(function(){if(!document||!document.body)return e("Document or document body is not defined");var t=document.createElement("div");t.id=r,document.body.appendChild(t),o.createRoot(t.id,r,{onComplete:function(){o.destroyRoot(t.id),t.remove(),e()},onClose:function(n){n.trigger&&(o.destroyRoot(t.id),t.remove(),e("User has exited the gate without completing"))}})})})})},t.loadOverlayComponent=function(e){return new Promise(function(t){return require(["babel/babel-helpers","@ta/platform.runtime"],function(o,n){n.importBundle(e).then(function(){var r=document.createElement("div"),i=Math.random(),a=e+":"+i;r.id=a,document.body.appendChild(r);var u=function(t){[].concat(o.toConsumableArray(document.querySelectorAll(".ui_overlay"))).forEach(function(e){e.remove()}),n.createRoot(a,e,t)},d=function(){n.destroyRoot(a),r.remove()};t({createRoot:u,destroyRoot:d})})})})},t.socialGate=function(e,t){return new Promise(function(o){require(["babel/babel-helpers","@ta/platform.runtime"],function(n,r){var i="@ta/social.immediate-login-gate";r.importBundle(i).then(function(){if(!document||!document.body)return o("Document or document body is not defined");var n=document.createElement("div");n.id=i,document.body.appendChild(n),r.createRoot(n.id,i,{flowOrigin:t,onComplete:function(){return r.destroyRoot(n.id),n.remove(),o()},onClose:function(e){if(e.trigger)return r.destroyRoot(n.id),n.remove(),o("User has exited the gate without completing")},pid:e})})})})},t});
define("ta/prwidgets",["vanillajs","ns-exporter","purify","amdloaders","widget/components"],function(t,e,r,n,i){function a(t,e){var r,n=this.element._prWidgetContext;return"string"==typeof t?(t=[t],r=o(n.widget.name,t),r=r[0]&&w(r[0]),r=r&&l(n,t,[r]),r&&r[0]):(t=t.slice(),void w(o(n.widget.name,t),function(){var r=l(n,t,arguments);e&&e.apply(null,r)}))}function o(t,e,r){var n=b[t];if(!n)return[];e=e.slice();for(var i=0;i<e.length;++i){var a=e[i],o=a.replace(/^[a-z]+!/,""),l=a.substring(0,a.length-o.length);"trhtml!"===l||("widget"===o?e[i]=null:n["trjs!"===l?o:a]&&(e[i]=l+"$prw/"+t+"/"+o))}return e}function l(t,e,r){var n,i;if(r=Array.prototype.slice.apply(r),0===e.length)return r;var a=b[t.widget.name];if(r.length<e.length)for(n=o(t.widget.name,e);(i=r.length)<e.length;)n[i]?r.push(w(n[i])):r.push(null);for(var i=0;i<e.length;++i){var l=e[i].replace(/^trjs!/,"");t[l]?r[i]=t[l]:a[l]&&"function"==typeof r[i]&&(r[i]=r[i].call(null,t))}return r}function u(t){t._prWidgetContext=this.element._prWidgetContext}function p(t){var e,r,n,i,o,l;if(t&&!t._prWidgetContext&&(e=t.getAttribute("data-prwidget-init"),"string"==typeof e&&(n=t.getAttribute("data-prwidget-name")))){e=d(e),o=d(t.getAttribute("data-scriptFlags")).reduce(function(t,e){return t[e]=!0,t},{});var p=e.length;if(l=t.getAttribute("data-prwidget-deferred")){l=d(l);for(var i=0;i<l.length;i++)e.push(l[i])}var f=b[n];for(f||(b[n]=f={}),r={},i=0;i<e.length;i++)f[e[i]]=!0;r.widget={"name":n,"element":t,"modules":e,"flags":o,"markMine":u,"require":a},t._prWidgetContext=r,r.widget.require(e.slice(0,p),function(){if(t._prPendingClick){var e=t._prPendingClick;t._prPendingClick=void 0,e.key===v&&window.setTimeout(function(){y.call.apply(y,e.args)},0)}})}}function f(t,e){var n,i;if(!e&&(t=r(t,!0),t.forEach))return void t.forEach(function(t){y.initWidgets(t,!0)});for(n=t.querySelectorAll(".prw_rup"),i=0;i<n.length;i++)p(n[i]);for(n=t.querySelectorAll(".prw_dyn"),i=0;i<n.length;i++)p(n[i])}function d(t){return"string"!=typeof t?[]:t.match(/[^\s,]+(\s+[^\s,]+)*/g)||[]}function g(t){var e=t._prWidgetContext;if(e)return e;for(t=t.parentNode;t&&t.hasAttribute;t=t.parentNode){if(e=t._prWidgetContext)return e;if(t.hasAttribute("data-prwidget-init"))break}}function c(t){for(var e=t;e&&e.hasAttribute;e=e.parentNode)if(e.hasAttribute("data-prwidget-init"))return e}function s(t){t&&t.nodeName&&A.test(t.className||"")&&(t.className=(t.className||"").replace(A,""))}function h(t){t&&t.nodeName&&!A.test(t.className||"")&&(t.className=(t.className||"")+" handlerLoading")}var v,y={},m=define,w=require,b={},A=/\bhandlerLoading *\b/g;return y.define=function(t,e,r,n,i){if(e=e.replace(/\.js$/i,""),"[object Array]"!==Object.prototype.toString.call(n)&&(n=[]),r&&r.length){var a=b[t];a||(b[t]=a={});for(var u=0;u<r.length;u++)a[r[u]]=!0}m("$prw/"+t+"/"+e,o(t,n),function(){var t=Array.prototype.slice.apply(arguments);return function(r){return r[e]||(r[e]=i.apply(null,l(r,n,t))),r[e]}})},y.redefine=function(t,e){return w.undef&&w.undef("$prw/"+t+"/"+e),y.define.apply(this,arguments)},y.getjs=function(t,e){var r=g(t);if(r&&"string"==typeof e)return r.widget.require(e)},y.initWidgets=function(t,e){t||(t=document),("string"!=typeof t||(t=document.getElementById(t)))&&(f(t,e),i.initComponentWidgets(t))},y.getWidgetElement=function(t,e){return e=e||document.body,e.querySelector(".prw_"+t)},y.call=function(t,e,r,n){if("string"!=typeof t||!r)throw"ta.prwidgets.call() requires method, event||null, element";var i=g(r),a=e&&("click"===e.type||"submit"===e.type);if(a&&(e&&e.preventDefault&&e.preventDefault(),v=void 0),!i){if(a){var o=c(r);o&&!o._prWidgetContext&&(v={},o._prPendingClick={key:v,args:Array.prototype.slice.call(arguments,0)})}return!1}var l=t.match(/^((?:[^\/]+\/)*[^\/\.]+)\.([^\/]*)?$/),u=l[1];l=l[2].split(".");var p=Array.prototype.slice.call(arguments,1),f=function(e){s(r);for(var n=void 0;l.length>0&&e;)n=e,e=e[l.shift()];if("function"!=typeof e)throw"ta.prwidgets.call: '"+t+"' is not a function";return e.apply(n||{},p),!1};return i[u]?f(i[u]):void((a||require.defined("$prw/"+i.widget.name+"/"+u))&&(h(r),i.widget.require(["trjs!"+u],f)))},e.exportTo(y,"ta.prwidgets"),y});
define("ta/p13n/placement-store",["vanillajs","ta/rollupAmdShim"],function(e,r){"use strict";function t(e){return e.replace(/\.(js|es6|jsx)$/i,"")}function n(e,r,n,l,a){if(r=t(r),"[object Array]"!==Object.prototype.toString.call(l)&&(l=[]),n&&n.length){var o=y[e];o||(y[e]=o={});for(var p=0;p<n.length;p++)o[n[p]]=!0}m("$prp/"+e+"/"+r,c(e,l),function(){var e=Array.prototype.slice.apply(arguments);return function(t){return t[r]||(t[r]=a.apply(null,i(t,l,e))),t[r]}})}function l(e,r){return d.undef&&d.undef("$prp/"+e+"/"+r),n.apply(this,arguments)}function a(e,r){var t,n=v[this.id];return"string"==typeof e?(e=[e],t=c(n.placement.dir,e,n.placement),t=t[0]&&d(t[0]),t=t&&i(n,e,[t]),t&&t[0]):(e=e.slice(),void d(c(n.placement.dir,e,n.placement),function(){var t=i(n,e,arguments);r&&r.apply(null,t)}))}function c(e,r,t){var n=y[e];if(!n)return console&&console.error&&console.error(e+" _externalizeDeps - Failed to locate module map"),[];r=r.slice();for(var l=0;l<r.length;++l){var a=r[l],c=a.replace(/^[a-z]+!/,""),i=a.substring(0,a.length-c.length);"trhtml!"===i?t&&(c+=(c.indexOf("?")>=0?"&occur=":"?occur=")+t.occurrence,r[l]=i+"$prp/"+t.name+"/"+c):"placement"===c?r[l]=null:n&&n["trjs!"===i?c:a]&&(r[l]=i+"$prp/"+e+"/"+c)}return r}function i(e,r,t){var n,l;if(t=Array.prototype.slice.apply(t),0===r.length)return t;var a=y[e.placement.dir];if(t.length<r.length)for(n=c(e.placement.dir,r);(l=t.length)<r.length;)n[l]?t.push(d(n[l])):t.push(null);for(var l=0;l<r.length;++l){var i=r[l].replace(/^trjs!/,"");e[i]?t[l]=e[i]:a[i]&&"function"==typeof t[l]&&(t[l]=t[l].call(null,e))}return t}function o(e){e&&e.nodeName&&h.test(e.className||"")&&(e.className=(e.className||"").replace(h,""))}function p(e){e&&e.nodeName&&!h.test(e.className||"")&&(e.className=(e.className||"")+" handlerLoading")}function u(e,r,t,n,l,a){var c=Array.prototype.slice.call(arguments,3);if("[object Array]"!==Object.prototype.toString.call(t)&&(c=Array.prototype.slice.call(arguments,2),l=n,n=t,t=[]),"string"!=typeof e||"string"!=typeof r)throw"placements.evCall() requires id, method, event?, element?, ...";var i=v[e],u=n&&("click"===n.type||"submit"===n.type);if(u&&(n.preventDefault&&n.preventDefault(),f=void 0),!i){if(u){var s=document.getElementById(e);s&&(f={},s._prPendingClick={key:f,args:Array.prototype.slice.call(arguments)})}return!1}var m=r.match(/^((?:[^\/]+\/)*[^\/\.]+)\.([^\/]*)?$/),d=m[1];m=m[2].split(".");var y=function(e){o(l);for(var t=void 0;m.length>0&&e;)t=e,e=e[m.shift()];if("function"!=typeof e)throw"placements.evCall: '"+r+"' is not a function";return e.apply(t||{},c),!1};return i[d]?y(i[d]):(p(l),void i.placement.require(["trjs!"+d].concat(t),y))}function s(e){return{load:function(r,n,l){n=t(n);var c=l.id,i=v[c];return i||(i=e(l),v[c]=i,l=i.placement||l,i.placement=l,l.dir=r,l.require=a),i[n]||(i[n]=null,i.placement.require(n))},define:n,redefine:l,evCall:u}}var f,m=define,d=require,v={},y={},h=/\bhandlerLoading *\b/g;return s});
define("ta/p13n/placements",["vanillajs","ns-exporter","ta/prwidgets","ta/p13n/placement-store"],function(e,n,a,t){"use strict";function r(e){var n=e;return n.indexOf(":")>0&&(n=n.substring(0,n.indexOf(":"))),n}function l(){var e=Array.prototype.slice.call(arguments);require(["trjs!ta/p13n/placements-ajax"],function(n){n.loadDynamicPlacement.apply(n,e)})}function c(){var e=Array.prototype.slice.call(arguments);require(["trjs!ta/p13n/placements-ajax"],function(n){n.loadDynamicPlacement.apply(n,e)})}var i=new t(function(e){var n={};if(e)for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);return n.requestAJAXPlacement||(n.requestAJAXPlacement=function(e,a,t,r){require(["trjs!ta/p13n/placements-ajax"],function(l){l.requestAJAXPlacement(n,e,a,t,r)})}),{placement:n}}),o={"define":i.define,"redefine":i.redefine,"load":i.load,"evCall":i.evCall,"loadDynamicPlacement":l,"enableAutoRefresh":c,"getTemplateBaseFromPlacementName":r};return n.exportTo(o,"ta.p13n.placements"),o});
define("mixins/mixin",[],function(){"use strict";return function(r){var i,n,t=Array.prototype.slice.call(arguments,1);for(var e in t)if(t.hasOwnProperty(e)){i=t[e];for(n in i)r[n]=i[n]}return r}});
define("utils/object/set-props",["vanillajs"],function(){"use strict";return function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n}});
define("utils/object/shallow-copy",["utils/object/set-props","vanillajs"],function(t){"use strict";return function(r){var e;if("object"!=typeof r||null===r)return r;if(r.constructor===Array){e=[];for(var n=0;n<r.length;++n)e.push(r[n])}else e=t({},r);return e}});
define("utils/objutils",["utils/object/set-props","utils/object/shallow-copy","vanillajs"],function(r,t){"use strict";function e(){var r,t,n,o,i,f,u=arguments[0]||{},c=1,l=arguments.length,a=!1;for("boolean"==typeof u&&(a=u,u=arguments[c]||{},c++),"object"==typeof u||h(u)||(u={});c<l;c++)if(null!=(r=arguments[c]))for(t in r)n=u[t],o=r[t],u!==o&&(a&&o&&(j(o)||(i=y(o)))?(i?(i=!1,f=n&&y(n)?n:[]):f=n&&j(n)?n:{},u[t]=e(a,f,o)):void 0!==o&&(u[t]=o));return u}function n(r){if("object"!=typeof r||null===r||w(r))return r;for(var t in r)r.hasOwnProperty(t)&&(r[t]=n(r[t]));return d(r)}function o(r){if("object"!=typeof r||null===r)return r;for(var t in r)if(r.hasOwnProperty(t)){var e=r[t];null===e?delete r[t]:o(e)}return r}function i(r){var t;if("object"!=typeof r||null===r)return r;if(r.constructor===Array){t=[];for(var e=0;e<r.length;++e)t.push(i(r[e]))}else{t={};for(var n in r)r.hasOwnProperty(n)&&(t[n]=i(r[n]))}return d(t)}function f(r){var t;if("object"!=typeof r||null===r)return r;if(r.constructor===Array){t=[];for(var e=0;e<r.length;++e)t.push(f(r[e]))}else{t={};for(var n in r)r.hasOwnProperty(n)&&(t[n]=f(r[n]))}return t}function u(r){var t;if("object"!=typeof r||null===r)return r;if(t=r,r.constructor===Array){P(r)&&(t=[],t.length=r.length);for(var e=0;e<r.length;++e)t[e]=u(r[e])}else{P(r)&&(t={});for(var n in r)r.hasOwnProperty(n)&&(t[n]=u(r[n]))}return t}function c(r,t){if(r!==t){if(!r)return!t;if(!t||r.length!==t.length)return!1;for(var e=0;e<r.length;e++)if(r[e]!==t[e])return!1}return!0}function l(r,t){if(r!==t){if(!r)return!t;if(!t)return!1;if(y(r)&&y(t))return c(r,t);var e=Object.keys(r);if(!c(e,Object.keys(t)))return!1;for(var n=0;n<e.length;n++)if(r[e[n]]!==t[e[n]])return!1}return!0}function a(r,t){var e,n,o={};for(e=0;e<r.length;++e)n=r[e],o[n[t]]=n;return o}function s(r,t){var e=r[t];if(!e&&!r.propertyIsEnumerable(t))throw"missing property: "+t;return e}function p(r,t){for(var e in r)r.hasOwnProperty(e)&&!t(r,r[e])&&delete r[e];return r}function y(r){return Array.isArray?Array.isArray(r):"[object Array]"===Object.prototype.toString.call(r)}function b(r,t,e){var n;if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,r,e);for(n=t.length,e=e?e<0?Math.max(0,n+e):e:0;e<n;e++)if(e in t&&t[e]===r)return e}return-1}function h(r){var t={};return r&&"[object Function]"===t.toString.call(r)}function j(r){var t,e;return!(!r||"[object Object]"!==Object.prototype.toString.call(r))&&(!(t=Object.getPrototypeOf(r))||(e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor,"function"==typeof e&&Object.toString.call(e)===Object.toString.call(Object)))}function v(r){var t=[];for(var e in r)r.hasOwnProperty(e)&&t.push(e);return t}function O(r,t){for(var e in r)if(r.hasOwnProperty(e)&&t(r[e],e,r))return r[e]}function g(r,t,e){var n,o=0,i=r.length,f=void 0===i||h(r);if(e)if(f){for(n in r)if(t.apply(r[n],e)===!1)break}else for(;o<i&&t.apply(r[o++],e)!==!1;);else if(f){for(n in r)if(t.call(r[n],n,r[n])===!1)break}else for(;o<i&&t.call(r[o],o,r[o++])!==!1;);return r}var d=function(r){return r},w=function(r){return!0},P=function(r){return!1};return"function"==typeof Object.freeze&&(d=Object.freeze.bind(Object),P=Object.isFrozen.bind(Object),w=Object.isFrozen.bind(Object)),{setProps:r,deepFreeze:n,deepFreezeCopy:i,unfreezeForDust:u,undefineNulls:o,shallowCopy:t,deepCopy:f,shallowEquals:l,index:a,need:s,filterProps:p,keys:v,isArray:y,inArray:b,isFunction:h,isPlainObject:j,each:g,extend:e,find:O}});
define("common/Radio",["babel/babel-helpers"],function(e){var t={},n=/\s+/,r=function(){function t(n){e.classCallCheck(this,t),this.channel=n,this.events={},this.replies={}}return e.createClass(t,[{key:"reply",value:function(e,t,r){var i=this;return e.split(n).forEach(function(e){i.replies[e]||(i.replies[e]=[]),i.replies[e].push({callback:t,context:r||i})},this),this}},{key:"request",value:function(e){if(!this.replies[e])return null;var t=this.replies[e];t=t[t.length-1];for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.callback.apply(t.context,r)}},{key:"requestMany",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.replies[e]?this.replies[e].map(function(e){return e.callback.apply(e.context,n)}):null}},{key:"requestAll",value:function(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),u=2;u<r;u++)i[u-2]=arguments[u];if(!this.replies[t])return!0;i=[n].concat(e.toConsumableArray(i));var s="function"==typeof n?n:function(e){return e===n};return this.replies[t].reduce(function(e,t){return e&&s(t.callback.apply(t.context,i))},!0)}},{key:"requestAny",value:function(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),u=2;u<r;u++)i[u-2]=arguments[u];if(!this.replies[t])return!1;i=[n].concat(e.toConsumableArray(i));var s="function"==typeof n?n:function(e){return e===n};return this.replies[t].reduce(function(e,t){return e||s(t.callback.apply(t.context,i))},!1)}},{key:"on",value:function(e,t,r){var i=this;return e.split(n).forEach(function(e){i.events[e]||(i.events[e]=[]),i.events[e].push({callback:t,context:r||i})}),this}},{key:"once",value:function(e,t,r){var i=this;return e.split(n).forEach(function(e){i.events[e]||(i.events[e]=[]),i.events[e].push({callback:t,context:r||i,single:!0})}),this}},{key:"off",value:function(e,t){var r=this;return e.split(n).forEach(function(e){r.events[e]&&(r.events[e]=r.events[e].filter(function(e){return t&&e.callback!==t}))}),this}},{key:"trigger",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.events[e])return this.events[e]=this.events[e].filter(function(e){return e.callback.apply(e.callback,n),!e.single}),this}},{key:"clear",value:function(){return this.events={},this.replies={},this}},{key:"requestEvery",get:function(){return this.requestAll}},{key:"requestSome",get:function(){return this.requestAny}},{key:"one",get:function(){return this.once}},{key:"emit",get:function(){return this.trigger}}]),t}();return function(e){return t[e]||(t[e]=new r(e))}});
define("mixins/page-dates/DateEvents",["mixins/Events","common/Radio"],function(E,e){"use strict";var n={DATE_SELECTED:"dateSelected",CALENDAR_OPENED:"calendarOpened"},t=new E(n.DATE_SELECTED,n.CALENDAR_OPENED);return e("wcDateEventsRadio").on(n.DATE_SELECTED,function(){Array.prototype.unshift.call(arguments,n.DATE_SELECTED),t.emit.apply(t,arguments)}),t});
define("ta/util/Date",["vanillajs","ns-exporter"],function(e,t){var n={};return n.MS_IN_DAY=864e5,n.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],n.HOUR_CONST=12,n.THAI_BUDDHIST_YEAR_OFFSET=543,n.MAX_STAY_DURATION_DAYS=30,n.MAX_VR_DURATION_DAYS=183,n.MAX_DAYS_BEFORE_RETURN_FLIGHT=330,n.MAX_ATTRACTION_RANGE_DAYS=330,n.inDateSet=function(e,t){if(null==e||null==t)return!1;for(var n=t.length,r=0;r<n;r++){var a=t[r];if(a.length){var i=a[0].getTime(),T=a[1].getTime();if(i<=e.getTime()&&T>=e.getTime())return!0}else if(e.getTime()==a.getTime())return!0}return!1},n.rangesIntersect=function(e,t){return Math.max(e[0].getTime(),t[0].getTime())<=Math.min(e[1].getTime(),t[1].getTime())},n.getDaysInRange=function(e,t){return Math.round((t.getTime()-e.getTime())/n.MS_IN_DAY)+1},n.getLastDayOfMonth=function(e){var t=new Date;return e&&(t=new Date(e.getTime())),t=new Date(n.normalize(t)),t.setDate(1),t.setMonth(t.getMonth()+1),t.setDate(0),t.getDate()},n.getDaysApart=function(e,t){var n=864e5;return e&&t?Math.round(Math.abs((e.getTime()-t.getTime())/n)):0},n.inSameMonth=function(e,t){return null!=e&&null!=t&&e.getMonth()==t.getMonth()&&e.getYear()==t.getYear()},n.normalize=function(e){return e.setHours(n.HOUR_CONST,0,0,0)},n.create=function(e,t,r){return new Date(e,t,r,n.HOUR_CONST)},t.exportTo(n,"ta.util.date"),n});
define("mixins/page-dates/Utils",["vanillajs"],function(e){"use strict";function t(e){var t=String(e);return(1===t.length?"0":"")+t}function r(e){return e.getFullYear()+"_"+t(e.getMonth()+1)+"_"+t(e.getDate())}function n(e){if(!e)return null;var t=e.split("-");return t.length<2&&(t=e.split("_")),new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10))}function i(e){return"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){if((!e||!t)&&[e,t].every(i))return!1;var r=new Date(e.getTime()),n=new Date(t.getTime());return r.setHours(0,0,0,0),n.setHours(0,0,0,0),r.getTime()===n.getTime()}function u(e,t){if((!e||!t)&&[e,t].every(i))return!1;var r=new Date(e.getTime()),n=new Date(t.getTime()),a=864e5;return r.setHours(0,0,0,0),n.setHours(0,0,0,0),Math.round((n.getTime()-r.getTime())/a)}function o(e,t){for(var r;e;){if(r=e.querySelector("[data-dateType="+t+"]"))return r;e=e.parentNode}return null}function s(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=!0,n=0;n<e.length;n++)r=r&&a(e[n],t[n]);return r}return{pad:t,dateToIso:r,fromString:n,compareDatesNoTime:a,compareDatesArrayNoTime:s,getNumNightsNoTime:u,findClosestDatepicker:o}});
define("ta/util/Object",["vanillajs","ns-exporter"],function(t,e){var r={};return r.typeOf=function(t){return Object.prototype.toString.call(t).match(/(\w+)\]$/)[1].toLowerCase()},r.merge=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n){t||(t="array"===r.typeOf(n)?[]:{});for(var o in n){var a=n[o];if(n.hasOwnProperty(o)&&"undefined"!==r.typeOf(a)){var i=r.typeOf(a);if("string"===i||"number"===i||"boolean"===i||"function"===i||null===a){t[o]=a;continue}t[o]=r.merge(t[o],a)}}}}return t},e.exportTo(r,"ta.util"),r});
define("ta/Core/TA.Store",["vanillajs","ns-exporter","ta/util/Object"],function(e,r,t){"use strict";var n={},a={};return a.store=function(e,r){return n[e]=r,r},a.retrieve=function(e){return n[e]},a.has=function(e){return"undefined"!=typeof n[e]},a.retrieveOrStore=function(e,r){var t=n[e];return"undefined"==typeof t&&(n[e]=r,t=r),t},a.remove=function(e){var r=n[e];return delete n[e],r},a.keep=function(e,r){var t,n=a.retrieve(e);t=n?n instanceof Array?n:[n]:[],r instanceof Array?r.forEach(function(e){t.contains(e)||t.push(e)}):t.push(r),a.store(e,t)},a.merge=function(e,r){a.store(e,t.merge(a.retrieve(e)||{},r))},a.asInt=function(e,r){var t=parseInt(a.retrieve(e));return isNaN(t)?r||0:t},a.asFloat=function(e,r){var t=parseFloat(a.retrieve(e));return isNaN(t)?r||0:t},a.executeCallbacks=function(e){if(a.has(e)){var r=a.retrieve(e);if(!r instanceof Array)return;for(var t=0;t<r.length;t++)r[t]()}},r.exportTo(a,"ta"),a});
define("calendars/CalendarDate",["vanillajs"],function(t){"use strict";function n(t){t=t||new Date,this.date=new Date(t.getFullYear(),t.getMonth(),t.getDate())}return n.prototype={constructor:n,daysInMonth:function(){return new Date(this.year(),this.month()+1,0).getDate()},eachDayInMonth:function(t){for(var e=1,r=this.daysInMonth();e<=r;e++)t(new n(new Date(this.year(),this.month(),e)))},thisMonth:function(){return new n(new Date(this.year(),this.month(),1))},nextMonth:function(){return this.relativeMonth(1)},previousMonth:function(){return this.relativeMonth(-1)},relativeMonth:function(t){return new n(new Date(this.year(),this.month()+t,1))},relativeDay:function(t){return new n(new Date(this.year(),this.month(),this.day()+t))},firstOfMonth:function(){return new n(new Date(this.year(),this.month(),1))},lastOfMonth:function(){return new n(new Date(this.year(),this.month(),this.daysInMonth()))},year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()},day:function(){return this.date.getDate()},dayOfWeek:function(){return this.date.getDay()},firstDayOfMonth:function(){return new Date(this.year(),this.month(),1).getDay()},inRange:function(t,n){return!(!t||!n)&&(this.compare(t)>0&&this.compare(n)<0)},compare:function(t){for(var n,e=["getFullYear","getMonth","getDate"],r=0,i=e.length;r<i;r++){if(n=e[r],this.date[n]()<t.date[n]())return-1;if(this.date[n]()>t.date[n]())return 1}return 0},daysTo:function(t){return Math.ceil((t.date.getTime()-this.date.getTime())/864e5)},toISOString:function(){return this.date.toISOString().split("T")[0]},toString:function(){return this.year()+"-"+this.month()+"-"+this.day()}},n.fromString=function(t){var e=t.split("-");return new n(new Date(e[0],e[1],e[2]))},n});
define("mixins/page-dates/DateTypeStore",["vanillajs","ta/Core/TA.Store","calendars/CalendarDate","mixins/page-dates/Utils"],function(t,e,n,r){"use strict";function i(t){var e=[];for(var n in T)T.hasOwnProperty(n)&&T[n].children&&T[n].children.indexOf(t)>=0&&e.push(n);return e}function a(t){var e=ta.page.getDates(t);return e&&e[0]?new n(e[0]):null}var u="zu",T={CHECKIN:{queryString:null,pathString:null},CHECKOUT:{queryString:null,pathString:null},STAYDATES:{children:["CHECKIN","CHECKOUT"],queryString:"staydates",pathString:u+"s"},EATERY:{queryString:"eaterydate",pathString:u+"r"},DEPARTURE:{queryString:null,pathString:null},RETURN:{queryString:null,pathString:null},ROUNDTRIP:{children:["DEPARTURE","RETURN"],queryString:"rtdates",pathString:u+"t"},ONEWAYFLIGHT:{queryString:"oneway",pathString:u+"o"},LEG_1:{queryString:"leg1date",pathString:u+"1"},LEG_2:{queryString:"leg2date",pathString:u+"2"},LEG_3:{queryString:"leg3date",pathString:u+"3"},ATTRACTION:{queryString:"attrdate",pathString:u+"a"},ATTRACTION_FROM:{queryString:null,pathString:null},ATTRACTION_TO:{queryString:null,pathString:null},ATTRACTIONRANGE:{children:["ATTRACTION_FROM","ATTRACTION_TO"],queryString:"attrrange",pathString:u+"e"},VPDATES:{children:["VPDEPARTURE","VPRETURN"],queryString:"vpdates",pathString:null},VPDEPARTURE:{queryString:null,pathString:null},VPRETURN:{queryString:null,pathString:null}};return T.getStartDateType=function(t){var e=i(t);if(0==e.length){var n=T[t].children;return n&&n.length>0?n[0]:t}return T[e[0]].children[0]},T.getEndDateType=function(t){var e=i(t);if(0==e.length){var n=T[t].children;return n&&n.length>0?n[n.length-1]:t}var r=T[e[0]];return r.children[r.children.length-1]},T.isChildDateType=function(t){return i(t).length>0},T.isSingleDateType=function(t){var e=T[t];return!(T.isChildDateType(t)||e&&e.children&&e.children.length>0)},T.getParents=i,T.isHotelDateType=function(t){return i(t).indexOf("STAYDATES")>=0},T.isRoundTripDateType=function(t){return i(t).indexOf("ROUNDTRIP")>=0},T.isAttractionRangeDateType=function(t){return i(t).indexOf("ATTRACTIONRANGE")>=0},T.isVacationPackagesDateType=function(t){return i(t).indexOf("VPDATES")>=0},T.allowsSameDayRange=function(t){return T.isAttractionRangeDateType(t)||T.isRoundTripDateType(t)},T.isMultiCityDateType=function(t){return"LEG_1"==t||"LEG_2"==t||"LEG_3"==t},T.isStartDateType=function(t){var e=i(t);return 0!=e.length&&0==T[e[0]].children.indexOf(t)},T.isEndDateType=function(t){var e=i(t);if(0==e.length)return!1;var n=T[e[0]];return n.children.indexOf(t)==n.children.length-1},T.getStartDate=function(t){var e=T.getStartDateType(t);return null==e?ta.page.getDates(t)[0]:ta.page.getDates(e)[0]},T.getEndDate=function(t){var e=T.getEndDateType(t);return null==e?ta.page.getDates(t)[0]:ta.page.getDates(e)[0]},T.getMinEnabledDate=function(t){if(T.isHotelDateType(t)||T.isRoundTripDateType(t)){var i=e.retrieve("multiDP.minCheckInDate");if(i)return new n(r.fromString(i))}else{if("LEG_1"==t)return a("ONEWAYFLIGHT");if("LEG_2"==t)return a("LEG_1")||a("ONEWAYFLIGHT");if("LEG_3"==t)return a("LEG_2")||a("LEG_1")||a("ONEWAYFLIGHT");if("ATTRACTION_TO"==t)return a("ATTRACTION_FROM")}return null},T.flattenType=function(t){var e=T[t];return e?e.children?e.children.slice(0):[t]:[]},T.getCorrespondingDateType=function(t){switch(t){case"CHECKIN":return"CHECKOUT";case"CHECKOUT":return"CHECKIN";case"DEPARTURE":return"RETURN";case"RETURN":return"DEPARTURE";case"ATTRACTION_FROM":return"ATTRACTION_TO";case"ATTRACTION_TO":return"ATTRACTION_FROM";case"VPDEPARTURE":return"VPRETURN";case"VPRETURN":return"VPDEPARTURE";default:return null}},T});
define("mixins/page-dates/Base",["vanillajs","ta","mixins/page-dates/Utils","mixins/page-dates/DateTypeStore"],function(e,r,t,n){"use strict";function a(e){return e instanceof Date&&!isNaN(e.getTime())}function i(e){if(!n[e])throw"Invalid date type: "+e}function s(e){var r=[];for(var t in n)n.hasOwnProperty(t)&&n[t].children&&n[t].children.indexOf(e)>=0&&r.push(t);return r}function o(e,r){var a=n[e],i="";if(a.children)for(var s=0,o=a.children.length;s<o;s++){if("_"===r[a.children[s]])return"_";i+=(s>0?"_":"")+t.dateToIso(r[a.children[s]])}else{if("_"===r[e])return"_";i+=t.dateToIso(r[e])}return i}function h(e,r){var t=n[e];if(t.children){for(var a=0,i=t.children.length;a<i;a++)if("_"!==r[t.children[a]])return!1;return!0}return"_"===r[e]}function u(e,r){require.defined("ta/util/Error")&&require("ta/util/Error").record(e,r)}var f=function(e){var s={},f={};!function(){var r,i;if(e)for(i in e)r=t.fromString(e[i]),e.hasOwnProperty(i)&&n[i]&&a(r)&&(s[i]=r)}(),this.hasDates=function(e){if(i(e),n[e].children){for(var t=0,a=n[e].children.length;t<a;t++)if(!r.page.hasDates(n[e].children[t]))return!1;return!0}return!!s[e]&&"_"!==s[e]},this.hasUserSetDates=function(e){return n[e].children?n[e].children.reduce(function(e,r){return e||!!f[r]},!1):!!f[e]},this.getDates=function(e){var r=[];if(i(e),n[e].children)for(var t=0,a=n[e].children.length;t<a;t++)r.push(s[n[e].children[t]]);else r.push(s[e]);for(var t in r)"_"===r[t]&&(r[t]=null);return r},this.setDates=function(e,r){if(i(e),Array.isArray(r)||(r=[r]),r=r.map(function(e){return e instanceof Date?new Date(e.getFullYear(),e.getMonth(),e.getDate()):"_"}),n[e].children){if(n[e].children.length!==r.length)throw"Incorrect number of dates for date type "+e;for(var t=0,a=n[e].children.length;t<a;t++){var o=n[e].children[t];s[o]=r[t],f[o]=!0}}else{if(1!==r.length)throw"Incorrect number of dates for date type "+e;s[e]=r[0]}f[e]=!0},this.clearDates=function(e){if(!e)return void(s={});if(i(e),n[e].children)for(var r=0,t=n[e].children.length;r<t;r++)s[n[e].children[r]]="_";else s[e]="_"},this.datesToQueryString=function(e){var t=n[e];if(i(e),!t.queryString)throw"Cannot generate query-string for DateType "+e;return(r.page.hasDates(e)||h(e,s))&&r.page.hasUserSetDates(e)?t.queryString+"="+o(e,s):""},this.defaultDatesToQueryString=function(e){var t=n[e];return i(e),t.queryString?r.page.hasDates(e)||h(e,s)?r.page.hasUserSetDates(e)?"":t.queryString+"="+o(e,s):"":(u(null,"Cannot generate query-string for DateType "+e),"")},this.datesToQueryPath=function(e){var t=n[e];if(i(e),!t.pathString)throw"Cannot generate path-string for DateType "+e;return(r.page.hasDates(e)||h(e,s))&&r.page.hasUserSetDates(e)?t.pathString+o(e,s):""},this.datesToQueryJson=function(e){var t=n[e],a={};if(i(e),!t.queryString)throw"Cannot generate query json for DateType "+e;return(r.page.hasDates(e)||h(e,s))&&(r.page.hasUserSetDates(e)||"EATERY"===e)?(a[t.queryString]=o(e,s),a):{}}};return f.prototype.onDatesSelected=function(e,t,n){var a=s(t);if(r.page&&r.page.emit){r.page.emit("dateSelected",e,t,n);for(var i=0,o=a.length;i<o;i++)r.page.hasDates(a[i])&&r.page.emit("dateSelected",e,a[i],r.page.getDates(a[i]))}},f.prototype.usingUnifiedDates=!0,f});
define("mixins/page-dates/Validator",["vanillajs","ta","mixins/page-dates/DateTypeStore","calendars/CalendarDate","ta/util/Date"],function(e,t,a,n,r){"use strict";function i(e){if(!a[e].children||!t.page.hasDates(e))return!0;var n=a[e].children,r=t.page.getDates(e);return a.isStartDateType(n[0])&&a.isEndDateType(n[1])&&r[0]<=r[1]||a.isEndDateType(n[0])&&a.isStartDateType(n[1])&&r[1]<=r[0]}function s(e){if(!a[e].children||!t.page.hasDates(e))return!0;var n=t.page.getDates(e);return n[0].getTime()!==n[1].getTime()}function u(e){return function(n){return!a[n].children||!t.page.hasDates(n)||D.apply(null,t.page.getDates(n))<=e}}function D(e,t){var a=e instanceof n?e:new n(e),r=t instanceof n?t:new n(t);return Math.abs(a.daysTo(r))}var T=function(e){var t=e&&e.hasOwnProperty("maxStayLength")?e.maxStayLength:r.MAX_STAY_DURATION_DAYS;this.VALIDATORS={STAYDATES:[i,s,u(t)],ROUNDTRIP:[i],ATTRACTIONRANGE:[i],VPDATES:[i,s,u(t)]}};return T.prototype.validate=function(e){var t=this.VALIDATORS[e];return!t||0==t.length||!t.some(function(t){return!t(e)})},T});
define("ta/support/Qualtrics",["vanillajs","ns-exporter","page-model","ta/Core/TA.LocalStorage"],function(e,t,n,s){"use strict";var i={},r=function(e,t,n,s){this.get=function(e){for(var e=e+"=",t=document.cookie.split(";"),n=0,s=t.length;n<s;n++){for(var i=t[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return null},this.set=function(e,t){var n="",n=new Date;n.setTime(n.getTime()+6048e5),n="; expires="+n.toGMTString(),document.cookie=e+"="+t+n+"; path=/; "},this.check=function(){var s=this.get(n);if(s)s=s.split(":");else{if(100==e)return!0;"v"==t&&(e=Math.random()>=e/100?0:100),s=[t,e,0],this.set(n,s.join(":"))}var i=s[1];if(100==i)return!0;switch(s[0]){case"v":return!1;case"r":return i=s[2]%Math.floor(100/i),s[2]++,this.set(n,s.join(":")),!i}return!0},this.go=function(){if(this.check()){var e=document.createElement("script");e.type="text/javascript",e.src=s+"&t="+(new Date).getTime(),document.body&&document.body.appendChild(e)}},this.start=function(){var e=this;e.go()}};i.displaySurvey=function(e){var t=n.session.uid,s="QSI_S_"+e,i="//znbkpczkrl5wwqzj3-tripadvisor.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_SIID="+e+"&UID="+t+"&Q_LOC="+encodeURIComponent(window.location.href);try{new r(100,"r",s,i).start()}catch(e){}j(!0)};var a=2592e6,u=6048e5,o=!1,c=!1,l=4,g=3,p=2,f=Math.round(10*Math.random())%2,d=!1,v=function(){return s.get("qualtrics-debug")},h=function(){return Number(s.get("qualtrics-session-count")||0)},q=function(){return!!s.getSessionKey("qualtrics-session-count-incremented")},S=function(){var e=h(),t=s.getSessionKey("qualtrics-session-count-incremented");t||(s.set("qualtrics-session-count",e+1,u),s.setSessionKey("qualtrics-session-count-incremented",!0))},m=function(e){s.setSessionKey("qualtrics-ignored",e)},y=function(){return!!s.getSessionKey("qualtrics-ignored")},w=function(e){s.set("qualtrics-responded",e,a)},I=function(){return!!s.get("qualtrics-responded")},b=function(){return Number(s.getSessionKey("qualtrics-page-views")||0)},D=function(){return Number(s.getSessionKey("qualtrics-intercept-views")||0)},K=function(){var e=D();s.setSessionKey("qualtrics-intercept-views",++e),4===e&&m(!0)},T=function(){return Number(s.getSessionKey("qualtrics-intercept-reqs")||0)},N=function(){var e=T();s.setSessionKey("qualtrics-intercept-reqs",e+1)},k=function(){return d},C=function(e){d=e},R=function(){var e=!1,t=k();if(t){var n=I()||y(),s=h(),i=q(),r=b(),a=D();!n&&(s<g||s==g&&i)&&a<l&&(r===p||r>p&&0===f)&&(e=!0)}return e};i.isDebug=v,i.setResponded=w,i.hasResponded=I,i.getPageViews=b,i.getSmartSurvey=k,i.setSmartSurvey=C,i.updateInterceptViews=K,i.canDisplaySmart=R,i.getSessionCount=h,i.updateSessionCount=S,i.getInterceptViews=D,i.updateInterceptReqs=N,i.getInterceptReqs=T;var j=function(e){e?(s.set("qualtrics-last-seen",Date.now()),o=!0):s.remove("qualtrics-last-seen")},x=function(){var e=parseFloat(s.get("qualtrics-last-seen")),t=isNaN(e)?0:e,n=t<0?0:t+a;return Date.now()<n},L=function(){return o},M=function(){var e=Number(s.get("qualtrics-page-views"));return 2===e&&!i.hasShownInLastThirtyDays()||1===e&&!c&&!i.hasShownInLastThirtyDays()},V=function(){if(k()&&(h()<g||h()==g&&q())&&!I()&&!y()){var e=b();s.setSessionKey("qualtrics-page-views",e+1)}var t=s.get("qualtrics-session-id"),i=n.session.sessionId;if(t&&t===i){var e=Number(s.get("qualtrics-page-views"))+1;s.set("qualtrics-page-views",e)}else s.set("qualtrics-session-id",i),s.set("qualtrics-page-views",1);c=!0};return i.hasShownInLastThirtyDays=x,i.seenThisPageView=L,i.canDisplay=M,i.updatePageViews=V,t.exportTo(i,"ta.support.qualtrics"),i});
define("utils/responsive",["vanillajs"],function(){"use strict";function t(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}function n(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function e(n){return function(){return t()>=n}}function r(n){return function(){return t()<=n}}function i(t,n){return function(){return e(t)()&&r(n)()}}var o={largeMonitor:1600,widescreen:1280,desktop:1024,tablet:768,mobile:767},u=Object.keys(o).sort(function(t,n){return o[n]-o[t]}),c={breakpoints:u,widths:o,atLeast:e,atMost:r,between:i,largeMonitor:e(o.largeMonitor),widescreen:e(o.widescreen),desktop:e(o.desktop),tablet:e(o.tablet),mobile:r(o.mobile),desktopOnly:i(o.desktop,o.widescreen-1),tabletOnly:i(o.tablet,o.desktop-1),landscape:function(){return t()>n()},portrait:function(){return n()>t()},currentBreakpoints:function(){return u.filter(function(t){return"function"==typeof c[t]&&c[t]()})},is:function(t,n,e){var r="function"!=typeof t&&c[t]?c[t]:t;return function(t,i){return r()?"undefined"!=typeof t?t:n:"undefined"!=typeof i?i:e}}};return c});
define("mixins/page-dates/pop-calendar",["ta","common/trackingStreams","common/Radio","ta/support/Qualtrics","ta/Core/TA.Store","ta/Core/TA.LocalStorage","ta/util/SessionStorage","utils/responsive"],function(e,t,n,r,i,a,o,s){function d(){j=!1}function u(t){b=!!t.popFromDefault,D=!!t.popFromVisibleOnly,P=t.popFromVisibleOnlyBreakpoint,E=!!t.datesWereDefaulted,y=t.popCalendarType,k=!!t.hasMetaMarketingDefaultDates,T=!!t.qualtricsSurveyEnabled,O=!!t.isDetailPage,e.page.on("datepickerRejected",d),e.page.on("dateSelected",d)}function c(e){if(a.enabled&&a.get("popCalendarAfterRedirectedFromIB"))return a.remove("popCalendarAfterRedirectedFromIB"),!0;if(!E||R)return!1;if(i.retrieve("suppressCalendarPop"))return!1;if(!y)return!1;if(T&&r&&(r.canDisplay()||r.seenThisPageView())){if(!require.defined("page-model"))return!1;if(require("page-model").isMobile)return!1}if(e&&D&&(!P||s.is(P,!0,!1)())&&!g(e))return!1;switch(y){case"doNot":return!1;case"untilClosedPerServletType":return!p();case"untilClosed":return!l();case"always":return!0}return b&&E}function l(){return o.canUseSessionStore()&&!!o.getObject(C)}function p(){var e=o.canUseSessionStore()&&o.getObject(C);return e&&!!e[O?"detail":"list"]}function f(){if(o.canUseSessionStore()){var e=o.getObject(C)||{};e[O?"detail":"list"]=!0,o.setObject("pop-calendar-dismissed",e),n("pop-calendar").emit("dismissed")}}function g(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function m(){return k}function S(n){j=!0,e.page.gatherDates(n),R=!0,t.trackEvent("DATEPICKER","auto-popped-calendar-shown",window.pageServlet),t.trackEvent("calendar","in_view","autopop")}function h(){return R}function v(){return j}function w(){E=!1}var C="pop-calendar-dismissed",b=!1,D=!1,P="",E=!1,T=!1,k=!1,y="",O=!1,R=!1,j=!1;return{init:u,shouldPop:c,shouldPopMetaMarketing:m,popCalendar:S,wasPoppedThisPageLoad:h,isShowing:v,setUserEnteredDates:w,setDismissedThisSession:f}});
define("mixins/page-dates/default-dates",["ta","mixins/mixin","mixins/Events","mixins/page-dates/pop-calendar","mixins/page-dates/DateTypeStore","common/trackingStreams","vanillajs","ta/Core/TA.Event"],function(e,t,a,n,i,o,d,r){"use strict";function s(e){n.init(e),g=!!e.datesWereDefaulted,f=!!e.refreshLocalStorage,D=e.localStorageTTL,m=!0,S.emit("init")}function p(e){"function"==typeof e&&(m?e():S.on("init",e))}function u(t,a,d){function s(t){n.wasPoppedThisPageLoad()&&(S.emit("poppedCalendarDismissed",t),n.setDismissedThisSession(),e.page.off("datepickerRejected",s))}function p(){if(f&&(g&&o.trackEvent("DATEPICKER","undated_to_default_dated"),!a)){var t=n.shouldPop(f);(t||n.shouldPopMetaMarketing())&&(t&&S.emit("popFromDefault"),e.page.on("datepickerRejected",s),n.popCalendar(f))}}var u=d?d:"STAYDATES";if(e.page.usingUnifiedDates){e.page.hasDates(u)||e.page.clearDates(u),c=e.page.getDates(i.getStartDateType(u))[0],l=e.page.getDates(i.getEndDateType(u))[0];var f=t.querySelector('[data-datetype="'+i.getStartDateType(u)+'"]');e.page.on("dateSelected",function(a,i,d){var r,p=c&&l,f=e.page.getDates(u)[0],D=e.page.getDates(u)[1];if(t.contains(a)&&(!p&&e.page.hasDates(u)?r="undated_to_manually_dated":f==c&&D==l||(n.setUserEnteredDates(),e.page.off("datepickerRejected",s),g?(r="default_dated_to_manually_dated",g=!1):r="manually_dated_to_manually_dated"),c=f,l=D,r)){var m="";a&&a.getAttribute("data-picker-location")&&(m=a.getAttribute("data-picker-location"),document.querySelector("#PERSISTENT_TRIP_SEARCH_BAR.fixed")&&(m+="_persistent")),o.trackEvent("DATEPICKER",r,m)}}),"loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p(),r.on("specialOfferClosed",function(){a||f&&n.shouldPop(f)&&n.popCalendar(f)})}}var c,l,g=!1,f=!1,D=0,m=!1,S={init:s,onInit:p,apply:u,usingDefaults:function(){return g},shouldRefreshLocalStorage:function(){return f},getLocalStorageTTL:function(){return D}};return t(S,new a("popFromDefault"))});
define("ta/util/Deferred",["vanillajs","ns-exporter"],function(e,r){"use strict";function t(e){l.prototype[e]=function(r,t){return i(this,e,t?r.bind(t):r)}}for(var n=["success","failure","always","progress"],u={"resolved":["success","always"],"rejected":["failure","always"]},l=function(){},a=0;a<n.length;a++)t(n[a]);l.prototype.then=function(e,r){var t=this.success(e);return r?t.failure(r):t};var o=function(e){var r="pending",t=new l;t.queue=[],t.args=null,t.aplus="boolean"==typeof e&&e,t.status=function(){return r};var n={notify:function(){if(s(r))throw new Error("Promise has already been fulfilled.");var e,n,u,l=Array.prototype.slice.call(arguments);for(n=0,u=t.queue.length;n<u;n++)e=t.queue[n],"progress"===e.hook&&e.callback.apply(null,l);return t},resolve:function(){if(s(r))throw new Error("Promise has already been fulfilled.");return r="resolved",t.args=Array.prototype.slice.call(arguments),f(t)},reject:function(){if(s(r))throw new Error("Promise has already been fulfilled.");return r="rejected",t.args=Array.prototype.slice.call(arguments),f(t)},isFulfilled:function(){return s(r)},promise:function(){return t}};return n},s=function(e){return"resolved"===e||"rejected"===e},i=function(e,r,t){return e.fwd?i(e.fwd,r,t):(e.queue.push({hook:r,callback:t}),f(e))},f=function(e){if(e.fwd)return f(e.fwd);for(var r,t;s(e.status())&&(r=e.queue.shift());)~u[e.status()].indexOf(r.hook)&&(t=r.callback.apply(null,e.args),t instanceof l?(t.queue=t.queue.concat(e.queue.splice(0)),e=e.fwd=t):t&&e.aplus&&(e.args=[t]));return e};return r.createNs(o,"ta.util","Deferred"),o});
define("mixins/page-dates/Responsive",["vanillajs","ta","mixins/mixin","ta/util/Date","mixins/page-dates/Base","calendars/CalendarDate","mixins/page-dates/Utils","mixins/page-dates/DateTypeStore","mixins/page-dates/Validator","mixins/page-dates/default-dates","ta/util/Deferred","common/trackingStreams"],function(e,t,a,n,s,i,l,r,o,p,d,u){"use strict";function c(e){var t={dateType:e,startDate:r.getStartDate(e),endDate:!r.isSingleDateType(e)&&r.getEndDate(e),minEnabledDate:E&&new i(l.fromString(E)),maxEnabledDate:A&&new i(l.fromString(A)),thaiOffset:S,showClearButton:P,calendarTitle:k,demandLoadAssets:w,calendarStyle:L,moveIntoView:O,heatmapStyle:y,heatmap:N,heatmapPercentiles:V,colorAccessibilityTestClass:M,calendarTitleTestClass:I,headerProminenceTestClass:R};r.isHotelDateType(e)||r.isRoundTripDateType(e)||r.isAttractionRangeDateType(e)||r.isVacationPackagesDateType(e)?(t.maxStayLength=b,!t.maxEnabledDate&&v&&(t.maxEnabledDate=(new i).relativeDay(parseInt(v)))):(t.availableDates=x,t.excludedDates=C);var a=r.getMinEnabledDate(e);return a&&(t.minEnabledDate=a),t}function D(e,t){if(!e||!t||!e.querySelector)return null;for(var a="[data-dateType="+t+"]",n=null,s=0;s<3&&e.parentNode&&!n;s++)e=e.parentNode,n=e.querySelector(a);return n}function m(e){r.getParents(e).forEach(function(a){g.validate(a)||r[a].children.filter(function(t){return t!==e}).forEach(function(e){t.page.clearDates(e),t.page.emit("dateSelected",null,e,[null])})})}function f(e){return T&&r.getCorrespondingDateType(e)&&!r.isStartDateType(e)&&!t.page.hasDates(r.getCorrespondingDateType(e))}var g,y,h=null,T=!1,S=!1,v=null,b=n.MAX_STAY_DURATION_DAYS,x=null,C=null,E=null,A=null,P=!1,k=null,w=!0,L={},O=!1,N={},V={},M=null,I=null,R=null,q=function(e,t){a(this,new s(e)),g=new o(t),t&&(S=t.thaiOffset,T=t.popCheckInFirst,b=t.maxStayLength||b,x=t.availableDates,C=t.excludedDates,E=t.minEnabledDate,A=t.maxEnabledDate,P=t.showClearButton,k=t.calendarTitle,w=t.demandLoadAssets,v=t.maxEnabledDaysOut,L=t.calendarStyle,O=t.moveIntoView||O,y=t.heatmapStyle,N=t.heatmap||N,V=t.heatmapPercentiles||V,M=t.colorAccessibilityTestClass,I=t.calendarTitleTestClass,R=t.headerProminenceTestClass,p.init({datesWereDefaulted:t.didCreateDefaultDates,popFromDefault:t.supportsPrePopWithDefaultDates,popCalendarType:t.popCalendarType,qualtricsSurveyEnabled:t.qualtricsSurveyEnabled,hasMetaMarketingDefaultDates:t.hasMetaMarketingDefaultDates,popFromVisibleOnly:t.supportsPrePopWithVisibilityOnly,popFromVisibleOnlyBreakpoint:t.supportsPrePopWithVisibilityOnlyBreakpoint,isDetailPage:t.isDetailPage}))};return q.prototype.gatherDates=function(e,a,n,s,i){var l=e&&e.getAttribute("data-dateType"),o=l&&r[l]?l:"UNKNOWN";if(f(o)&&(o=r.getCorrespondingDateType(o),e&&o&&(e.blur(),e=D(e,o))),!e||e!==h){h=e,e&&e.classList&&e.classList.add("focused");var p=d(!0);return require(["trjs!calendars/ResponsiveStayDates"],function(a){a.openAsPopover(e,c(o)).then(function(a){h=null,e&&e.classList&&e.classList.remove("focused"),t.page.pushDates(e,o,a),p.resolve(a)},function(a){a===h&&(h=null),e&&e.classList&&e.classList.remove("focused"),i&&t.page.hasDates("STAYDATES")&&"classic"===L&&t.page.onDatesSelected(e,o,t.page.getDates("STAYDATES")),t.page.emit("datepickerRejected",e)}),u.trackEvent("calendar","in_view","default")}),p.promise()}},q.prototype.gatherDatesNear=function(e){var a=l.findClosestDatepicker(e,"CHECKIN");a&&t.page.gatherDates(a)},q.prototype.pushDates=function(e,a,n){t.page.setDates(a,n),m(a),t.page.onDatesSelected(e,a,n)},q.prototype.setAvailableDates=function(e){x=e},q.prototype.setExcludedDates=function(e){C=e},q.prototype.setMaximumDaysOut=function(e){v=e},q});
define("mixins/page-guests/Guests",["vanillajs","ta/Core/TA.FireEvent"],function(t,r){"use strict";function s(t){this.guests=new o(t)}var e=4,n={adults:2,rooms:1,child_rm_ages:""},o=function(t){function s(t,r){var s=!1,e=!1;for(var n in t)t.hasOwnProperty(n)&&n in a&&a[n]!=t[n]&&(a[n]=t[n],o(n)&&(e=!0),s=!0);return s&&!r&&setTimeout(d,1),s}function o(t){if("adults"==t){if(i())return a.rooms=Math.ceil(a.adults/e),!0;if(u())return a.rooms=a.adults,!0}else if("rooms"==t){if(i())return a.adults=a.rooms*e,!0;if(u())return a.adults=a.rooms,!0}return!1}function i(){return a.adults/Math.max(a.rooms,1)>e}function u(){return a.adults<a.rooms}t=t||{};var a={rooms:t.rooms||n.rooms,adults:t.adults||n.adults,child_rm_ages:t.child_rm_ages||n.child_rm_ages};this.getRooms=function(){return a.rooms},this.getAdults=function(){return a.adults},this.getChildRoomAges=function(){return a.child_rm_ages},this.set=function(t){return s(t)},this.clear=function(){return s(n)},this.toJson=function(){var t={};for(var r in a)t[r]=a[r];return t},this.toQueryJson=function(){var t=[a.rooms,a.adults];return a.child_rm_ages&&t.push(a.child_rm_ages),{uguests:t.join("_")}};var d=function(t){window.ta&&ta.page&&ta.page.emit&&ta.page.emit("guestsSelected",this.toJson(),t)}.bind(this);r.on("onLegacyGuestsChanged",function(t){if(t){var r={rooms:t.rooms,adults:t.guests,child_rm_ages:t.child_rm_ages};s(r,!0)&&d(!0)}});var c=!1;r.on("receivedGuestData",function(t){var r={};for(var e in{adults:1,rooms:1,child_rm_ages:1}){var n=t.getAttribute("data-"+e);n&&(r[e]=n)}!s(r,!0)&&c||d(!0),c=!0})};return s});
define("utils/asdf-encoder",["ns-exporter","vanillajs"],function(e){"use strict";var t={};return t.getOffset=function(e){return e>=97&&e<=122?e-61:e>=65&&e<=90?e-55:e>=48&&e<=71?e-48:-1},t.asdf=function(e){for(var t={"":["&","=","p","6","?","H","%","B",".com","k","9",".html","n","M","r","www.","h","b","t","a","0","/","d","O","j","http://","_","L","i","f","1","e","-","2",".","N","m","A","l","4","R","C","y","S","o","+","7","I","3","c","5","u",0,"T","v","s","w","8","P",0,"g",0],"q":[0,"__3F__",0,"Photos",0,"https://",".edu","*","Y",">",0,0,0,0,0,0,"`","__2D__","X","<","slot",0,"ShowUrl","Owners",0,"[","q",0,"MemberProfile",0,"ShowUserReviews",'"',"Hotel",0,0,"Expedia","Vacation","Discount",0,"UserReview","Thumbnail",0,"__2F__","Inspiration","V","Map",":","@",0,"F","help",0,0,"Rental",0,"Picture",0,0,0,"hotels",0,"ftp://"],"x":[0,0,"J",0,0,"Z",0,0,0,";",0,"Text",0,"(","x","GenericAds","U",0,"careers",0,0,0,"D",0,"members","Search",0,0,0,"Post",0,0,0,"Q",0,"$",0,"K",0,"W",0,"Reviews",0,",","__2E__",0,0,0,0,0,0,0,"{","}",0,"Cheap",")",0,0,0,"#",".org"],"z":[0,"Hotels",0,0,"Icon",0,0,0,0,".net",0,0,"z",0,0,"pages",0,"geo",0,0,0,"cnt","~",0,0,"]","|",0,"tripadvisor","Images","BookingBuddy",0,"Commerce",0,0,"partnerKey",0,"area",0,"Deals","from","\\",0,"urlKey",0,"'",0,"WeatherUnderground",0,"MemberSign","Maps",0,"matchID","Packages","E","Amenities","Travel",".htm",0,"!","^","G"]},r="",a=0;a<e.length;a++){var n=e.charAt(a),o=n;t[n]&&a+1<e.length?(a++,o+=e.charAt(a)):n="";var s=getOffset(e.charCodeAt(a));r+=s<0||"String"==typeof t[n][s]?o:t[n][s]}return r},e.exportTo(t),t});
define("utils/urlutils",["vanillajs","utils/asdf-encoder"],function(e,n){"use strict";function t(e,n,t){var o=new RegExp("(-"+n+"([0-9]+))|([?&]"+t+"=([0-9]+))"),r=o.exec(e);if(r){if("undefined"!=typeof r[2])return Number(r[2]);if("undefined"!=typeof r[4])return Number(r[4])}}function o(e){return t(e,"d","detail")||t(e,"g","geo")}function r(e){for(var n={},t=e.split("#")[0].split("?")[1]||"",o=t.split("&"),r=0;r<o.length;r++){var i=o[r].split("=");i[0]&&(n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]))}return n}function i(e){var n=[];for(var t in e)if(e.hasOwnProperty(t)){var o=e[t];if(o&&"object"==typeof o)for(var r=0;o.length&&r<o.length;++r){var i=o[r];i="object"==typeof i?"":String(i),n.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}else n.push(encodeURIComponent(t)+"="+encodeURIComponent(String(o)))}return n.join("&")}function f(e){return location.protocol+"//"+location.hostname+e}function u(e){return e=e||"",e.indexOf("http")===-1&&(e=f(e)),e.replace("http://","https://")}function a(e){var n=d.exec(e);return{protocol:n?n[1]:"",host:n?n[2]:""}}var d=/^([^:]+:)\/\/([^\/\?]+)/,l="undefined"!=typeof window&&window.asdf||("undefined"!=typeof global&&global.asdf?global.asdf:n.asdf);return{asdf:l,getUrlArgNumeric:t,getUrlPageLoc:o,getUrlQueryArgs:r,toQueryString:i,https:u,getParts:a}});
define("ta/common/Repoll",["vanillajs","utils/objutils","utils/urlutils","common/trackingStreams","ta/Core/TA.FireEvent","page-model"],function(e,t,n,r,o,a){var i={normal:[10,1e3,2e3,4e3,4e3,4e3],extended:[10,1e3,2e3,4e3,4e3,4e3,8e3,8e3,8e3,8e3,8e3],obsolete:[10,1e3,1e3,1e3,1e3,1500,1500,1500,2e3,2e3,2e3,5e3,9e3,1e4,11e3,12e3]},l=function(e){function l(e){if(e){var t=e.querySelectorAll("[data-targetEvent]");if(t){var n;try{n=Array.prototype.slice.call(t)}catch(e){n=[];for(var a=0;a<t.length;a++)n.push(t[a])}n.forEach(function(e){var t=e.getAttribute("data-targetEvent");if(t)try{o.fireEvent(t,e)}catch(e){r.error(e,{errorMessage:"ERROR in handler for "+t})}})}}}function s(e){if(x==this&&4===this.readyState){if(L&&L.end(e),N>0)return m=m||[],m.push(s.bind(this,e)),void(window.console&&console.log&&console.log("update held while updates are paused"));this.status>=200&&this.status<=299?ee(this.response||this.responseText):te()}}function c(){if(R>=0&&g&&g>0)return R*g>=6e4?-1:(R*(g+1)>=6e4&&(E=!0),R);var e=g||0;return 0<=e&&e<O.length?(e===O.length-1&&(E=!0),O[e]):-1}function u(){var e=M+"-changes-pending";S||x?o.fireEvent(e,t.extend({},b,P),x&&g>0?g:g+1):(o.fireEvent(e,{},-1),o.fireEvent(M+"-polling-complete"))}function d(){N=N>0?N+1:1}function p(){if(N>1)return void(N-=1);N=0;var e=m||[];m=null;for(var t;t=e.shift();)try{t()}catch(e){}}function f(){return w}e=e||{};var v,h,m,g=1,w=0,y=!1,E=!1,T=0,x=null,P={},S=!1,j={},A={},b={},q=!!e.evaluateScripts,M=e.placement||"page",N=0,R=e.pollTimeoutOverride||-1,H=Date.now(),L=e.tracker,O=(e.inspector,i[e.pollIntervalName||"normal"]||i.normal),C=function(e){return e?decodeURIComponent(e.replace(/\+/g," ")):e},X=function(e){var t,n;v=e.split("#")[0],h=v.split("?")[0],t=v.split("?")[1]||"",n=t.split("&");for(var r=0;r<n.length;r++){var o=n[r].split("=");o[0]&&(j[decodeURIComponent(o[0])]=C(o[1]))}},U=function(e){$(!!e,[])},D=function(e,t){Q(j,e)&&$(!0,t)},I=function(e,t){Q(j,e)&&t&&(E=!1,g=0,H=Date.now())},k=function(e){z(j,e)},F=function(){return j},W=function(e,t){Q(A,e||{}),$(!0,t)},K=function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];delete j[n],y=!0}},Q=function(e,t){if(!t)return!1;for(var n=!1,r=Object.keys(t||{}),o=r.length-1;o>=0;o--){var a=r[o];e[a]!==t[a]&&(n=!0),e[a]=t[a]}return n&&(y=!0),n},z=function(e,t){if(!t)return!1;for(var n=Object.keys(t||{}),r=n.length-1;r>=0;r--){var o=n[r];e[o]=t[o]}},B=function(){$(!1)},G=function(e){var t,n,r,o=(e&&e.getAttribute("data-paramNames")||"").split(",");for(t=0;t<o.length;t++)r=o[t].trim(),r&&(n=e.getAttribute("data-"+r),n?j[r]=n:delete j[r])},J=function(){return!(!x&&!S)},V=function(){return g},Y=function(e){q=!!e},Z=function(){return q},$=function(e,n){var r,a=!S;if(n?"string"==typeof n&&(n=[n]):n=e?["UNKNOWN"]:[],t.each(n,function(e,t){!b[t]&&(a=!0),b[t]=!0}),!S||e&&0!==g){e&&(g=0,H=Date.now(),E=!1);var i=c();i>=0?(S=!0,y&&w++,y=!1,r=++T,window.setTimeout(function(){_(r)},i),a&&u()):(o.fireEvent("hac-could-not-complete"),te())}},_=function(e){if(!x&&S&&e===T){if(N>0)return m=m||[],m.push(_.bind(this,e)),void(window.console&&console.log&&console.log("request held while updates are paused"));var r=++g,o=t.extend({},j,A),i=null;o.reqNum=r,o.isLastPoll=E,o.paramSeqId=w,o.waitTime=Date.now()-H,L&&L.start(r),b.UNKNOWN||(i=[],t.each(b,function(e,t){t&&i.push(e)}),o.changeSet=i.toString()),a.session.uid&&(o.puid=a.session.uid),S=!1,A={},P=b,b={};var l;try{l=new XMLHttpRequest}catch(e){try{l=new ActiveXObject("MSXML2.XMLHTTP")}catch(e){try{l=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){throw new Error("Can't create XMLHttpRequest or similar")}}}l.onreadystatechange=s.bind(l,r),l.open("POST",h,!0),"responseType"in l&&(l.responseType="document");try{l.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8")}catch(e){}try{l.setRequestHeader("X-Requested-With","XMLHttpRequest")}catch(e){}try{l.setRequestHeader("Accept","text/html, */*")}catch(e){}l.send(n.toQueryString(o)),x=l}},ee=function(e){if(N>0)return m=m||[],m.push(ee.bind(this,e)),void(window.console&&console.log&&console.log("update held while updates are paused"));var t;"string"==typeof e?(t=document.createElement("div"),t.innerHTML=e):t=e;var n=S;if(x=null,P={},q){var r=t.querySelectorAll("script");r=r?Array.prototype.slice.call(r):[];for(var a=0;a<r.length;++a){var i=r[a];if("application/json"!==i.type&&"application/ld+json"!==i.type&&(i.parentNode.removeChild(i),i.innerHTML))if(window.execScript)window.execScript(i.innerHTML);else if(window.eval)window.eval(i.innerHTML);else{var s=document.createElement("script");s.setAttribute("type","text/javascript"),s.text=i.innerHTML,document.head.appendChild(s),document.head.removeChild(s)}}}l(t),"page"===M&&(t.querySelector('[data-targetEvent="'+M+'-repoll-not-done"]')||o.fireEvent("MetaFetchComplete")),x=null,n&&_(++T),u()},te=function(){if(N>0)return m=m||[],m.push(te.bind(this)),void(window.console&&console.log&&console.log("error held while updates are paused"));var e=S;x=null,P={},e?_(++T):o.fireEvent(M+"-repoll-failed"),u()};return o.on(M+"-repoll-not-done",B),o.on(M+"-repoll-ajax-params",G),X(e.pageUrl||window.location.href),e.ajaxParams&&(j=t.extend(j,e.ajaxParams)),setTimeout(function(){J()||o.fireEvent(M+"-polling-complete")},0),{setPageUrl:X,repoll:U,pause:d,resume:p,getAjaxParams:F,setAjaxParams:D,setAjaxParamsNoPoll:I,setAjaxParamsNoPollForSP:k,setOneTimeParams:W,removeAjaxParams:K,setNotDone:B,isUpdatePending:J,getLastRequestNum:V,setScriptsEval:Y,isScriptsEvalEnabled:Z,fireTargetEvents:l,getParamSeqId:f}};return l});
define("common/page-filters",["babel/babel-helpers","mixins/mixin","mixins/Events"],function(t,e,n){"use strict";function r(t,e){var n=v[t];return n&&e(n)}function i(t,e,n,r){return v[t]=new e(t,n,r),this}function u(t){return r(t,function(t){return t.isModified()})}function o(e,n){var i=this;r(e,function(r){var u=r.get();r.set(n);var o=r.get();u!==o&&i.emit("change",t.defineProperty({},e,{from:u,to:o}))})}function c(e,n){var i=this;r(e,function(r){var u=r.get();r.clearAll(),n.forEach(function(t){return r.set(t)});var o=r.get();u!==o&&i.emit("change",t.defineProperty({},e,{from:u,to:o}))})}function s(t){return t?r(t,function(t){return t.get()}):Object.keys(v).reduce(function(t,e){return t[e]=v[e].get(),t},{})}function a(t,e){return!!(t&&e&&Array.isArray(e))&&r(t,function(t){return t.isSelected(e)})}function f(e,n){var i=this;r(e,function(r){var u=r.get();r.clear(n);var o=r.get();u!==o&&i.emit("change",t.defineProperty({},e,{from:u,to:o}))})}function l(e){var n=this;if(!e){var i=this.get(),u=Object.keys(v).reduce(function(t,e){var n=v[e];if(!n.excludeClearAll){var r=n.get();n.clearAll(),r!=n.get()&&(t[e]={from:r,to:n.get()})}return t},{});return void(JSON.stringify(i)!==JSON.stringify(u)&&this.emit("change",u))}r(e,function(r){var i=r.get();r.clearAll();var u=r.get();i!==u&&n.emit("change",t.defineProperty({},e,{from:i,to:u}))})}function h(t,e){return r(t,function(t){return t.parse(e)})}function p(t,e){return r(t,function(t){return t.format(e)})}var v={},d=",",y="#",g=function(t,e,n){var r=this,i=!1,u=e;this.param=t,this.excludeClearAll=n,this.set=function(t){i=i||u!==t,u=t},this.get=function(){return u},this.clear=function(t){return r.set("")},this.clearAll=function(){return r.set("")},this.parse=function(t){return t?[t]:[]},this.format=function(t){return t},this.isModified=function(t){return i},this.isSelected=function(t){return t.every(function(t){return u===t})}},m=function(t,e,n){var r=this,i=!1;this.parse=function(t){return"string"!=typeof t?[]:t.split(d).filter(function(t){return""!==t}).map(function(t){return t.split(y)}).filter(function(t){return t.length>0&&""!==t[0]}).map(function(t){return{key:t[0],value:t[1]||""}})},this.format=function(t){return Object.entries(t).map(function(t){return t.join(y)}).join(d)};var u=e?this.parse(e).reduce(function(t,e){return t[e.key]=e.value,t},{}):{};this.param=t,this.excludeClearAll=n,this.set=function(t){return r.parse(t).map(function(t){i=i||!u.hasOwnProperty(t.key)||u.hasOwnProperty(t.key)&&u[t.key]!==t.value,u[t.key]=t.value})},this.get=function(){return r.format(u)},this.clear=function(t){"string"==typeof t&&t.split(d).filter(function(t){return""!==t}).map(function(t){u.hasOwnProperty(t)&&(i=i||u.hasOwnProperty(t),delete u[t])})},this.clearAll=function(){return u={}},this.isModified=function(t){return i},this.isSelected=function(t){return t.every(function(t){return u.hasOwnProperty(t.key)&&u[t.key]===t.value})}},O=function(t,e,n){var r=!1;this.parse=function(t){return t.split(d).filter(function(t){return!!t})},this.format=function(t){return t.join(d)};var i=e?this.parse(e).reduce(function(t,e){return t[e]=!0,t},{}):{};this.param=t,this.excludeClearAll=n,this.set=function(t){var e=t.split(",");for(var n in e)if(e.hasOwnProperty(n)){var u=e[n];r=r||!i.hasOwnProperty(u),i[u]=!0}},this.get=function(){return Object.keys(i).join(d)},this.clear=function(t){var e=t.split(",");for(var n in e)if(e.hasOwnProperty(n)){var u=e[n];r=r||i.hasOwnProperty(u),delete i[u]}},this.clearAll=function(){r=r||Object.keys(i).length>0,i={}},this.isModified=function(t){return r},this.isSelected=function(t){return t.every(function(t){return i.hasOwnProperty(t)&&i[t]})}},A=function(t,e,n){var r=this;this.parse=function(t){},this.format=function(t){return""};var i=!1;this.param=t,this.excludeClearAll=n,this.set=function(t){return i=!0},this.get=function(){return null},this.clear=function(t){i&&(P.emit("cleared-"+r.param),i=!1)},this.clearAll=function(){return r.clear(null)},this.isModified=function(t){return!1},this.isSelected=function(t){return!1}},P=e({SingleValueFilter:g,MultiValueFilter:O,FauxFilter:A,KeyValueFilter:m,register:i,set:o,isModified:u,setAll:c,get:s,isSelected:a,clear:f,clearAll:l,parse:h,format:p},new n("change"));return P});
define("commerce/offerclickEvents",["mixins/Events","vanillajs"],function(e){"use strict";return new e("beforeClick","afterClick")});
define("utils/stopevent",["vanillajs"],function(){return function(e){return e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1),!1}});
define("utils/waiton",["vanillajs"],function(){return function(n,i,t){function o(){--u<=0&&!c&&(e&&clearTimeout(e),c=!0,i())}var u=0,e=null,c=!1;return n&&0!=n.length?(n.forEach(function(n){u++,n(o)}),void(t>0&&(e=setTimeout(function(){u=0,o()},t)))):void i()}});
define("ta/popups/PollForPartnerLoad",["common/trackingStreams"],function(t){var e=function(n,E,r,a,o){n&&setTimeout(function(){var C=null,c=(new Date).getTime()-E.getTime();try{C=n.document}catch(t){}C?c>2e4?t.trackEvent("COMMERCE_CLICK","PROVIDER_TIMEOUT",r||"",c):n.closed?t.trackEvent("COMMERCE_CLICK","PROVIDER_CLOSED",r||"",c):e(n,E,r,a,o):t.trackEvent("COMMERCE_CLICK","PROVIDER_LOADED",(o||window.pageServlet||"")+"|"+(a||"")+"|"+(r||""),c)},100)};return e});
define("ta/Browser",["vanillajs","ns-exporter"],function(e,n){var t,r={},i=function(){return navigator.userAgent.indexOf("MSIE 10.0")>=0},o=r.isIE11orHigher=function(){return navigator.userAgent.toLowerCase().indexOf("trident/7.")>-1||navigator.userAgent.toLowerCase().indexOf("msie 11.")>-1};return r.isIE9orHigher=function(){return navigator.appVersion.indexOf("MSIE 9")>=0||i()||o()},r.isIE10Metro=function(){return i()&&r.isIEMetro()},r.isIEMetro=function(){var e=null,n=o(),t=n?127:0,r=window.innerWidth==screen.width&&screen.height-window.innerHeight===t;try{e=!!new ActiveXObject("htmlfile")}catch(n){e=!1}return!e&&r&&(n||i())},r.isIE=function(){return navigator.userAgent.indexOf("MSIE")>=0},r.isChrome=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},r.getFlashVersion=function(){if("number"!=typeof t){var e;try{e=navigator.plugins["Shockwave Flash"].description}catch(n){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(e){}}var n=(e||"0 r0").match(/\d+/g);t=Number(n[0]||"0."+n[1])||0}return t},r.isChromeIncognito=function(e){var n=window.RequestFileSystem||window.webkitRequestFileSystem;return n&&"function"==typeof n?void n(window.TEMPORARY,100,function(){e("normal")},function(){e("incognito")}):void e("undetermined")},n.exportTo(r,"ta.browser"),r});
define("utils/json-to-url",["vanillajs"],function(){"use strict";return function(n){return n?Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&"):""}});
define("mobile/lite/ajax-request",["utils/json-to-url","vanillajs"],function(t){function e(t){var e=document.createElement("a");return e.href=t,e.protocol!==window.location.protocol||e.host!==window.location.hostname}return function(s,o){"object"==typeof s&&(o=s,s=o.url),o=o||{};var n=o.method||o.type||"GET",r="string"==typeof o.data?o.data:t(o.data);return new Promise(function(t,a){var i=new XMLHttpRequest;i.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&(200===this.status?(o.success&&o.success(this.responseText,this.status,i),t(this.responseText)):(o.error&&o.error(i,this.status,this.statusText),a(this.responseText)),o.complete&&o.complete(i,this.statusText))},"get"==n.toLowerCase()&&"string"==typeof r&&r.length>0&&(s+=("?"==r[0]?"":"?")+r,r=null),i.open(n,s,!o.synchronous),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e(s)||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(r)})}});
define("utils/cookieutils",["vanillajs","mobile/lite/ajax-request"],function(t,e){"use strict";var o=function(t){return"undefined"!=typeof t&&null!==t},n=function(t){return t.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},i=function(){var t=window.location.host.match(/\.tripadvisor\..*/);return null!=t?t=t[0]:null},a=function(t,e,n){if(o(n.doNotEscape)&&n.doNotEscape||(e=encodeURIComponent(e)),e+=n.domain?"; domain="+n.domain:"; domain="+i(),n.path&&(e+="; path="+n.path),n.duration){var a=new Date;a.setTime(a.getTime()+1e3*n.duration),e+="; expires="+a.toGMTString()}n.secure&&(e+="; secure");var r="%1%";o(n.ignoreVersion)&&n.ignoreVersion&&(r=""),document.cookie=t+"="+r+e};return{addPidToCookie:function(t){o(t)&&0!==t.length&&a("NPID",t,{path:"/",duration:5,ignoreVersion:!0})},roybatty:function(){var t,o=i(),n=window.taSecureToken;if(window.taEarlyRoyBattyStatus)window.taEarlyRoyBattyStatus>1&&ta&&ta.trackEventOnPage&&ta.trackEventOnPage("early_roy_batty","confirm","",0,!0);else if(t=this.getCookie("roybatty")){var a=t.split(",");if(a&&2==a.length){var r=parseInt(a[1],10);document.setCookie("roybatty",n+","+r,{domain:o,ignoreVersion:!0,path:"/"})}}else document.setCookie("roybatty",n+",1",{domain:o,ignoreVersion:!0,path:"/"}),e({method:"POST",url:"/CookiePingback"})},getCookie:function(t){var e=document.cookie.match("(?:^|;)\\s*"+n(t)+"=([^;]*)");return e?(e=e[1],0===e.indexOf("%1%")&&(e=e.substring(3)),decodeURIComponent(e)):null},setCookieInSeconds:a}});
define("commerce/cookieSetter",["vanillajs","utils/cookieutils"],function(e,i){function o(){var e=require.defined("page-model")&&require("page-model");e&&e.session.uid&&i.setCookieInSeconds(n,e.session.uid,{duration:10,ignoreVersion:!0})}var n="comm_puid";return o});
define("commerce/offerclick",["ta","mixins/mixin","commerce/offerclickEvents","utils/urlutils","utils/stopevent","utils/waiton","ta/popups/PollForPartnerLoad","ta/Browser","ta/util/Cookie","commerce/cookieSetter"],function(e,t,r,o,i,n,c,a,l,u){"use strict";function f(e){if("string"!=typeof e)return e;var t=o.asdf(e.trim()).replace(/&amp;/g,"&");if("undefined"!=typeof window&&window.crPageServlet&&(t=t.replace(E,"$1from=HotelDateSearch_"+crPageServlet),E.test(t)||(t+="&from="+crPageServlet)),"undefined"!=typeof document&&document.location&&document.location.href){var r=o.getUrlPageLoc(document.location.href);r&&(t+="&pageLocId="+r)}var i=o.getUrlQueryArgs(t);return t=t.replace(P,""),{url:t,isBooking:t.indexOf("/StartBooking")>=0||t.indexOf("/MobileHotelBookingRoomSelection")>=0,ttP:i.tp,ttIK:i.ik,ttAOK:i.aok,slot:i.slot,providerName:i.p,ik:i.ik,locId:i.d||i.geo,area:i.area,contentId:i.src_0||i.src,trackingContext:i.btc,selectedPrice:i.priceShown,offerStr:i.gosox||"",openBehavior:i.ob}}function d(e){"function"==typeof e&&I.push(e)}function s(){b=!0}function m(t){return"same_tab"!==t.openBehavior&&((!t.isBooking||!a.isIE10Metro())&&"undefined"!=typeof e)}function p(){try{document.domain=document.domain}catch(e){return!0}return!1}function v(e,t){t=f(t);var r=p(),o=window.open(r?t.url:"","_blank");return!o&&"undefined"!=typeof Browser&&Browser.ie&&t.isBooking?(l.setPIDCookie(38822),void k(e,t)):(r||(o?o.location=t.url:window.location=t.url),I.forEach(function(r){r(e,t,function(){})}),void c(o,new Date,t.providerName,t.slot))}function k(t,r){r=f(r);var o=250;n(I.map(function(e){return e.bind(null,t,r)}),function(){"undefined"!=typeof e&&e.retrieve&&e.retrieve("ta.isIE11orHigher")?window.open(r.url,"_self",null,!1):window.location.href=r.url},o)}function g(t,o,n,c){if(t&&!c&&i(t),n=f(n),b){if(n&&S===n.offerStr)return!1;setTimeout(function(){S=null},1e3),S=n&&n.offerStr}if(r.emit("beforeClick",n),e.store&&e.retrieve&&o&&n&&n.ttIK&&n.selectedPrice){var a=e.retrieve("CLICK_PRICE_DOUBLE_CHECK");a||(a={}),a[n.ttIK]=String(n.selectedPrice),e.store("CLICK_PRICE_DOUBLE_CHECK",a)}return require.defined("ta/Core/TA.Event")&&setTimeout(function(){try{require("ta/Core/TA.Event").fireEvent("metaLinkClick",o,n.isBooking?"TripAdvisor":n.providerName,n.area,n.locId,n.contentId,"new_tab",n.slot),n.isBooking&&require("ta/Core/TA.Event").fireEvent("ibOfferClick",o)}catch(e){require.defined("ta/util/Error")&&require("ta/util/Error").record(e,"Commerce click tracking failed",null,{servlet:window.pageServlet,url:n.url,area:n.area})}},300),(!B||!B(n))&&(u(),m(n)?v(o,n):k(o,n),r.emit("afterClick",n),!1)}function w(e){B=e}function C(e,t){var r=t.getAttribute("data-clicktoken");r&&require(["ta/page"],function(){g(e,t,r)})}var E=new RegExp("(&|\\?)from=[^&]*"),P=new RegExp("(&|\\?)ob=[^&]*"),I=[],B=null,S=null,b=!1,h={expandToken:f,clickEvent:g,compElementClick:C,registerAsyncPreclick:d,setPreClickHandler:w,enableMultiTapPrevention:s};return t(h,r)});
define("ajax-request",["utils/json-to-url","utils/urlutils"],function(t,e){function r(t){var r=document.createElement("a");r.href=t;var s=e.getParts(r.href);return s.protocol!==window.location.protocol||s.host!==window.location.hostname}function s(t,e,s){try{r(t)||e.setRequestHeader("X-Requested-With","XMLHttpRequest")}catch(t){}try{var n=s["content-type"]||"application/x-www-form-urlencoded; charset=utf-8";e.setRequestHeader("Content-Type",n)}catch(t){}try{var o=s.accept||"text/html, */*";e.setRequestHeader("Accept",o)}catch(t){}try{var a=s["x-requested-by"];a&&e.setRequestHeader("X-Requested-By",a)}catch(t){}}function n(){try{return new XMLHttpRequest}catch(t){try{return new ActiveXObject("MSXML2.XMLHTTP")}catch(t){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){throw new Error("Can't create XMLHttpRequest or similar")}}}}return function(e,r){"object"==typeof e&&(r=e,e=r.url),r=r||{};var o=r.method||r.type||"GET",a="string"==typeof r.data?r.data:t(r.data);return new Promise(function(t,c){var u=n(),i=!1;u.onreadystatechange=function(){i||u.readyState!==XMLHttpRequest.DONE||(i=!0,u.status>=200&&u.status<=299?(r.success&&r.success(this.responseText,this.status,u),t(this.responseText)):u.status>0&&(r.error&&r.error(u,this.status,this.statusText),c(this.responseText)),r.complete&&r.complete(u,this.statusText))},"get"===o.toLowerCase()&&"string"==typeof a&&a.length>0&&(e+=("?"===a[0]?"":"?")+a,a=null),u.open(o,e,!r.synchronous),s(e,u,r),u.send(a)})}});
define("utils/BatchRequest",["ajax-request"],function(e){"use strict";function n(e,n){r[e]=r[e]||[],r[e].push(n),i&&clearTimeout(i),i=setTimeout(t,a)}function t(n){for(var t in r)if(r.hasOwnProperty(t)){for(var a={batched:!0},i=r[t],u=0;u<i.length;u++)for(var o in i[u])i[u].hasOwnProperty(o)&&(a["data["+u+"]["+o+"]"]=i[u][o]);e({method:"POST",url:t,data:a,synchronous:n})}r={}}var a=1500,r={},i=null;return window.addEventListener("onpagehide"in window?"pagehide":"unload",t.bind(null,!0)),{queue:n}});
define("utils/ResponsiveEvents",["mixins/Events","utils/responsive","utils/throttle","vanillajs"],function(n,e,t){"use strict";function r(n,e,t){var r=n.filter(function(n){return e.indexOf(n)<0}),i=e.filter(function(e){return n.indexOf(e)<0});return t?r.reverse().concat(i.reverse()):r.concat(i)}function i(){var n=document.body.clientWidth;if(n!=o){var t=n>o,i=e.currentBreakpoints(),f=r(u,i,t);f.forEach(function(n){var e=t?"over-":"under-";c.emit(e+n)}),f.length&&c.emit("breakpoint",i[0]),u=i,o=n}}var o=document.documentElement.clientWidth,u=e.currentBreakpoints(),f=["breakpoint"];e.breakpoints.forEach(function(n){f.push("over-"+n,"under-"+n)});var c=n.create(f);return c.onOver=function(n,e){c.on("over-"+n,e)},c.onUnder=function(n,e){c.on("under-"+n,e)},c.offOver=function(n,e){c.off("over-"+n,e)},c.offUnder=function(n,e){c.off("under-"+n,e)},window.addEventListener("resize",t(i,100)),c});
define("responsive/breakpoint-tracker",["babel/babel-helpers","common/trackingStreams","utils/ResponsiveEvents","utils/responsive","vanillajs"],function(e,n,t,i){"use strict";function r(e){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r="mobile"===e?320:i.widths[e];n.trackEvent("Breakpoint",r,t)}function o(){s||(r(i.currentBreakpoints()[0]),t.on("breakpoint",r),s=!0)}var s=!1;return{init:o}});
define("sponsoredlisting/HotelsSponsoredListingPolling",["vanillajs","ta/Core/TA.FireEvent"],function(e,r){function s(e){e.removeAjaxParams([n]),r.fireEvent("hotels.sponsored_listings_refreshed")}var n="sl_candidate_map",o=function(e,r,s){var o,a,i=e.getAjaxParams()[n];o=i?JSON.parse(i):{};for(a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);var t={};t[n]=JSON.stringify(o),e.setAjaxParamsNoPollForSP(t),s&&e.setNotDone()};return{updateSponsoredListingAjaxParam:o,refreshSponsoredListings:s}});
define("utils/classnameUtils",["vanillajs"],function(){function s(s){return e[s]?e[s].lastIndex=0:e[s]=new RegExp("(\\s|^)"+s+"(\\s|$)","g"),e[s]}var a={},e={};return a.hasClass=function(a,e){return!!a&&(a.classList?a.classList.contains(e):s(e).test(a.className))},a.addClass=function(s,e){s&&e&&(s.classList?s.classList.add(e):a.hasClass(s,e)||(s.className+=" "+e))},a.removeClass=function(a,e){a&&e&&(a.classList?a.classList.remove(e):a.className=a.className.replace(s(e)," "))},a.toggleClass=function(s,e,n){s&&(n||void 0===n&&!a.hasClass(s,e)?a.addClass(s,e):a.removeClass(s,e))},a.getParentByClassname=function(s,e){for(var n=s&&s.parentNode;n;n=n.parentNode)if(a.hasClass(n,e))return n;return null},a});
define("responsive/text-resizer",["babel/babel-helpers","utils/to-array","utils/classnameUtils","utils/throttle","utils/ResponsiveEvents","vanillajs"],function(t,e,i,r,n){function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return!t===document&&(t=document.body),e(t.querySelectorAll("."+p)).filter(function(t){return!!t[v]})}function u(e){e.style.fontSize=null;var i=(getComputedStyle(e)||{}).fontSize;if(!i)return{};var r=i.match(b),n=t.slicedToArray(r,3),l=(n[0],n[1]),u=n[2],o=parseFloat(l);return o&&o>.001&&z[u]?{originalSize:o,units:u,multiplier:1,minMult:Math.max(y,z[u]/o)}:{}}function o(t){if(t[v])return t[v];var e=u(t);return e.originalSize?(t[v]=Object.assign(e,{group:t.getAttribute(h),multApplied:1}),t[v]):null}function a(t){for(var e=0;e<g&&t.length;e++)t.forEach(c),t=t.filter(function(t){if(!(t.clientWidth>0)||t.scrollWidth<=t.clientWidth)return!1;var e=t[v],i=(parseFloat(t.style.paddingLeft)||0)+(parseFloat(t.style.paddingRight)||0),r=t.scrollWidth-i;if(r<1)return!1;var n=(t.clientWidth-i-2)/r;return n=Math.min(n,.95)*e.multiplier,n<=e.minMult?(e.multiplier=e.minMult,!1):(e.multiplier=n,!0)});t.length&&(t.forEach(c),t.forEach(function(t){t.scrollWidth>t.clientWidth&&(t[v].multiplier=t[v].minMult)}))}function c(t){var e=t[v];if(!(e&&e.multApplied!=e.multiplier&&e.multiplier>0))return!1;var i=Math.max(z[e.units],e.originalSize*e.multiplier);return t.style.fontSize=""+i+e.units,e.multApplied=e.multiplier,!0}function s(t){if(t&&t.length){var e={};t.forEach(function(t){var i=t[v];i.group?e[i.group]=1:c(t)}),Object.keys(e).length&&(t=l(document.body).filter(function(t){var i=t[v],r=i.group;return!!(i&&r&&e[r]&&i.multiplier>0)&&(e[r]>i.multiplier&&(e[r]=i.multiplier),!0)}),t.forEach(function(t){var i=t[v];i.multiplier=e[i.group],c(t)}))}}function f(t){if(t&&(E||(E=!0,f(document.body),t!==document&&t!==document.body))){var c=e(t.querySelectorAll("."+m));if(c.length){c.forEach(function(t){i.removeClass(t,m),i.addClass(t,p)});var h=[];c=c.filter(function(t){var e=o(t);return!!e||(h.push(t),!1)}),a(c),h.forEach(function(t){i.removeClass(t,p),i.addClass(t,m)}),s(c),S||(window.addEventListener("resize",r(function(){d(document.body)},50)),n.on("breakpoint",function(){l(document.body).forEach(function(t){return Object.assign(t[v],u(t))})}),S=!0)}}}function d(t){var e=l(t);a(e),s(e)}var m="autoResize",p="__resizeWatch",h="data-sizegroup",v="__resizerContext",g=4,y=.5,b=/^(\d+(?:\.\d+)?)(.*)$/,z={"px":8.5,"em":.5,"pt":6,"%":50},E=!1,S=!1;return{init:f,refresh:d}});
define("widget/saves",["page-model","ta/registration/RegEvents","utils/to-array","ajax-request"],function(t,e,a,r){"use strict";function n(e,n,d){var c;if(3===arguments.length)return c=a(document.querySelectorAll('.saves-widget-button[data-id="'+e+'"][data-type="'+n+'"]')),void c.forEach(function(t){s(t,d)});if(t.session.loggedIn){c=a(document.querySelectorAll(".saves-widget-button"));var o=[];c.forEach(function(t){o.push({reference_type:t.getAttribute("data-type"),reference_id:t.getAttribute("data-id"),reference_uid:t.getAttribute("data-id")})}),0!==o.length&&r({"url":"/data/1.0/trips/references","type":"POST","data":JSON.stringify({data:o}),"content-type":"application/json","x-requested-by":t.JS_SECURITY_TOKEN}).then(i.bind(null,c))}}function i(t,e){var a={};JSON.parse(e).data.forEach(function(t){a[t.reference_type]||(a[t.reference_type]=[]),a[t.reference_type].push(t.reference_id)}),t.forEach(function(t){var e=t.getAttribute("data-type"),r=t.getAttribute("data-id"),n=!!(a[e]&&a[e].indexOf(+r)>=0);s(t,n)})}function d(t,e){return t.classList.contains(e)?t:t.querySelector("."+e)}function s(t,e){var a=(t.getAttribute("data-type"),t.getAttribute("data-id"),t.getAttribute("data-icon-class")),r=t.getAttribute("data-text"),n=t.getAttribute("data-text-saved"),i=d(t,"saves-icon-locator");if(i&&(e?(i.classList.remove(a),i.classList.add(a+"-fill")):(i.classList.add(a),i.classList.remove(a+"-fill"))),r&&n){var s=d(t,"saves-text-locator");s&&(s.innerText=e?n:r)}}function c(){o||(e.on("success",n),"complete"===document.readyState||"interactive"===document.readyState||"loaded"===document.readyState?n():document.addEventListener("DOMContentLoaded",n),o=!0)}var o=!1;return c(),{init:c,updateSaveButtonsStatus:n}});
define("ta/util/trackHistoryInject",["common/trackingStreams"],function(t){return function(){window.history&&window.history.state&&(window.history.state.fromBackClick&&(delete window.history.state.fromBackClick,t.trackEventOnPageOnce("commerce_history_injection","back_button_clicked")),window.history.state.fromBABackClick&&(delete window.history.state.fromBABackClick,t.trackEventOnPageOnce("ba_history_injection","back_button_clicked")))}});
define("common/poll-tracker",["babel/babel-helpers","mixins/mixin","mixins/Events"],function(n,t,e){"use strict";function r(n){return n.reduce(function(n,t){return n.concat(t)})}function l(n){return n.pollGroups[n.pollGroups.length-1]}function u(n,t){for(var e=n.pollGroups.length-1;e>=0;e--){var r=n.pollGroups[e][t-1];if(r)return r}return null}function o(n){for(var t=0;t<n.length;t++)if(n[t])return n[t];return null}var i=function(){function i(r){n.classCallCheck(this,i),this.name=r,this.pollGroups=[],t(this,new e("pollRecorded"))}return n.createClass(i,[{key:"start",value:function(n){1!==n&&0!==this.pollGroups.length||this.pollGroups.push([]),l(this)[n-1]={start:Date.now(),end:null}}},{key:"end",value:function(n){var t=u(this,n);null!==t&&null===t.end&&(t.end=Date.now(),this.emit("pollRecorded",t))}},{key:"report",value:function(){return 0===this.pollGroups.length?null:{pollDurations:r(this.pollGroups).filter(function(n){return null!=n}).map(function(n){return n.end-n.start}),groupDurations:this.pollGroups.map(function(n){return n[n.length-1].end-o(n).start}),timeBetweenResponses:r(this.pollGroups.map(function(n){return n.map(function(t,e){return n[e+1]?n[e+1].end-t.end:null}).filter(function(n){return!!n})}))}}},{key:"clear",value:function(){this.pollGroups=[]}}]),i}();return i});
define("common/metric-recorder",["babel/babel-helpers","ajax-request"],function(e,r){return function(e){return r({"method":"POST","url":"/MetricsAjax","x-requested-by":require("page-model").JS_SECURITY_TOKEN,"data":"metricsData="+encodeURIComponent(JSON.stringify(e))})}});
define("commerce/hacListener",["ta/Core/TA.FireEvent"],function(e){function t(t){u.hasCommerce="true"===(t&&t.getAttribute(n)),u.hacComplete="true"===(t&&t.getAttribute(r)),u.isAnyAvailable="true"===(t&&t.getAttribute(c)),e.fireEvent("hacListenerUpdate")}function a(){return u}var n="data-has-any-commerce",r="data-hac-complete",c="data-is-any-available",i="hacStatusUpdate",u={};return t(document&&document.body),e.on(i,t),{getHacStatus:a}});
define("servlets/responsivehotelreview",["mixins/mixin","utils/objutils","mixins/page-dates/DateEvents","mixins/page-dates/Responsive","mixins/page-guests/Guests","ta/common/Repoll","ta/Core/TA.Store","common/page-filters","mobile/lite/image-loader","commerce/offerclick","amdloaders","utils/BatchRequest","responsive/breakpoint-tracker","ta/Core/TA.FireEvent","sponsoredlisting/HotelsSponsoredListingPolling","responsive/text-resizer","widget/saves","ta/util/trackHistoryInject","common/poll-tracker","common/metric-recorder","common/trackingStreams","utils/throttle","common/Radio","commerce/hacListener","ta/util/SessionStorage","ta/Core/TA.LocalStorage"],function(e,t,n,i,r,o,a,s,l,c,d,u,m,p,v,g,f,w,h,S,T,E,I,_,P,O){"use strict";function b(t){if(M)return M;if(M=this,t.pixelLoadingTracing){var u;u=window.performance&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now(),console.log("responsive hr wiring up event handlers! - "+(Date.now()-u)),window.addEventListener("load",function(){console.log("responsive hr load event! - "+(Date.now()-u))}),window.addEventListener("DOMContentLoaded",function(){console.log("responsive hr DOMContentLoaded event! - "+(Date.now()-u))})}e(this,n),e(this,new i(t.pageDates,t.calendar)),e(this,new r(t.pageGuests)),j=new Promise(require.bind(null,["trjs!servlets/responsivehotelreview-pl"])).then(function(e){return e.init(t),e}),j.then(d.activate.bind(d));var v=t.repollOptions||{evaluateScripts:!0};if(t.trackPollingMetrics){var _=v.tracker=new h("hotel_review");_.on("pollRecorded",function(e){var t=e.end-e.start;S([{name:"hr_poll",value:t,labels:[require("page-model").LOC_ID]}])})}C=new o(v),c.on("afterClick",function(e){var t={locId:e.locId,isMetaCheckRates:!0,contentId:e.contentId,selectedPrice:e.selectedPrice,offerStr:e.offerStr};j.then(function(e){e.loadClickoutMonikers(t)})}),t.preventOfferclickMultiTaps&&c.enableMultiTapPrevention(),w();var O=this.onDatesSelected;this.onDatesSelected=function(e,t,n){O(e,t,n),M.hasDates("STAYDATES")&&x(e)},R(),t.filtersInit.forEach(function(e){var t="multi"===e.type?s.MultiValueFilter:s.SingleValueFilter;s.register(e.name,t,e.value,"true"===e.excludeFromClearAll)}),s.on("change",function(){var e=s.get();C.setOneTimeParams(e,["REVIEW_LIST"]);var t=location.pathname.replace(/-or\d+/,"");D(t)}),l.init(200),m.init(),a.store("no-old-resize",!0),g.init(document.body),f.init(),t.trackInteractionMetrics&&require(["trjs!hotels/tracking/timing"],function(e){e.enable();var t=null;p.on("page-changes-pending",function(n,i){n.REVIEW_LIST&&1===i?t=e.start("reviews_update",require("page-model").LOC_ID):i===-1&&t&&t()})}),t.hotspotSaveIcon&&P.canUseSessionStore()&&!P.getObject("savesnuxhotspot")?(P.setObject("savesnuxthispageload",!0),I("save-to-trip").on("wc-widgets-loaded",function(){P.getObject("savesnuxhotspot")||(I("save-to-trip").emit("hotspot-page"),P.setObject("savesnuxhotspot",!0))})):P.canUseSessionStore()&&P.remove("savesnuxthispageload"),t.mediaviewer?a.store("mediaviewer",!0):a.remove("mediaviewer");var b=E(function(){window.pageYOffset<=50&&(T.trackEvent("top","in_view"),window.removeEventListener("scroll",b))},200);return window.addEventListener("scroll",b),I("hotels-wcs").on("refreshPrices",y),M}function k(e){window&&window.__REDUX_STORE__&&window.__REDUX_STORE__.dispatch(e)}function x(e){var n=t.extend({},M.guests.toQueryJson(),M.datesToQueryJson("STAYDATES"));v.refreshSponsoredListings(C),C.setAjaxParamsNoPoll({btc:a.retrieve("booking.tracking.context")},!1),C.setOneTimeParams(n,"TRAVEL_INFO"),M.emit("newPageTravelInfo",e),n&&k({type:"SET_HOTELS_DATES_GUESTS",stayDates:n.staydates,guests:n.uguests,paramSeqId:C.getParamSeqId()})}function D(e,t){var n=location.pathname!==e;if(n){if(!history.replaceState)return void setTimeout(function(){window.location.href=e},10);if(history.replaceState(history.state,document.title,e),t)if(require.defined("lib/jquery-amd"))!function(e){var t=e("[data-reviewsScrollTarget]").offset().top-50;e("html,body").animate({scrollTop:t},400)}(require("lib/jquery-amd"));else{var i=document.querySelector("[data-reviewsScrollTarget]");i&&i.scrollIntoView&&i.scrollIntoView()}C.setPageUrl(e),C.setOneTimeParams({},"REVIEW_LIST")}}function L(e){C.setOneTimeParams(e,"REVIEW_LIST")}function y(){C.setAjaxParamsNoPoll({btc:a.retrieve("booking.tracking.context")},!1),C.setOneTimeParams({},"MAIN_META"),I("hr-map").trigger("refreshPrices")}function A(){return C.isUpdatePending()}function R(){p.on("hotels.sponsored_listing_updated",function(e,t){v.updateSponsoredListingAjaxParam(C,e,t)})}var C,j,M=void 0;return c.setPreClickHandler(function(e){if(!e.isBooking)return!1;if("string"==typeof e.area&&e.area.indexOf("Map_Detail")!==-1)return!1;var t=document.getElementById("ROOMS_TAB");return!!(t=t&&t.getAttribute("data-ibInterceptPlacement"))&&(placementEvCall(t,"handlers.ibClickIntercept",null,null,e),!0)}),{init:b,processNewTravelInfo:x,isUpdatePending:A,applyPaginationOffset:D,refreshWithParams:L,refreshPrices:y,getHacStatus:_.getHacStatus}});
define("ta/util/ajaxPreserves",["vanillajs"],function(){function e(e,n,r){if(r&&n&&e){var a=r.querySelectorAll(".ajax_preserve");if(a.length>0){var t={},l=n.querySelectorAll(".ajax_preserve, .ajax_preserve_noreplace");Array.prototype.forEach.call(l,function(e){var n=e.getAttribute("data-ajax-preserve");n&&(t[n]=e)}),Array.prototype.forEach.call(a,function(n){var r=t[n.getAttribute("data-ajax-preserve")];r&&e(r,n)})}}}var n={};return n.copy=e.bind(null,function(e,n){n.parentNode&&n.parentNode.replaceChild(e,n)}),n.innerCopy=e.bind(null,function(e,n){n.innerHTML=e.innerHTML}),n.replaceContent=function(e,r){for(n.copy(r,e),r.innerHTML="";e.childNodes.length>0;)r.appendChild(e.childNodes[0])},n.setContentElement=function(e,r,a){n.copy(e,r),a?e.parentNode&&e.parentNode.replaceChild(r,e):(e.innerHTML="",e.appendChild(r))},n});
define("utils/nodePreserve",["ta/util/ajaxPreserves","utils/to-array"],function(e,r){"use strict";function t(e,r){if(e)for(e.innerHTML="";r.firstChild;)e.appendChild(r.firstChild)}function a(e,r){r&&Array.prototype.forEach.call(r.querySelectorAll(".node-preserve, .ajax_preserve"),function(r){var t=r.getAttribute("data-ajax-preserve");t&&(e[t]=r,r.parentNode&&r.parentNode.removeChild(r))})}function n(e,r){var a=r.getAttribute("data-ajax-preserve"),n=e[a];n&&(r.parentNode&&r.parentNode.replaceChild(n,r),t(n,r),delete e[a])}function i(i,o,l){if(i&&o){var d={};l&&e.innerCopy(i,o),a(d,i),t(i,o),r(i.querySelectorAll("[data-ajax-preserve]")).forEach(n.bind(null,d))}}var o={};return o.nodePreserve=function(e,r){i(e,r,!1)},o.treePreserve=function(e,r){i(e,r,!0)},o});
define("hotels/SpecialMessageUtil",["babel/babel-helpers","ta/util/SessionStorage","utils/responsive","utils/classnameUtils"],function(e,s,t,a){function r(e,s){var t=o();return!!t[e]&&(!s||!!t[e][s])}function i(e,s){a.removeClass(e,d),"BRAND_MESSAGING_DEFAULT"!==s&&"BRAND_MESSAGING_MULTIPLE_SITES"!==s||!t.mobile()||l(s)}function n(e,s,t,r){a.addClass(e,d),t&&!r||l(s,r)}function c(e){var s=e.querySelector("["+S+"]");return s?s.getAttribute(S):""}function u(e){var s=e.querySelector("["+b+"]");return!(!s||!s.getAttribute(b))}function l(e,t){var a=o();a[e]=a[e]||{},t&&(a[e][t]=!0);try{s.setObject(g,a)}catch(e){}}function o(){try{return s.getObject(g)||{}}catch(e){}return{}}var g="dismissedMessages",d="collapsed",S="data-messageType",b="data-persist-once-per-geo";return{displayMessage:i,dismissMessage:n,wasMessageDismissed:r,getMessageType:c,isMessagePersistableOncePerGeo:u}});
require(["ta/p13n/placements"],function(e){var s=e.define.bind(e,"hsx_special_messaging","handlers",["handlers"]);s(["placement","page-model","ta/Core/TA.FireEvent","ta/prwidgets","utils/nodePreserve","hotels/SpecialMessageUtil","common/Radio"],function(e,s,a,t,i,n,r){function l(e){if(e&&!n.wasMessageDismissed(e,p&&g)){var s=m.querySelector(".hsx_special_messaging > .collapsed");n.displayMessage(s,e)}}function c(e){var s=n.getMessageType(e);s&&s!==o&&!n.wasMessageDismissed(s,p&&g)&&(o=s,e&&e.getAttribute("data-targetEvent")!=d&&(e=e.querySelector('[data-targetEvent="'+d+'"]')),e&&m&&(i.treePreserve(m,e),t.initWidgets(m),l(o)))}var d="update-"+e.name,g=s.GEO_ID,m=document.getElementById(e.id),o=n.getMessageType(m),p=n.isMessagePersistableOncePerGeo(m);a.on(d,c),l(o);var u=/ *\bhidden\b/;return r("hsx_special_message").on("temporaryHide",function(e){e?m.className.match(u)||(m.className=m.className+" hidden"):m.className=m.className.replace(u,"")}),{}})});
require(["ta/p13n/placements"],function(e){var n=e.define.bind(e,"masthead_h1","handlers",["handlers"]);n(["placement","ta/Core/TA.FireEvent"],function(e,n){"use strict";function t(n){var t=document.getElementById(e.id);t&&(t.innerHTML=n.innerHTML)}var r="true"===e.params.trackInView;return r&&require(["trjs!ta/util/Element"],function(n){n.trackWhenScrolledIntoView("#"+e.id,["masthead","in_view"])}),n.on("update-"+e.name,t),{}})});
define("t4b/tracking/b2bClickTracking",["babel/babel-helpers","page-model","ajax-request"],function(e,t,n){var r=function(r,c){var i=c.context,a=void 0===i?t.session.pageServlet:i,o=e.objectWithoutProperties(c,["context"]);return n("/B2BClickTracking/"+a+"/"+r,{method:"POST",data:JSON.stringify(e["extends"]({puid:t.session.uid},o)),"content-type":"application/json","x-requested-by":t.JS_SECURITY_TOKEN})},c=function(e){return e&&n(e,{method:"GET"})};return{trackContactClick:function(e){return r("contact",e)},trackSpecialOfferClick:function(e){return r("specialOffer",e)},trackOfferlessCommerceClick:c}});
define("retargeting/util",["ta/Core/TA.Store","mixins/page-dates/Utils"],function(e,t){function r(e){e.hasOwnProperty("drs")||(e.drs=ta.retrieve("retargeting.drs")),e.hasOwnProperty("uvm")||(e.uvm=ta.retrieve("retargeting.uvm")),e.hasOwnProperty("dbi")||(e.dbi=ta.retrieve("retargeting.dbi")),e.hasOwnProperty("geoId")&&void 0!==e.geoId||(e.geoid=ta.retrieve("retargeting.geoId"))}function a(t,a){t&&a&&taq&&(r(a),taq("init",g),e.has("retargeting.rtURL")&&taq("override",e.retrieve("retargeting.rtURL")),window.pageServlet?a.servlet_name=window.pageServlet:require.defined("page-model")&&(a.servlet_name=require("page-model").session.pageServlet),taq("track",t,a))}function i(e){if(ta.page&&ta.page.hasDates("STAYDATES")){var r=ta.page.getDates("CHECKIN")[0],a=ta.page.getDates("CHECKOUT")[0];e.travel_start_date=t.dateToIso(r),e.travel_end_date=t.dateToIso(a)}}var g=481409672;return{send:a,getDates:i}});
define("retargeting/providers/mobile-bl-click",["retargeting/util"],function(e){return function(r,t,d){if(t){var i=!1,a="";require.defined("page-model")&&(i=require("page-model").session.loggedIn,a=require("page-model").DUST_GLOBAL.DEVICE);var n={};n.locationId=t.locationId,n.geoId=t.geoId,n.brand=t.brand,n.sub_brand=t.sub_brand,n.ip=t.ip,n.is_member=i,n.device_type=a,n.travel_start_date=t.travel_start_date,n.travel_end_date=t.travel_end_date,d&&/_/.test(d)&&(n.click_type=d.substring(0,d.indexOf("_"))),e.send(r,n)}}});
define("retargeting/listeners/mobile-bl-click",["ta/Core/TA.Event","retargeting/providers/mobile-bl-click"],function(e,i){return function(e,n){require(["trjs!taevents"],function(){e&&e.enableHolisticTracking&&"function"==typeof i&&i("BL_CLICK",e,n)})}});
require(["ta/prwidgets"],function(c){var t=c.define.bind(c,"hotels_hotel_contacts_resp","handlers",["handlers"]);t(["babel/babel-helpers","widget","page-model","t4b/tracking/b2bClickTracking","retargeting/listeners/mobile-bl-click","utils/asdf-encoder"],function(c,t,n,e,o,i){function a(c){o(c,"website_")}function l(c,t){e.trackContactClick({locationId:d,contactType:"PHONE",contactColumn:c}),t&&e.trackOfferlessCommerceClick(i.asdf(t))}function r(c,t,n,o,a,l){e.trackContactClick({locationId:d,contactType:"EMAIL",contactColumn:c}),t&&e.trackOfferlessCommerceClick(i.asdf(t));var r="mailto:"+n+o+a+"?subject="+l;window.location=r}function s(c,t,n,o){e.trackContactClick({locationId:d,contactType:n,contactColumn:c,isCommerce:o});var a=i.asdf(t);window.open(a,"_blank")}var d=n.LOC_ID;return{holisticTracking:a,onPhoneClicked:l,onEmailClicked:r,onWebLinkClicked:s}})});
define("hotels/ClickSourceTracking",["common/trackingStreams"],function(e){function c(e,c){for(;e&&e.getAttribute;){if(e.getAttribute("data-clickSource"))return{"source":e.getAttribute("data-clickSource"),"label":e.getAttribute("data-clickSourceLabel")};if(e===c)break;e=e.parentNode}return{}}function a(e){return o[e]&&o[e].trackingName||"unknown:"+e}function l(e){return!(!o[e]||!o[e].clickThrough)}function i(c,l,i){return e.trackEvent(a(c),l,i)}function r(e,a,l,r){var o=c(e,a);o.source&&i(o.source,l||"CLICK",r||o.label)}var o={Photo:{trackingName:"hotelcell_thumbnail",clickThrough:!0},HotelName:{trackingName:"hotelcell_name",clickThrough:!0},ReviewCount:{trackingName:"hotelcell_reviews",clickThrough:!0},ReviewCountNoAnchor:{trackingName:"hotelcell_reviews",clickThrough:!0},HotelListing:{trackingName:"hotelcell_listing",clickThrough:!0},Distance:{trackingName:"hotelcell_distance",clickThrough:!1},CarouselArrow:{trackingName:"hotelcell_carousel_arrow",clickThrough:!1},ChevronPrice:{trackingName:"hotelcell_chevron_price",clickThrough:!0},PriceMessage:{trackingName:"hotelcell_price_message",clickThrough:!0},PriceMessageOpenTextLinks:{trackingName:"hotelcell_price_message",clickThrough:!0},BubbleRating:{trackingName:"hotelcell_bubble_rating",clickThrough:!0},BubbleRatingTrackingOnly:{trackingName:"hotelcell_bubble_rating",clickThrough:!1},HotelInfoCardToggle:{trackingName:"hotelcell_info_card_toggle",clickThrough:!1},OtherIcon:{trackingName:"hotelcell_icon",clickThrough:!1},OtherIconLabel:{trackingName:"hotelcell_icon_label",clickThrough:!1},PopIndex:{trackingName:"hotelcell_popindex",clickThrough:!1},SavingsAlert:{trackingName:"hotelcell_savings",clickThrough:!1},SocialProof:{trackingName:"hotelcell_social_proof",clickThrough:!1},ViewAllDeals:{trackingName:"hotelcell_viewall",clickThrough:!1},ViewAllDealsClose:{trackingName:"hotelcell_viewallclose",clickThrough:!1},ViewAllDealsClickThrough:{trackingName:"hotelcell_viewall",clickThrough:!0},MetaOther:{trackingName:"hotelcell_meta_other",clickThrough:!1},IndicatorDot:{trackingName:"hotelcell_carousel_dot_click",clickThrough:!1},SaveToTripBookmark:{trackingName:"hotelcell_bookmark",clickThrough:!1},TcBadge:{trackingName:"tc_badge",clickThrough:!1},SponsoredPill:{trackingName:"sponsored_pill",clickThrough:!1},UnavailableTextLink:{trackingName:"unavailable_link",clickThrough:!1},NoAvailMessage:{trackingName:"no_avail_message",clickThrough:!1},UnavailableDropdownTextLink:{trackingName:"unavailable_dropdown_link",clickThrough:!1},UnavailableDropdownTextLinkIcon:{trackingName:"unavailable_dropdown_link_icon",clickThrough:!1},AccommodationCategoryLabel:{trackingName:"accommodation_category_label",clickThrough:!1},SpecialOfferIcon:{trackingName:"special_offer_icon",clickThrough:!1},SpecialOfferLabel:{trackingName:"special_offer_label",clickThrough:!1},SpecialMessageContainer:{trackingName:"special_message_container",clickThrough:!1},SpecialMessageIcon:{trackingName:"special_message_icon",clickThrough:!1},SpecialMessageLabel:{trackingName:"special_message_label",clickThrough:!1},NeighborhoodLabel:{trackingName:"neighborhood_label",clickThrough:!1},NeighborhoodIcon:{trackingName:"neighborhood_icon",clickThrough:!1},HRHotelName:{trackingName:"hr_hotel_name",clickThrough:!1},HRHeaderPopIndex:{trackingName:"hr_header_pop_index",clickThrough:!1},HRTripSearchLabel:{trackingName:"hr_trip_search_label",clickThrough:!1},HRSavingsAlert:{trackingName:"hr_savings_alert",clickThrough:!1},HRUrgencyAlert:{trackingName:"hr_urgency_alert",clickThrough:!1},HRMetaHeader:{trackingName:"hr_meta_header",clickThrough:!1},HRMetaDisclaimer:{trackingName:"hr_meta_disclaimer",clickThrough:!1},UnavailableHRTextLink:{trackingName:"unavailable_hr_link",clickThrough:!1},UnavailableHRTextLinkIcon:{trackingName:"unavailable_hr_link_icon",clickThrough:!1},UnavailableHRMobileTextLink:{trackingName:"unavailable_hr_mobile_link",clickThrough:!1},UnavailableHRMobileTextLinkIcon:{trackingName:"unavailable_hr_mobile_link_icon",clickThrough:!1}};return{findClickInfo:c,trackingName:a,clickThrough:l,trackSource:i,trackElement:r}});
require(["ta/p13n/placements"],function(e){var t=e.define.bind(e,"resp_hr_atf_hotel_info","handlers",["handlers"]);t(["placement","ta/prwidgets","ta/Core/TA.FireEvent","utils/nodePreserve","common/trackingStreams","hotels/ClickSourceTracking","page-model"],function(e,t,a,n,r,s,c){function i(a){var r=document.getElementById(e.id);n.treePreserve(r,a),t.initWidgets(r)}return a.on("update-"+e.name,i),{track:function(t,a){var n=document.getElementById(e.id),i=c.LOC_ID;for("HRHeaderPopIndex"===s.findClickInfo(a).source&&"A"===a.tagName||s.trackElement(a,n);a&&a!==n;){if("reviewCount"===a.className){r.trackEvent("masthead","click");break}if(a.classList.contains("popIndex")){r.trackEvent("masthead","hotels_click");break}if(a.classList.contains("saves")){r.trackEvent("saves","click",i);break}if(a.classList.contains("address")){r.trackEvent("masthead","map_address_click",i);break}a=a.parentNode}}}})});
define("common/ProtectedStore",["babel/babel-helpers","ta/Core/TA.LocalStorage"],function(t,e){"use strict";function n(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(new Date).getTime()+v,a=i()||{};r(t,e,n,a),u(a)}function r(t,e,n,r){if(c(e)){var a=e.call(null,r.hasOwnProperty(t)&&r[t]||{});a&&(a.ttl=n,r[t]=a)}}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i();r&&(l(t,e,n,r),u(r))}function l(t,e,n,r){if(c(e)){var a=r.hasOwnProperty(t)&&r[t];a&&(e.call(null,a),n&&delete r[t])}}function i(){if(!e||!e.enabled)return null;var t=e.getObject(f);return o(t),t}function o(t){if(t){var e=(new Date).getTime();for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r&&r.ttl&&r.ttl<=e&&delete t[n]}}}function c(t){return!!(t&&t.constructor&&t.call&&t.apply)}function u(t){e&&e.set(f,t)}var f="prtctd-str",v=36e5;return{mutateDataWithCallback:n,findDataWithCallback:a}});
define("hotels/tracking/UEF-LocationDateSpecificClickThru",["babel/babel-helpers","common/ProtectedStore"],function(e,t){"use strict";function r(e){function r(e,r){e&&r&&t.mutateDataWithCallback(f(e),a.bind(null,r))}function i(e,t,n){r(e,t),require(["babel/babel-helpers","trjs!ta/Core/TA.Record"],function(r,a){try{a.addGARecordMevt("page_clickthrough",s+"_all",t,e,n)}catch(r){require(["babel/babel-helpers","trjs!ta/util/Error"],function(a,i){i.record(r,"Error recording clickthrough. Params were ["+e+", "+t+", "+n+"]")})}})}function c(e,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e&&r){if(h){var i=window.pageServlet;if(i&&i.indexOf(h)<0)return}t.findDataWithCallback(f(e),u.bind(null,a,e,n,r))}}function o(e){return e&&e.isBooking&&l.indexOf(e.ttP)>=0}function u(e,t,r,a,i){a&&i&&i.ik&&(n(e)?e.call(null,a,s,i.ik,t):g?g.call(null,a,s,i.ik,t,r):require(["babel/babel-helpers","trjs!ta/Core/TA.Record"],function(e,n){n.addGARecordMevt(a,s,i.ik,t,r)}))}function f(e){if(e){var t=ta&&ta.page&&ta.page.getDates&&ta.page.getDates("STAYDATES");if(!t||Array.isArray(t)){var r=t.filter(function(e){return e instanceof Date});if(!r||2!==r.length)return null;var n=r[0],a=r[1],i=""+n.getYear()+n.getMonth()+n.getDate(),l=""+a.getYear()+a.getMonth()+a.getDate();return""+s+i+l+e}}}var s=e.pageAction||"unknown",g=n(e.trackingFn)&&e.trackingFn||null,h=e.trackOnServlet||null;return{shouldTrackForIBClickThru:o,processEvent:r,processAndTrackClickThrough:i,trackEvent:c}}function n(e){return e instanceof Function}function a(e,t){return t||(t={}),t[i]=e,t}var i="ik",l=["Hotels_MainList","HH_MainList","smart_deals_server","hotel_highlight"];return r});
define("sponsoredlisting/HotelSponsoredListingStates",["vanillajs"],function(o){return{LISTING_CREATED:"listing_created",LOCATION_REQUESTED:"location_requested",LOCATION_CHOSEN:"location_chosen",LOCATION_SHOWN:"location_shown",RESET:"reset",TIMED_OUT:"timed_out",LOCATION_FORECASTING:"location_forecasting"}});
define("sponsoredlisting/HotelStaticListing",["vanillajs","sponsoredlisting/HotelSponsoredListingStates"],function(n,t){var e="data-listingKey",i=function(n,i,r,o,u,s,d,a,c,l,g,f,p,_,S){var I=t.LISTING_CREATED,m=n,y=i,L=r,T=o,q=a,A=u,P=s,h=d,v=g,x=c,E=l,R=f,k=p,G=_,D=S,N=!1,O=function(n){I=n},B=function(){return I},C=function(){return y},F=function(){return L},H=function(){return k},K=function(){return m},U=function(){return m.isSlotAny},b=function(){return q},j=function(){return A},w=function(){return P},M=function(){return h},W=function(){return N},z=function(){return T},J=function(){return v},Q=function(n,t,e,i,r){v=n,x=t,E=e,R=i,D=r},V=function(){N=!0},X=function(){return{slotIndex:y,displayedLocationId:T,sponsoredType:L,adOpportunityId:q,slLineItemId:A}},Y=function(){var n=v.getAttribute(e),t={has_valid_candidate:!0,placement_slot_name:m.name,slot_index:y,location_id:T,sponsored_type:L,opportunity_uid:q,sl_line_item_id:j(),page_geo_id:require.defined("page-model")?require("page-model").GEO_ID:-1,is_dynamic_listing:!1,candidate_location_ids:[T],chosen_location_id:T,current_state:I,listing_key:n,trip_ads_select_guid:h,unique_request_id:R},i=w();return i&&(t.trip_ads_id=i),t},Z=function(){I=t.RESET},$=function(){return!0},nn=function(){return!0},tn=function(){return x},en=function(){return E},rn=function(){return R},on=function(){return G},un=function(){return D};return{updateState:O,getState:B,getSlotIndex:C,getSponsoredType:F,getSponsoredLocationSource:H,getSponsoredSlot:K,isSlotAny:U,getAdOpportunityId:b,getSlLineItemId:j,getTripAdsId:w,getTripAdsSelectRequestGuid:M,getPollingParam:X,getTrackingContext:Y,getListingWrapper:J,isLocationPaidBackfill:$,isShowingLocation:nn,getDisplayedLocationId:z,getImpressionKey:tn,getTrackingTreePlacementName:en,getUniqueRequestId:rn,getPartnerNotificationURL:on,getGosox:un,hasImpressionFired:W,impressionFired:V,listingMaintainedByPoll:Q,refresh:Z}};return i});
define("utils/is-element",["vanillajs"],function(){return function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}});
define("utils/VisibilityCheckFunction",function(){function t(){return Element.prototype.getBoundingClientRect?Promise.resolve(function(t){if(!t)return!1;var n;try{n=t.getBoundingClientRect()}catch(t){return!1}return e(n,{top:0,left:0,bottom:Math.max(document.documentElement.clientHeight,window.innerHeight||0),right:Math.max(document.documentElement.clientWidth,window.innerWidth||0)})}):new Promise(function(t){require(["trjs!api-mod"],function(n){t(function(t){if(!t)return!1;var i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),r=n.scrollTop(),u=r+o,h=n.scrollLeft(),c=h+i,f=n.getPosition(t);return e({width:t.offsetWidth,height:t.offsetHeight,top:f.top,left:f.left,bottom:f.top+t.offsetHeight,right:f.left+t.offsetWidth},{top:r,left:h,bottom:u,right:c})})})})}function e(t,e){return 0!==t.width&&0!==t.height&&(!(t.bottom<=e.top||t.top>=e.bottom)&&!(t.left>=e.right||t.right<=e.left))}function n(){return i}var i=t();return{getPromise:n}});
define("utils/VisibilityChecker",["utils/to-array","utils/is-element","utils/VisibilityCheckFunction"],function(e,t,r){function i(r,i,n){return null==n?i:t(n)?i.concat(n):"string"==typeof n?i.concat(e(r.querySelectorAll(n))):i}function n(e){var t=e.elements,r=e.context||document,n=e.callback,c=!1;if(!Array.isArray(t))throw new TypeError("VisibilityChecker must have an elements array");return function(){c||(c=!0,l.then(function(e){c=!1;var l=t.reduce(i.bind(null,r),[]).filter(e);if(l.length>0&&"function"==typeof n){var u=n(l);Array.isArray(u)&&(t=u)}}))}}var l=r.getPromise();return n});
define("hotels/recentlyViewedHotels",["ta/Core/TA.LocalStorage","ta/Core/TA.PageVisibility","ta/Core/TA.Event","utils/VisibilityChecker","utils/classnameUtils","common/trackingStreams","utils/throttle"],function(e,t,n,o,i,r,c){function a(t,n){e.onLocalStorageSessionInit(function(){var o=e.getSessionKey(t)||{};o[n]||(o[n]=!0,e.setSessionKey(t,o))})}function l(e){v(e)&&(a(w,e),A&&A())}function s(t){e.onLocalStorageSessionInit(function(){u(t)||a(y,t)})}function u(t){var n=e.getSessionKey(w)||{};return!!n[t]}function d(e,t){_[e]=t,delete I[e],t.setAttribute(R,e),T||m(_)}function m(e){var i=o({elements:Object.values(e),callback:function(e){var t=e[0].getAttribute(R)||0;r.trackEvent(b,"recentlyViewTreatmentSeen",t),T=!0,f()}});f(),A=c(i,300),window.addEventListener("scroll",A),n.on("page-polling-complete",A),t.addFocusListener(A)}function f(){A&&(window.removeEventListener("scroll",A),n.off("page-polling-complete",A),t.removeFocusListener(A),A=null)}function C(e,n,o){Object.keys(I).length||t.addFocusListener(k),I[e]={fn:i.addClass.bind(null,n,o),elmt:n}}function k(){e.onLocalStorageSessionInit(function(){var n=e.getSessionKey(y)||{};Object.keys(n).forEach(function(e){I[e]&&(I[e].fn(),d(e,I[e].elmt))}),Object.keys(I).length||t.removeFocusListener(k)})}function v(e){return!!_[e]}function g(e,t,n){n&&require.defined("ta/Core/TA.Record")?require("ta/Core/TA.Record").trackEventOnPage(b,e,t):r.trackEvent(b,e,t)}function H(e,t,n,o){v(e)&&g(t,n,o)}function L(t,n,o,i){e.onLocalStorageSessionInit(function(){u(t)&&g(n,o,i)})}function S(){var e=document.querySelectorAll("["+R+"]");g("NUM_RECENTLY_VIEWED",e.length)}function E(e){var t=h[window.pageServlet]||h.Unknown;t.trackCommerce(e,"COMMERCE_CLICK_"+t.id,e,!0)}require(["trjs!ta/Core/TA.Record"],function(){});var y="recently_viewed_ids",w="recently_viewed_interactions",b="RECENTLY_VIEWED_HOTEL",R="data-is-recently-viewed",h={"Hotels":{id:"H",trackCommerce:H},"MobileHotels":{id:"H",trackCommerce:H},"Hotel_Review":{id:"HR",trackCommerce:L},"MobileHotel_Review":{id:"HR",trackCommerce:L},"HotelsList":{id:"HL",trackCommerce:H},"HotelsNear":{id:"HN",trackCommerce:H},"SmartDeals":{id:"SD",trackCommerce:H},"MobileSmartDeals":{id:"SD",trackCommerce:H},"HotelHighlight":{id:"HH",trackCommerce:H},"MobileHotelHighlight":{id:"HH",trackCommerce:H},"Unknown":{id:"UK",trackCommerce:function(){}}},_={},I={},T=!1,A=null;return{visitedLocation:s,interactedWithLocation:l,registerUnvisitedLocation:C,registerVisitedLocation:d,trackEventIfRecentlyViewed:H,trackEventIfRecentlyInteracted:L,trackRecentlyViewedCountOnPage:S,trackCommerceClick:E}});
require(["ta/prwidgets"],function(e){var t=e.define.bind(e,"meta_responsive_hr_meta_hotel_auction","handlers",["handlers"]);t(["widget","utils/classnameUtils","common/trackingStreams","commerce/offerclick","ta/Core/TA.Event","ta/Core/TA.LocalStorage","hotels/tracking/UEF-LocationDateSpecificClickThru","sponsoredlisting/HotelStaticListing","hotels/ClickSourceTracking","hotels/recentlyViewedHotels"],function(e,t,a,n,r,l,i,o,c,s){function d(){E||(E=!0,require(["lib/jquery-amd"],function(t){E=!1,a.trackEvent("hr_price_drawer","viewall_click","responsive_web");var n=t(e.element).closest("[data-pricedrawer]");n.length&&n.trigger("viewAllPriceDrawerOpen")}))}function p(){w.expanded=!0,t.addClass(e.element,"expanded"),a.trackEvent("hr_offers_dropdown","viewall_click","responsive_web")}function u(){w.expanded=!1,t.removeClass(e.element,"expanded"),a.trackEvent("hr_offers_dropdown","collapse_click","responsive_web")}function _(e){var t=e.querySelector(".special_rate_tracking");if(t){var n=e?e.getAttribute("data-provider"):"Unknown",r=e?e.getAttribute("data-specialratetype"):"None";a.trackEvent("Hotels_Loyalty_HR_click",n+"|"+r,t.getAttribute("productattribute"))}}function f(e,t){if(/\bunclickable\b/.test(t.className))return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,void e.preventDefault();var r=t.getAttribute("data-clickToken"),l=n.expandToken(r);m(l),s.trackCommerceClick(l?l.locId:0),r?n.clickEvent(e,t,r):a.error(null,"Commerce click failed b/c click token absent"),_(t)}function m(e){e&&A&&require(["trjs!ta/Core/TA.Record"],function(t){A.trackEvent(e.locId,e.ik,"/Redirect",e.isBooking&&t.trackEventOnPage)})}function g(){var t=e.element.querySelector(".offers"),a=t.getAttribute("data-sponsoredListing");if(a=a&&JSON.parse(a)){var n=new o(a.sponsoredPlacementSlot,a.slotIndex,a.sponsoredType,a.locationId,a.slLineItemId),l={};l[a.sponsoredPlacementSlot.name]=n.getPollingParam(),r.fireEvent("hotels.sponsored_listing_updated",l,!1)}}function v(t){if(!t&&r.off("page-polling-complete",v),l.enabled&&!l.getObject("defaultDatesUnavailableTreatment")&&!e.element.querySelector(".offers[data-is-any-available]")&&!e.element.querySelector(".offers[data-no-commerce]")){var a=e.element.querySelector(".defaultDatesUnavailableTreatment");a&&(a.style.display="block",(a=e.element.querySelector(".secondary"))&&(a.style.display="none"),(a=e.element.querySelector(".noAvailability"))&&(a.style.display="none"),r.fireEvent("no-availability-detected"),l.set("defaultDatesUnavailableTreatment",!0,C))}}function k(){r.fireEvent("popCalendar")}function y(t){c.trackElement(t.target,e.element)}function b(){var a=document.querySelector("#CHECK_RATES_CONT .trip_search_label"),n=a&&a.parentNode,r=e.element.querySelector(".alert_widget"),l=n&&n.querySelector(".alert_widget");a&&n&&(l&&n.removeChild(l),r&&(n.insertBefore(r,a),t.removeClass(r,"hidden")),t.toggleClass(a,"hidden",!!r))}function S(e,t){a.trackEvent("hr_no_offers_view_all","click")}function h(e,t){a.trackEvent("hr_no_offers_hotel_website","click")}var w=this,E=!1,C=864e5,A=new i({pageAction:"ct_l2hr",trackOnServlet:"Hotel_Review"});if(r.on("page-polling-complete",v),ta&&ta.page&&"function"==typeof ta.page.isUpdatePending&&!ta.page.isUpdatePending()&&v(!0),b(),(w.expanded||"#poiHeading"===window.location.hash)&&(w.expanded=!0,t.addClass(e.element,"expanded")),g(),e.element){e.element.querySelector(".free_cancellation_message")&&a.trackEvent("MERCHANDISE_MESSAGE","merchandise_message_cancel_shown"),e.element.querySelector(".pay_at_stay_message")&&a.trackEvent("MERCHANDISE_MESSAGE","merchandise_message_pay_at_stay_shown");var q=e.element.querySelector(".special_rate_tracking");q&&a.trackEvent(q.getAttribute("pageproperty"),q.getAttribute("pageaction"),q.getAttribute("productattribute"))}return{openPriceDrawer:d,expand:p,collapse:u,clickOffer:f,popCalendar:k,trackClickSource:y,trackViewAllClick:S,trackHotelWebsiteClick:h}})});
require(["ta/prwidgets"],function(e){var t=e.define.bind(e,"meta_hr_special_rate_3","handlers",["handlers"]);t(["babel/babel-helpers","widget","common/trackingStreams","ta/Core/TA.Event","ta/registration/RegEvents"],function(e,t,a,n,r){var s=t.element,i=function(){s.classList.contains("first-rate-special")&&r.on("success",function(){ta.page.refreshPrices()})};i()})});
require(["ta/prwidgets"],function(e){var r=e.define.bind(e,"hotels_hr_savings_alert","handlers",["handlers"]);r(["widget","utils/responsive"],function(e,r){function s(s,o){if(t)t.show&&t.show();else{var n=e.element.querySelector(".overlay_contents");if(!n)return;t=!0,r.tabletOnly()?require(["trjs!overlays/Overlay","trjs!overlays/styles/popover","trjs!overlays/position","trjs!overlays/options/repositionOnEvent","trjs!overlays/options/closeOnDocClick"],function(r,s,n,l,i){t=new r(o,[s&&s(o,"right",e.element.className,null,e.element.outerHTML),n.right([0,0]),l(window,["resize","date_bar_docked","date_bar_undocked"]),i]),t.show()}):require(["trjs!overlays/Overlay","trjs!overlays/styles/tooltip","trjs!overlays/position","trjs!overlays/options/closeOnMouseAway"],function(r,s,n,l){t=new r(o,[s&&s(o,"right",e.element.className,e.element.outerHTML),n.right([0,0]),l]),t.show()})}}var t=null;return{overlay:s}})});
require(["ta/prwidgets"],function(e){var r=e.define.bind(e,"common_base_dropdown","handlers",["handlers"]);r(["widget","vanillajs","common/trackingStreams"],function(e,r,n){function a(e,r,a){a&&n.trackEvent(a,"click")}function i(){var r=e.element.querySelector(".moreLink");if(r){var n=require.defined("lib/jquery-amd")&&require("lib/jquery-amd")(r).data("overlay");n&&n.updateContent()}}return i(),{track:a}})});
require(["ta/p13n/placements"],function(e){var t=e.define.bind(e,"resp_hr_atf_meta","handlers",["handlers"]);t(["placement","ta/prwidgets","ta/Core/TA.Event","utils/nodePreserve","ta/page","responsive/text-resizer","common/Radio"],function(e,t,n,a,r,i,o){function d(){document.getElementById(e.id).querySelector(".metawrap[data-loading=true]")?n.fireEvent("page-repoll-not-done"):n.fireEvent("page-repoll-done")}function l(n){var r=document.getElementById(e.id);a.treePreserve(r,n),d(),t.initWidgets(r),i.init(r)}function c(){n.queueForAfterLoad(function(){r.clearDates(),r.emit("dateSelected",null,"STAYDATES",[]),u()},"clear dates for unavailable default dates"),n.off("no-availability-detected",c)}function u(){o("search").trigger("popDatePicker")}n.on("no-availability-detected",c),n.on("popCalendar",u),n.on("update-"+e.name,l),d()})});
define("maps/v3/providers/providerShim",["babel/babel-helpers","mixins/Events"],function(e,r){"use strict";function n(){return s?s:s=new Promise(function(e){i||(v=!0,a.emit("providerRequested")),u.then(function(){i.loadLibrary(e)})})}function t(e){var r=c[e];return r||(r={},r.promise=new Promise(function(e){r.resolve=e}),c[e]=r),r}var i=null,o=null,u=new Promise(function(e){return o=e}),s=null,a=new r("providerRequested"),v=!1,c={};return{registerProvider:function(e){if(i)throw"provider already registered";if(!e)throw"Attempted to register a null provider";i=e,o()},providerRequested:function(){return v},createMap:function(e){var r=n();return new Promise(function(n){r.then(function(){var r=i.getMapInstance(e);n(r);var o=t(e.container);o.resolve(r)})})},waitForMap:function(e){var r=t(e);return r.promise},on:a.on.bind(a)}});
define("maps/v3/tracking",["babel/babel-helpers","common/trackingStreams"],function(t,a){"use strict";function n(t,n){a.trackEvent("map_view",t?"open":"close",n,null)}function c(t,n,c){a.trackEvent(t,n,c,null)}function e(t,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a.trackEvent("map_pin",t,c,n)}function i(){n(!0,null)}function o(t){a.trackEvent("map_view","open_requested",t)}function r(t){window.setTimeout(function(){n(!0,t.offsetWidth)},0)}function p(t,c){n(!1,t.offsetWidth),a.trackEvent("map_view","map_close_num_pins",c)}function l(t,n){var c={loaded:t,timeSpentOnMap:n};a.trackEvent("map_view","map_close_load_test",JSON.stringify(c))}function k(t){a.trackEvent("map_view","map_impl",t)}function u(t){c("map_view","empty",t)}function m(t,a){c("map_view",a?"redo_auto":"redo",t)}function _(){a.trackEvent("map_view","grow")}function v(){a.trackEvent("map_view","shrink")}function f(t){c("map_move","pan",t)}function d(t){c("map_move","zoom_in",t)}function s(t){c("map_move","zoom_out",t)}function M(t,a){e("hover",t,a)}function w(t,a){e("click",t,a)}function C(t){a.trackEvent("map_detail_card","photo_click",t,null)}function E(t){a.trackEvent("map_detail_card","saveCTA_click",t,null)}function h(t){a.trackEvent("map_detail_card","title_click",t,null)}function S(t){a.trackEvent("map_card_cta","click",t,null)}function O(t){a.trackEvent("map_carousel","swipe",t,null)}function P(t,n){a.trackEvent("also_show",t,n)}return{trackMapOpen:r,trackMapClose:p,trackMapFirstOpen:i,trackMapOpenRequested:o,trackRedoSearch:m,trackMapGrow:_,trackMapShrink:v,trackNoPins:u,trackMapPan:f,trackMapZoomIn:d,trackMapZoomOut:s,trackMapPinHover:M,trackMapPinClick:w,trackMapDetailCardPhotoClick:C,trackMapDetailCardSaveClick:E,trackMapDetailCardTitleClick:h,trackMapDetailCardCTAClick:S,trackCarouselSwipe:O,trackAlsoShowClick:P,trackMapLoadedWhenClosed:l,trackMapProvider:k}});
require(["ta/p13n/placements"],function(r){var a=r.define.bind(r,"map_provider_loader","handlers",["handlers"]);a(["placement","maps/v3/providers/providerShim","maps/v3/tracking"],function(r,a,e){"use strict";function i(){var i="trjs!"+r.params.map_impl;if(r.params.includeRollup){var p="trjs!"+r.params.map_rollup;r.require([i,p],function(i,p){if(!p)throw"Unable to load map rollup";i.configureLibrary(r.params.mapConfig||{}),e.trackMapProvider(r.params.map_rollup),a.registerProvider(i)})}else r.require([i],function(i){i.configureLibrary(r.params.mapConfig||{}),e.trackMapProvider(r.params.map_rollup),a.registerProvider(i)})}a.providerRequested()?i():a.on("providerRequested",i)})});
