($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/common.typeahead",d:["vendor-babel","vendor-react-libs","@ta/common.keyboardCodes","ta-platform","ta-common","lithium-platform","@ta/list.navigable-list","@ta/styleguide.skeleton","vendor-redux-libs","@ta/input.text-input","@ta/events.window","vendor-apollo-libs"],e:["./packages/common/typeahead/typeaheadExports.jsx"],x:{"./packages/common/typeahead/typeaheadExports.jsx":["Typeahead","TypeaheadTextInput","TypeaheadTextArea","TypeaheadTracking","GeoNaviFetcher","GeoNaviFetcherId","SponsoredGeoFetcher","SponsoredGeoFetcherID","RecentlyViewedFetcher","RecentlyViewedFetcherId","GeoThemeFetcher","GeoThemeFetcherId","TypeaheadJsonFetcher","TypeaheadJsonFetcherId","BasicResult","getIconFromResultType","GeoNaviResult","GoNearbyResult","GoWorldwideResult","LoadingResult","NoResults","RecentlyViewedResult","SponsoredGeoResult","GeoThemeResult","SectionTitle","TypeaheadJsonResult","RescueResult","LocationSelector","MultiLocationSelector","GeoSelector","POISelector","Selector","WorldwideFetcher","POIObjectList"]},m:{"./packages/common/typeahead/typeaheadExports.jsx":function(e,t,n){"use strict";n.r(t);var o=n("@babel/runtime/helpers/esm/classCallCheck"),a=n.n(o),i=n("@babel/runtime/helpers/esm/createClass"),s=n.n(i),r=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),c=n.n(r),l=n("@babel/runtime/helpers/esm/getPrototypeOf"),u=n.n(l),p=n("@babel/runtime/helpers/esm/inherits"),d=n.n(p),h=n("@babel/runtime/helpers/esm/assertThisInitialized"),m=n.n(h),v=n("@babel/runtime/helpers/esm/defineProperty"),f=n.n(v),y=n("react"),g=n.n(y),S=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"state",{results:Object.freeze({})}),f()(m()(m()(n)),"notifyFetchers",function(e){n.props.fetchers.forEach(function(t){return t.fetch(e,n.props.context,n.recalculate)})}),f()(m()(m()(n)),"recalculate",function(){var e={};n.props.fetchers.forEach(function(t){var o=t.getResults();e[t.id]=o?o.filter(function(e){return e&&(n.props.filters||[]).every(function(t){return t(e)})}):o}),n.setState({results:e},function(){return n.props.onResultsChange(n.state.results)})}),n}return d()(t,e),s()(t,[{key:"componentDidMount",value:function e(){this.props.runOnInit&&this.notifyFetchers("")}},{key:"componentDidUpdate",value:function e(t){var n=this;this.props.context!==t.context&&this.props.fetchers.forEach(function(e){var t=e;t.onContextChange&&"function"==typeof t.onContextChange&&t.onContextChange(n.props.context,n.recalculate)})}},{key:"render",value:function e(){return this.props.children?this.props.children(this.state.results,this.notifyFetchers):null}}]),t}(y.Component);f()(S,"defaultProps",{context:void 0,filters:void 0,onResultsChange:function e(){},runOnInit:!1});var I=S,k=n("@ta/common.keyboardCodes"),_=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"onChange",function(e,t){if(n.props.onChange&&n.props.onChange(t),(!e||e.keyCode!==k.KEY_ENTER)&&n.currentQuery!==t){if(e)switch(e.keyCode){case k.KEY_DOWN:case k.KEY_UP:case k.KEY_ESCAPE:case k.KEY_TAB:case k.KEY_CAPSLK:case k.KEY_LEFT:case k.KEY_RIGHT:case k.KEY_META:case k.KEY_SHIFT:case k.KEY_CTRL:return}n.updateSearchTimeout&&clearTimeout(n.updateSearchTimeout),n.currentQuery=t,n.updateSearchTimeout=setTimeout(function(){n.props.onQueryChange&&n.props.onQueryChange(t)},n.props.searchDelay)}}),f()(m()(m()(n)),"updateSearchTimeout",void 0),f()(m()(m()(n)),"currentQuery",void 0),n}return d()(t,e),s()(t,[{key:"render",value:function e(){var t={name:this.props.name,value:this.props.value,type:this.props.type,className:this.props.inputComponentClassName,fontSize:this.props.fontSize,lineHeight:this.props.lineHeight,placeholder:this.props.placeholder,onChange:this.onChange,onKeyUp:this.onChange,onCompositionEnd:this.onChange,onInteractionStart:this.props.onInteractionStart,onSelect:this.props.onSelect,onFocus:this.props.onFocus,onBlur:this.props.onBlur,focusOnMount:this.props.focusOnMount,focusOnUpdate:this.props.focusOnUpdate,onRef:this.props.onRef,hideAutoComplete:this.props.hideAutoComplete,disabled:this.props.disabled};return y.createElement(this.props.inputComponentType,t)}}]),t}(y.Component);f()(_,"defaultProps",{name:void 0,value:void 0,type:void 0,placeholder:void 0,focusOnMount:!1,focusOnUpdate:!1,hideAutoComplete:!1,searchDelay:250,onQueryChange:void 0,onInteractionStart:void 0,onFocus:void 0,onBlur:void 0,onRef:void 0,onSelect:void 0,disabled:!1});var T=_,E=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"onChange",function(e,t){if(n.props.onChange&&n.props.onChange(e,t),(!e||e.keyCode!==k.KEY_ENTER)&&n.currentQuery!==t){if(e)switch(e.keyCode){case k.KEY_DOWN:case k.KEY_UP:case k.KEY_ESCAPE:case k.KEY_TAB:case k.KEY_CAPSLK:case k.KEY_LEFT:case k.KEY_RIGHT:case k.KEY_META:case k.KEY_SHIFT:case k.KEY_CTRL:return}n.updateSearchTimeout&&clearTimeout(n.updateSearchTimeout),n.currentQuery=t,n.updateSearchTimeout=setTimeout(function(){n.props.onQueryChange&&n.props.onQueryChange(t)},n.props.searchDelay)}}),f()(m()(m()(n)),"updateSearchTimeout",void 0),f()(m()(m()(n)),"currentQuery",void 0),n}return d()(t,e),s()(t,[{key:"render",value:function e(){var t={id:this.props.id,name:this.props.name,value:this.props.value,className:this.props.inputComponentClassName,rows:this.props.rows,cols:this.props.cols,placeholder:this.props.placeholder,disabled:this.props.disabled,focusOnMount:this.props.focusOnMount,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onChange:this.onChange,onKeyUp:this.onChange,onKeyDown:this.onChange,onCompositionEnd:this.onChange,onInteractionStart:this.props.onInteractionStart,onRef:this.props.onRef,maxLength:this.props.maxLength};return y.createElement(this.props.inputComponentType,t)}}]),t}(y.Component);f()(E,"defaultProps",{name:void 0,value:void 0,placeholder:void 0,focusOnMount:!1,focusOnUpdate:!1,searchDelay:250,onQueryChange:void 0,onInteractionStart:void 0,onFocus:void 0,onBlur:void 0,onRef:void 0});var C=E,R=n("@babel/runtime/helpers/esm/objectSpread"),N=n.n(R),b=n("@ta/common.tracking"),x=n.n(b),O=function e(t,n){var o=this;a()(this,e),f()(this,"interactionStart",void 0),f()(this,"uiOrigin",void 0),f()(this,"searchSessionId",void 0),f()(this,"setInteractionStart",function(e){o.interactionStart=e}),f()(this,"createTrackingData",function(e){var t=e.eventType,n=e.userInteractionType,a=e.selectedItem,i=a&&a.query,s=a&&a.value,r=a&&a.url,c=a&&a.resultIndex,l=a&&a.type,u=a&&a.data_type,p=a&&a.totalCount,d=a&&a.document_id,h={action:"RECORD",eventType:t,uiOrigin:o.uiOrigin,global:"true",type:l,value:s,source:o.uiOrigin,startTime:String(o.interactionStart),selDepth:isNaN(c)?void 0:c+1,isChild:"false",totalNum:p?String(p):void 0,userInteractionType:n,scope:"1",query:i,dataType:u,url:r,searchSessionId:o.searchSessionId,documentId:d},m={};return Object.keys(h).forEach(function(e){null!=h[e]&&(m[e]=String(h[e]))}),m}),f()(this,"ajaxTrack",function(e){var t=o.createTrackingData(e);fetch("/TypeAheadJson?".concat(new URLSearchParams(t).toString()),{credentials:"same-origin"})}),f()(this,"trackInteractionStart",function(){o.ajaxTrack({eventType:"start",userInteractionType:"start"})}),f()(this,"trackSelection",function(e,t){o.ajaxTrack({eventType:"select",userInteractionType:t,selectedItem:e})}),f()(this,"trackEventViaMEVTCookie",function(e,t){var n=o.createTrackingData({eventType:"search",userInteractionType:t,selectedItem:e});Object(b.addMevtCookie)(N()({},n,{t:"ta"}))}),this.uiOrigin=t,this.searchSessionId=n},F="geonavi",w=function(){function e(t){var n=t.geoId,o=t.limit;a()(this,e),f()(this,"id",F),f()(this,"geoId","1"),f()(this,"limit",26),f()(this,"cache",{}),f()(this,"results",null),f()(this,"stack",[]),n&&(this.geoId=n),o&&(this.limit=o)}return s()(e,[{key:"getResults",value:function e(){return this.results}},{key:"fetch",value:function e(t,n,o){this.onContextChange(n,o)}},{key:"onContextChange",value:function e(t,n){var o=this;if(t&&t.geoNaviId){var a=t.geoNaviId;"1"===a?this.stack=[]:-1!==this.stack.indexOf(a)?this.stack=this.stack.slice(0,this.stack.indexOf(a)):this.stack.push(this.geoId),this.geoId=a;var i=this.cache[this.geoId];if(i){if(i instanceof Promise)return;return this.results=i,void n()}var s=new URLSearchParams({action:"GEONAVI",geoID:this.geoId}),r=this.geoId;this.cache[r]=fetch("/TypeAheadJson?".concat(s.toString()),{method:"GET",credentials:"same-origin"}).then(function(e){if(e.ok)return e;throw Error(e.statusText)}).then(function(e){return e.json()}).then(function(e){return e.results.map(function(e,t){var n=String(e.id)===r?o.stack[o.stack.length-1]:String(e.id),a=0===t&&1!==parseInt(o.geoId,10);return{name:e.displayName,geoId:n,back:a,forward:!a&&!e.isLeaf}})}).then(function(e){return o.results=e.slice(0,o.limit),o.cache[r]=o.results,n(),o.results}).catch(function(){return o.results=[],n(),o.results})}}}]),e}(),L="sponsoredgeo",M=function(){function e(t){a()(this,e),f()(this,"id",L),f()(this,"sponsorData",void 0),this.sponsorData=t}return s()(e,[{key:"getResults",value:function e(){if(this.sponsorData){var t=this.sponsorData,n=t.name,o=t.location_id,a=t.ancestors,i=t.dfpTrackingUrl;return[{name:n,location_id:o,ancestors:a?a.map(function(e){return{name:e}}):[],dfpTrackingUrlTemplate:i?"".concat(i,"${destUrl}"):null}]}return[]}},{key:"onContextChange",value:function e(t,n){t&&t.sponsorData&&(this.sponsorData=t.sponsorData,n())}},{key:"fetch",value:function e(t,n,o){o()}}]),e}(),A=n("@ta/common.logging"),P=n.n(A),j="recentlyviewed",D=function(){function e(t){var n=t.categories,o=t.limit;a()(this,e),f()(this,"id",j),f()(this,"categories",void 0),f()(this,"limit",10),f()(this,"results",null),f()(this,"inFlight",!1),n&&(this.categories=n),o&&(this.limit=o)}return s()(e,[{key:"getResults",value:function e(){return this.results}},{key:"fetch",value:function(e){function t(t,n,o){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n){var o=this;if(!this.inFlight&&null===this.results){var a=new URLSearchParams({limit:String(this.limit)});this.categories&&this.categories.forEach(function(e){return a.append("categories[]",e)}),this.inFlight=!0,fetch("/data/1.0/recent?".concat(a.toString()),{method:"GET",credentials:"same-origin"}).then(function(e){if(e.ok)return e;throw Error(e.statusText)}).then(function(e){return e.json()}).then(function(e){o.results=e.data.map(function(e){return N()({resultType:e.result_type},e.result_object)}),o.inFlight=!1,n()}).catch(function(e){P.a.error("recentPrefill",e),o.results=[],o.inFlight=!1,n()})}})}]),e}(),G="geotheme",V=function(){function e(t){var n=t.theme,o=t.limit;a()(this,e),f()(this,"id",G),f()(this,"theme",0),f()(this,"limit",10),f()(this,"results",null),f()(this,"inFlight",!1),n&&(this.theme=n),o&&(this.limit=o)}return s()(e,[{key:"getResults",value:function e(){return this.results}},{key:"fetch",value:function(e){function t(t,n,o){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n){var o=this;if(!this.inFlight&&null===this.results){var a=new URLSearchParams({geoThemeId:String(this.theme),limit:String(this.limit)});this.inFlight=!0,fetch("/data/1.0/destinations/bundle?".concat(a.toString()),{method:"GET",credentials:"same-origin"}).then(function(e){if(e.ok)return e;throw Error(e.statusText)}).then(function(e){return e.json()}).then(function(e){o.results=e.geos,o.inFlight=!1,n()}).catch(function(e){P.a.error("Could not fetch geo theme typeahead results.",e),o.results=[],o.inFlight=!1,n()})}})}]),e}(),B=n("@ta/common.string"),Y=["act","air","al","ship","attr","eat","geo","hotel","nbrhd"],K="typeaheadjson",H=function(){function e(t){a()(this,e),f()(this,"id",K),f()(this,"props",void 0),f()(this,"cache",void 0),f()(this,"mostRecentTerm",void 0),f()(this,"results",null),f()(this,"additionalParams",void 0),this.props=t,void 0===this.props.cache&&(this.props.cache=!0),this.props.cache&&(this.cache={})}return s()(e,[{key:"setAdditionalParams",value:function e(t){this.additionalParams=t}},{key:"getResults",value:function e(){return this.results}},{key:"fetch",value:function(e){function t(t,n,o){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n){var o=this;if(this.mostRecentTerm=e,Object(B.inputLength)(e)<3)null!==this.results&&(this.results=null,n());else if(this.cache&&this.cache[e]){var a=this.cache[e];this.results!==a&&(this.results=a,n())}else{var i={action:"API",query:e};Object.keys(this.props).filter(function(e){return"cache"!==e}).forEach(function(e){var t=o.props[e];t&&(Array.isArray(t)?i[e]=t.join(","):i[e]=String(t))}),this.additionalParams&&(i=N()({},i,this.additionalParams)),fetch("/TypeAheadJson?".concat(new URLSearchParams(i).toString()),{method:"GET",credentials:"same-origin"}).then(function(e){if(e.ok)return e;throw Error(e.statusText)}).then(function(e){return e.json()}).then(function(t){t&&o.cache&&(o.cache[e]=t),e===o.mostRecentTerm&&(t?(o.results=t,n()):o.results=[])}).catch(function(){o.results=[],n()})}})}]),e}(),U=n("@ta/common.classnames"),J=n.n(U),Q=n("@ta/styleguide.icon"),z={result:"common-typeahead-results-BasicResult__result--1mjnd",reversedSubtitle:"common-typeahead-results-BasicResult__reversedSubtitle--262c3",subtitle:"common-typeahead-results-BasicResult__subtitle--1dWGg",rescue:"common-typeahead-results-BasicResult__rescue--1yg-h",rescueResult:"common-typeahead-results-BasicResult__rescueResult--1h3jO",active:"common-typeahead-results-BasicResult__active--1wjd4",noPadding:"common-typeahead-results-BasicResult__noPadding--YYQWt",narrow:"common-typeahead-results-BasicResult__narrow--3PmRG",rescueIcon:"common-typeahead-results-BasicResult__rescueIcon--3Ak38",leftIcon:"common-typeahead-results-BasicResult__leftIcon--2V-ru",greenIcon:"common-typeahead-results-BasicResult__greenIcon--1Dis0",oldGreenIcon:"common-typeahead-results-BasicResult__oldGreenIcon--2Bypc",grayIcon:"common-typeahead-results-BasicResult__grayIcon--3qyoQ",resultTitle:"common-typeahead-results-BasicResult__resultTitle--1TQbu",rightIcon:"common-typeahead-results-BasicResult__rightIcon--22yLp",verified:"common-typeahead-results-BasicResult__verified--3po-r"},W=function e(t){var n,o=[z.result];t.active&&o.push(z.active),t.paddingStyle&&o.push(z[t.paddingStyle]),t.isRescue&&o.push(z.rescue);var a=t.subtitle?y.createElement("span",{className:t.reverseSubtitle?z.reversedSubtitle:z.subtitle},t.subtitle):void 0,i=t.iconName?y.createElement("span",{className:J()(t.isRescue?z.rescueIcon:z.leftIcon,(n={},f()(n,z.greenIcon,"green"===t.iconStyle),f()(n,z.oldGreenIcon,"oldGreen"===t.iconStyle),f()(n,z.grayIcon,"gray"===t.iconStyle),n))},y.createElement(Q.Icon,{name:t.iconName})):void 0,s=t.chevronName?y.createElement("span",{className:z.rightIcon},y.createElement(Q.Icon,{name:t.chevronName})):void 0,r=t.verifiedIcon?y.createElement("span",{className:z.verified}):void 0;return y.createElement("div",{className:o.join(" ")},i,y.createElement("span",{className:J()(z.resultTitle,f()({},z.rescueResult,t.isRescue))},t.reverseSubtitle&&a,t.title,r,!t.reverseSubtitle&&a),s)};W.defaultProps={subtitle:void 0,active:void 0,iconName:void 0,verifiedIcon:!1,chevronName:void 0,paddingStyle:void 0,isRescue:!1,iconStyle:"oldGreen",reverseSubtitle:!1};var q=W,$=function e(t){switch(t){case"HOTEL":return"hotels";case"EATERY":return"restaurants";case"ATTRACTION":return"attractions";case"UNIVERSITY":return"classes-workshops";case"TRAIN_STATION":return"train";case"AIRPORT":return"flights";case"THEME_PARK":return"amusement-parks";case"ACTIVITY":return"activities";case"SHOPPING":return"shopping-bag-fill";case"PORT":return"ports";case"GENERAL_HOSPITAL":return"hospital";case"FERRY":return"cruises";case"CORPORATION":return"office";case"BRAND":case"NEIGHBORHOOD":return"";case"AIRLINE":return"flights";case"SHIP":return"cruises";case"GEO":default:return"map-pin-fill"}},X=n("@ta/list.navigable-list"),Z=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"onSelection",function(e){if(n.props.onSelection&&"function"==typeof n.props.onSelection){var t=n.props.result,o=t.geoId,a=t.back,i=t.forward,s=a||i?"geonavi":"location_id";n.props.onSelection(e,{type:s,value:o})}}),n}return d()(t,e),s()(t,[{key:"render",value:function e(){var t;return this.props.result.back?t="single-chevron-left":this.props.result.forward&&(t="single-chevron-right"),y.createElement(X.NavigableListItem,{onSelection:this.onSelection,onMouseMove:this.props.onMouseMove,active:!!this.props.active},y.createElement(q,{title:this.props.result.name,chevronName:t,active:!!this.props.active}))}}]),t}(y.Component);f()(Z,"defaultProps",{onSelection:void 0,onMouseMove:void 0,active:!1});var ee=Z,te=n("@ta/common.i18n"),ne=function e(t){return y.createElement(X.NavigableListItem,{onSelection:function e(n){var o="click"===n.type?"click":"enter",a=t.tracker,i={resultIndex:t.resultIndex,type:"NEARBY",value:1};a.trackSelection(i,o),a.trackEventViaMEVTCookie(i,o),t.onSelection&&t.onSelection(n,{type:"nearby"})},onMouseMove:t.onMouseMove,active:t.active},y.createElement(q,{title:Object(te.localize)("mx_nearby"),iconName:"nearby-fill",active:t.active}))};ne.defaultProps={onSelection:void 0,onMouseMove:void 0,active:!1,resultIndex:void 0};var oe=ne,ae=function e(t){return y.createElement(X.NavigableListItem,{onSelection:function e(n){var o="click"===n.type?"click":"enter",a=t.tracker,i={resultIndex:t.resultIndex,type:"ALL",value:1};a.trackSelection(i,o),a.trackEventViaMEVTCookie(i,o),t.onSelection&&t.onSelection(n,{type:"worldwide"})},onMouseMove:t.onMouseMove,active:t.active},y.createElement(q,{title:Object(te.localize)("dual_search_worldwide"),iconName:"globe-world",active:t.active}))};ae.defaultProps={onSelection:void 0,onMouseMove:void 0,active:!1};var ie=ae,se=n("@ta/styleguide.skeleton"),re=n.n(se),ce=function e(){return y.createElement(X.NavigableListItem,null,y.createElement(re.a,null,y.createElement("div",{className:"common-typeahead-results-LoadingResult__invisible--SEMmA"},y.createElement(q,{title:"Loading",iconName:"globe-world",subtitle:"Loading",active:!0}))))},le=function e(t){return y.createElement("div",{className:J()("common-typeahead-results-NoResults__no_results--2UlUM",f()({},"common-typeahead-results-NoResults__small_font--_Pyaa",t.small))},Object(te.localize)("mobile_no_results_found_8e0"))};le[X.NonNavigableItem]=!0;var ue=le,pe=function e(t,n,o,a){var i=[n,o].filter(function(e){return!!e}).join(", ");return"full_address"===t?a?"".concat(a,", ").concat(i):i:"parent_geos"===t?i:""},de={geos:"GEO",neighborhoods:"NEIGHBORHOOD",attractions:"ATTRACTION",hotels:"HOTEL",vr:"VACATION_RENTAL",restaurants:"EATERY",airports:"AIRPORT",airlines:"AIRLINE",attraction_products:"ACTIVITY"},he=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"onSelect",function(e){var t="click"===e.type?"click":"enter",o=n.props,a=o.tracker,i=o.onSelection,s=o.result,r=o.resultIndex,c=n.props.result,l=c.location_id,u=c.resultType;a.trackSelection(N()({document_id:l,data_type:"LOCATION",fromHistory:!0,type:de[u]||u,resultIndex:r},s),t),i&&i(e,{type:"recent_location_id",value:l})}),f()(m()(m()(n)),"iconFromCategoryKey",function(e){switch(e){case"attraction":return"attractions";case"hotel":return"hotels";case"restaurant":return"restaurants";case"geographic":default:return"map-pin-fill"}}),n}return d()(t,e),s()(t,[{key:"render",value:function e(){var t,n,o,a=this.props.result,i=a.name,s=a.category,r=a.ancestors,c=void 0===r?[]:r,l=pe(this.props.addressDisplay,null===(t=c[0])||void 0===t?void 0:t.name,null===(n=c[1])||void 0===n?void 0:n.name,null==a?void 0:null===(o=a.address_obj)||void 0===o?void 0:o.street1),u=this.props.includeIcon?this.iconFromCategoryKey(s&&s.key||""):"";return y.createElement(X.NavigableListItem,{active:!!this.props.active,onMouseMove:this.props.onMouseMove,onSelection:this.onSelect},y.createElement(q,{title:i,subtitle:l,iconName:u,active:this.props.active,paddingStyle:this.props.paddingStyle}))}}]),t}(y.Component);f()(he,"defaultProps",{onSelection:void 0,onMouseMove:void 0,active:!1,includeIcon:!1,paddingStyle:void 0,addressDisplay:"parent_geos",resultIndex:void 0});var me=he,ve=n("react-redux"),fe={result:"common-typeahead-results-SponsoredGeoResult__result--3QRHF",subtitle:"common-typeahead-results-SponsoredGeoResult__subtitle--1UuoQ",active:"common-typeahead-results-SponsoredGeoResult__active--2RuNn",noPadding:"common-typeahead-results-SponsoredGeoResult__noPadding--r1aOh",narrow:"common-typeahead-results-SponsoredGeoResult__narrow--k67AM",resultTitle:"common-typeahead-results-SponsoredGeoResult__resultTitle--2iizQ",sponsoredPill:"common-typeahead-results-SponsoredGeoResult__sponsoredPill--115Xu"},ye=!0,ge=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"onSelect",function(e){var t="click"===e.type?"click":"enter",o=n.props,a=o.tracker,i=o.onSelection,s=o.result,r=o.resultIndex,c=s.location_id,l=s.dfpTrackingUrlTemplate,u=void 0===l?null:l;n.trackWhereToGARecordEvnt(t);var p=N()({resultIndex:r,type:"GEO",data_type:"LOCATION",document_id:"sponsored_".concat(c)},s);a.trackSelection(p,t),i&&i(e,{type:"recent_location_id",value:c,dfpTrackingUrlTemplate:u})}),f()(m()(m()(n)),"trackWhereToGARecordEvnt",function(e){var t=[n.props.servletName,n.props.viewportCategory,n.props.result.location_id,"top",n.props.numListItems].join("|");x()({module:"SponsoredWhereTo",action:e,context:t,nonInteractive:!1,value:0})}),n}return d()(t,e),s()(t,[{key:"render",value:function e(){var t,n,o,a=this.props.result,i=a.name,s=a.ancestors,r=void 0===s?[]:s,c=pe(this.props.addressDisplay,null===(t=r[0])||void 0===t?void 0:t.name,null===(n=r[1])||void 0===n?void 0:n.name,null==a?void 0:null===(o=a.address_obj)||void 0===o?void 0:o.street1),l=[fe.result];this.props.active&&l.push(fe.active),this.props.paddingStyle&&l.push(fe[this.props.paddingStyle]);var u=c?y.createElement("span",{className:fe.subtitle},c):void 0,p=y.createElement("span",{className:fe.sponsoredPill},"Sponsored");return ye&&(this.trackWhereToGARecordEvnt("start"),ye=!1),y.createElement(X.NavigableListItem,{active:!!this.props.active,onMouseMove:this.props.onMouseMove,onSelection:this.onSelect},y.createElement("div",{className:l.join(" ")},y.createElement("span",{className:fe.resultTitle},i,p,u)))}}]),t}(y.Component);f()(ge,"defaultProps",{onSelection:void 0,onMouseMove:void 0,active:!1,paddingStyle:void 0,addressDisplay:"parent_geos",numListItems:-1,servletName:"servlet_unknown",resultIndex:void 0});var Se=Object(ve.connect)(function(e){return{viewportCategory:e.meta.device.viewportCategory,servletName:e.meta.initialServletName}})(ge),Ie=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"onSelect",function(e){var t="click"===e.type?"click":"enter",o=n.props,a=o.tracker,i=o.onSelection,s=o.result,r=o.resultIndex;a.trackSelection(N()({resultIndex:r},s),t);var c=s.location_id;i&&i(e,{type:"geo_theme_location_id",value:c})}),n}return d()(t,e),s()(t,[{key:"render",value:function e(){var t,n=this.props.result.name,o=this.props.result.ancestors?this.props.result.ancestors.length:0;return o>1?t="".concat(this.props.result.ancestors[0].name,", ").concat(this.props.result.ancestors[1].name):o>0&&(t=this.props.result.ancestors[0].name),y.createElement(X.NavigableListItem,{active:!!this.props.active,onMouseMove:this.props.onMouseMove,onSelection:this.onSelect},y.createElement(q,{title:n,subtitle:t,active:this.props.active}))}}]),t}(y.Component);f()(Ie,"defaultProps",{onSelection:void 0,onMouseMove:void 0,active:!1,resultIndex:void 0});var ke=Ie,_e=function e(t){var n=t.title;return y.createElement("div",{className:"common-typeahead-results-SectionTitle__section--3aPog"},n)};_e[X.NonNavigableItem]=!0;var Te=_e,Ee=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"onSelect",function(e){var t="click"===e.type?"click":"enter",o=n.props,a=o.tracker,i=o.onSelection,s=o.itemType,r=o.result,c=o.resultIndex,l=N()({resultIndex:c},r);a.trackSelection(l,t),a.trackEventViaMEVTCookie(l,t);var u=r.value,p=r.scope,d=r.name;i&&i(e,{type:s,value:u,displayValue:d,scope:p})}),n}return d()(t,e),s()(t,[{key:"render",value:function e(){var t=this.props.result.details||{},n=t.name,o=pe(this.props.addressDisplay,t.parent_name,t.grandparent_name,t.address),a=this.props.includeIcon?$(this.props.result.type):"";return y.createElement(X.NavigableListItem,{onSelection:this.onSelect,onMouseMove:this.props.onMouseMove,active:this.props.active},y.createElement(q,{title:n,subtitle:o,iconName:a,active:this.props.active,paddingStyle:this.props.paddingStyle,iconStyle:this.props.iconStyle}))}}]),t}(y.Component);f()(Ee,"defaultProps",{onSelection:void 0,onMouseMove:void 0,active:!1,includeIcon:!1,addressDisplay:"parent_geos",paddingStyle:void 0,itemType:"location_id",iconStyle:void 0,resultIndex:void 0});var Ce=Ee,Re=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"onSelect",function(e){var t="click"===e.type?"click":"enter",o=n.props,a=o.tracker,i=o.onSelection,s=o.result,r=o.resultIndex,c=N()({resultIndex:r},s);a.trackSelection(c,t),a.trackEventViaMEVTCookie(c,t),i&&i(e,{type:"rescue",value:s.url})}),n}return d()(t,e),s()(t,[{key:"render",value:function e(){var t="".concat(Object(te.localize)("typeAheadSearchFor_fffff81b",{0:this.props.result.query}));return y.createElement(X.NavigableListItem,{onSelection:this.onSelect,onMouseMove:this.props.onMouseMove,active:this.props.active},y.createElement(q,{title:t,active:this.props.active,iconName:"search",isRescue:!0}))}}]),t}(y.Component);f()(Re,"defaultProps",{onSelection:void 0,onMouseMove:void 0,active:!1,resultIndex:void 0});var Ne=Re,be=n("@babel/runtime/helpers/esm/toConsumableArray"),xe=n.n(be),Oe=n("@ta/input.text-input"),Fe=n("@ta/events.window"),we=n.n(Fe),Le=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"state",{closed:!1,inputFocused:!1}),f()(m()(m()(n)),"onSelection",function(e,t){n.setState({closed:!1}),n.setSelection(t)}),f()(m()(m()(n)),"onFocus",function(e){n.setState({closed:!1,inputFocused:!0}),n.props.onFocus&&n.props.onFocus(e)}),f()(m()(m()(n)),"onBlur",function(e){n.setState({inputFocused:!1}),n.props.onBlur&&n.props.onBlur(e)}),f()(m()(m()(n)),"setSelection",function(e){e&&(n.updateSearch(""),n.textInput&&n.textInput.focus(),n.props.selectionChanged(e))}),f()(m()(m()(n)),"handleOnKeyDown",function(e){e.keyCode===k.KEY_TAB&&n.props.closeDropdownOnClickOutside&&n.setState({closed:!0})}),f()(m()(m()(n)),"tracker",new O("","")),f()(m()(m()(n)),"textInput",void 0),f()(m()(m()(n)),"updateSearch",void 0),f()(m()(m()(n)),"isMounted",!1),n}return d()(t,e),s()(t,[{key:"componentDidMount",value:function e(){this.isMounted=!0}},{key:"componentWillUnmount",value:function e(){this.isMounted=!1}},{key:"render",value:function e(){var t=this,n=this.props.placeHolder||Object(te.localize)("common_Search");return y.createElement(y.Fragment,null,y.createElement(I,{fetchers:this.props.fetchers},function(e,o){t.updateSearch=o;var a=e&&Object.keys(e).filter(function(t){return!function e(t){return!t||0===t.length}(e[t])}).length>0,i=t.props.handleEmptyResult&&e.typeaheadjson&&!e.typeaheadjson.length;return y.createElement("div",{className:"common-typeahead-location-Selector__textInput--5C4DU",onKeyDown:t.handleOnKeyDown},y.createElement("span",{className:J()("ui_icon",t.props.iconType,"common-typeahead-location-Selector__icon--lHRCs",f()({},"common-typeahead-location-Selector__accessibleGreenIcon--15xCL",t.props.greenIcon))}),y.createElement(T,{inputComponentType:Oe.ManagedTextInput,inputComponentClassName:J()("ui_input_text","common-typeahead-location-Selector__socialInput--2Zgrm",t.props.className),value:t.props.typeaheadTextInputValue,type:t.props.inputType,onChange:function e(n){t.setState({closed:!1}),t.props.textInputChanged(n)},onQueryChange:function e(t){o(t)},onFocus:t.onFocus,onBlur:t.onBlur,searchDelay:50,placeholder:n,onRef:function e(n){t.textInput=n,t.props.onRef(n)}}),(a||i)&&!t.state.closed&&y.createElement("div",{className:"common-typeahead-location-Selector__results--3df4J"},t.props.children(e,t.tracker,t.onSelection)))}),y.createElement(we.a,{event:"click",callback:function e(){t.isMounted&&t.props.closeDropdownOnClickOutside&&!t.state.inputFocused&&t.setState({closed:!0})}}))}}]),t}(y.Component);f()(Le,"defaultProps",{placeHolder:null,className:void 0,inputType:void 0,iconType:"search",greenIcon:!1,onFocus:void 0,onBlur:void 0,itemType:"location_id",onRef:function e(){},closeDropdownOnClickOutside:!0});var Me=Le,Ae=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"state",{textInputValue:n.props.selectedLocation.displayValue||""}),f()(m()(m()(n)),"onResultSelected",function(e){n.props.selectionChanged(e),n.setState({textInputValue:n.props.clearValueOnSelection?"":e.displayValue||""})}),f()(m()(m()(n)),"getTypeaheadJsonFetcher",function(){return new H({interleaved:!0,types:n.props.locationTypes,name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:n.props.max,scoreThreshold:.8,parentids:n.props.parentids||[]})}),f()(m()(m()(n)),"textInputChanged",function(e){n.setState({textInputValue:e})}),f()(m()(m()(n)),"typeaheadJsonFetcher",n.getTypeaheadJsonFetcher()),n}return d()(t,e),s()(t,[{key:"componentDidUpdate",value:function e(t){(function e(t,n){return t===n||t.length===n.length&&t.every(function(e,t){return e===n[t]})})(t.parentids||[],this.props.parentids||[])||(this.typeaheadJsonFetcher=this.getTypeaheadJsonFetcher())}},{key:"render",value:function e(){var t=this,n=this.props.trailingItem;return g.a.createElement(Me,{fetchers:[this.typeaheadJsonFetcher],typeaheadTextInputValue:this.state.textInputValue,selectionChanged:this.onResultSelected,textInputChanged:this.textInputChanged,className:this.props.className,onFocus:this.props.onFocus,onBlur:this.props.onBlur,placeHolder:this.props.placeHolder,greenIcon:this.props.selectorGreenIcon,handleEmptyResult:this.props.handleEmptyResult,onRef:function e(n){t.props.onRef&&t.props.onRef(n)},closeDropdownOnClickOutside:this.props.closeDropdownOnClickOutside},function(e,o,a){var i=[];return i=e.typeaheadjson&&!e.typeaheadjson.length?[function(e,t){return g.a.createElement(X.NavigableListItem,{onMouseMove:t,key:"result='no-result'"},g.a.createElement(ue,{small:!0}))}]:xe()(e.typeaheadjson||[]).map(function(e){return function(n,i){return g.a.createElement(Ce,{addressDisplay:t.props.addressDisplay,result:e,tracker:o,onMouseMove:i,onSelection:a,active:n,key:"result=".concat(e.value),iconStyle:t.props.resultIconStyle,includeIcon:!0})}}),n&&i.push(n),g.a.createElement(X.NavigableList,null,i)})}}]),t}(g.a.Component);f()(Ae,"defaultProps",{locationTypes:Y,className:void 0,onFocus:void 0,onBlur:void 0,placeHolder:void 0,clearValueOnSelection:!1,parentids:[],selectorGreenIcon:!1,resultIconStyle:void 0,addressDisplay:"parent_geos",trailingItem:void 0,max:8,handleEmptyResult:!1,onRef:function e(){},closeDropdownOnClickOutside:!0});var Pe=Ae,je=n("@babel/runtime/helpers/esm/slicedToArray"),De=n.n(je),Ge=n("react-apollo"),Ve=n("@ta/media.image"),Be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LocationDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locationIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"Variable",name:{kind:"Name",value:"locationIds"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photoSizes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isHorizontal"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additionalNames"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"long"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"additionalNames"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"long"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:372}};Be.loc.source={body:"f26d8cc49abb"};var Ye=Be,Ke=function e(t){var n=t.selectedLocations,o=t.onClose;return y.createElement(Ge.Query,{errorPolicy:"all",query:Ye,variables:{locationIds:Array.from(n.keys()).map(function(e){return parseInt(e,10)})}},function(e){var t=e.loading,n=e.data;return!t&&n&&n.locations&&n.locations[0]?y.createElement(y.Fragment,null,n.locations.map(function(e){return function e(t){var n,a,i,s,r,c;switch(a="CITY"===(null==t?void 0:t.placeType)?null==t?void 0:null===(i=t.additionalNames)||void 0===i?void 0:i.longOnlyParent:null==t?void 0:null===(s=t.parent)||void 0===s?void 0:null===(r=s.additionalNames)||void 0===r?void 0:r.long,null==t?void 0:t.placeType){case"ACCOMMODATION":c="hotels";break;case"ATTRACTION":c="attractions";break;case"ACTIVITY":c="activities";break;case"CITY":c="globe-world";break;case"EATERY":c="restaurants";break;default:c=""}return y.createElement("div",{key:"poi_tag_".concat(null==t?void 0:t.locationId),className:"".concat("common-typeahead-location-POIObjectList__poi_block--1iFBx"," ").concat("common-typeahead-location-POIObjectList__relative_container--L6oNS")},y.createElement("div",{className:"common-typeahead-location-POIObjectList__poi_thumbnail--1qDET"},(null==t?void 0:t.thumbnail)?y.createElement(Ve.ResponsiveImage,{sources:null==t?void 0:null===(n=t.thumbnail)||void 0===n?void 0:n.photoSizes,width:"60px",height:"60px",notLazy:!1,borderRadius:"2px"}):y.createElement("div",{style:{width:"60px",height:"60px"}},y.createElement("div",{className:"common-typeahead-location-POIObjectList__no_photo_available--3MpR8"},y.createElement(Q.Icon,{name:c,className:"common-typeahead-location-POIObjectList__icon--1793k"})))),y.createElement("div",{className:"common-typeahead-location-POIObjectList__poi_info_vertical_center--3op-7"},y.createElement("div",{className:"common-typeahead-location-POIObjectList__poi_info--37Kva"},y.createElement("div",{className:"common-typeahead-location-POIObjectList__poi_name--FlhXE"},null==t?void 0:t.name),y.createElement("div",{className:"common-typeahead-location-POIObjectList__poi_location--3DY8C"},a))),o&&(null==t?void 0:t.locationId)?y.createElement("div",{className:"ui_icon times ".concat("common-typeahead-location-POIObjectList__trashIcon--2GksF"),onClick:function e(){return o(t.locationId.toString())}}):null)}(e)})):null})};Ke.defaultProps={onClose:void 0};var He=Ke,Ue=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"state",{textInputValue:"",focused:!1,hasResults:!1}),f()(m()(m()(n)),"onSelection",function(e,t){if(t&&"location_id"===t.type&&t.value){var o=String(t.value),a=new Map(n.props.selectedLocations);if(!a.has(o)){if(a.set(o,t),n.props.maxLocations>0&&a.size>n.props.maxLocations){var i=Array.from(a.keys())[0];a.delete(i)}n.props.selectionChanged(a)}n.setState({textInputValue:""}),n.updateSearch(""),n.textInput&&n.textInput.focus()}}),f()(m()(m()(n)),"handleResultChange",function(e){var t=e&&e.typeaheadjson&&e.typeaheadjson.length>0;t&&!n.state.hasResults?(n.props.hasResultsChanged&&n.props.hasResultsChanged(!0),n.setState({hasResults:!0})):!t&&n.state.hasResults&&(n.props.hasResultsChanged&&n.props.hasResultsChanged(!1),n.setState({hasResults:!1}))}),f()(m()(m()(n)),"handleItemRemoveClick",function(e){var t=new Map(n.props.selectedLocations);t.delete(e),n.props.selectionChanged(t)}),f()(m()(m()(n)),"typeaheadJsonFetcher",new H({interleaved:!0,types:Y,name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:8,scoreThreshold:.8})),f()(m()(m()(n)),"tracker",new O("","")),f()(m()(m()(n)),"textInput",void 0),f()(m()(m()(n)),"updateSearch",void 0),n}return d()(t,e),s()(t,[{key:"render",value:function e(){var t=this;return y.createElement(I,{fetchers:[this.typeaheadJsonFetcher],onResultsChange:this.handleResultChange},function(e,n){return t.updateSearch=n,y.createElement("div",{className:"".concat("common-typeahead-location-MultiLocationSelector__wrapper--aeYj9"," ").concat(t.props.className?t.props.className:"")},y.createElement("div",{className:"".concat("common-typeahead-location-MultiLocationSelector__inputContainer--3y7N4"," ").concat(t.state.focused?"common-typeahead-location-MultiLocationSelector__inputFocused--xvPlx":""),onClick:function e(){return t.textInput&&t.textInput.focus()}},y.createElement("span",{className:"ui_icon search ".concat("common-typeahead-location-MultiLocationSelector__searchIcon--2bJmn")}),y.createElement(T,{inputComponentType:Oe.ManagedTextInput,inputComponentClassName:"common-typeahead-location-MultiLocationSelector__textInput--30bwX",value:t.state.textInputValue,onChange:function e(n){return t.setState({textInputValue:n})},onQueryChange:function e(t){n(t)},onFocus:function e(n){t.setState({focused:!0}),t.props.onFocus&&t.props.onFocus(n)},onBlur:function e(n){t.setState({focused:!1}),t.props.onBlur&&t.props.onBlur(n)},searchDelay:50,placeholder:0===t.props.selectedLocations.size||t.props.selectedLocations.size===t.props.maxLocations?Object(te.localize)("post_video_typeahead_placeholder_text_search"):Object(te.localize)("post_video_location_typeahead_add_location"),onRef:function e(n){t.textInput=n}})),e&&e.typeaheadjson&&e.typeaheadjson.length>0?y.createElement("div",{className:"common-typeahead-location-MultiLocationSelector__results--1sW6j"},y.createElement(X.NavigableList,null,e&&e.typeaheadjson?e.typeaheadjson.map(function(e){return function(n,o){return y.createElement(Ce,{result:e,tracker:t.tracker,onMouseMove:o,onSelection:t.onSelection,active:n,key:"result=".concat(e.value),includeIcon:!0})}}):[])):null,t.props.showLocationsAsPoiObjects?y.createElement(He,{selectedLocations:t.props.selectedLocations,onClose:t.handleItemRemoveClick}):Array.from(t.props.selectedLocations.entries()).map(function(e){var n=De()(e,2),o=n[0],a=n[1];return y.createElement("div",{className:"ui_tag_box ui_icon times ".concat("common-typeahead-location-MultiLocationSelector__selectedItem--pRT_v"),key:o,onClick:function e(){return t.handleItemRemoveClick(o)}},a.displayValue)}))})}}]),t}(y.Component);f()(Ue,"defaultProps",{hasResultsChanged:null,maxLocations:0,className:void 0,onFocus:void 0,onBlur:void 0,showLocationsAsPoiObjects:!0});var Je=Ue,Qe="worldwide",ze=function(){function e(){a()(this,e),f()(this,"id",Qe),f()(this,"results",null),f()(this,"name",Object(te.localize)("dual_search_worldwide"))}return s()(e,[{key:"getResults",value:function e(){return this.results}},{key:"fetch",value:function e(t,n,o){this.results=t.length<3||this.name.toLowerCase().indexOf(t.toLowerCase())<0?null:[{type:"GEO",value:"1",displayValue:this.name,details:{name:this.name}}],o()}}]),e}(),We=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"state",{textInputValue:n.props.selectedLocation.displayValue||""}),f()(m()(m()(n)),"onResultSelected",function(e){n.props.selectionChanged(e),n.setState({textInputValue:e.displayValue||""})}),f()(m()(m()(n)),"typeaheadJsonFetcher",new H({interleaved:!0,types:["geo"],filter:"cities"===n.props.mode?["nobroad"]:void 0,name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:n.props.max})),f()(m()(m()(n)),"textInputChanged",function(e){""===e&&n.props.selectionCleared&&n.props.selectionCleared(),n.setState({textInputValue:e})}),n}return d()(t,e),s()(t,[{key:"render",value:function e(){var t=this,n=[this.typeaheadJsonFetcher];return this.props.includeWorld&&n.unshift(new ze),y.createElement(Me,{fetchers:n,typeaheadTextInputValue:this.state.textInputValue,selectionChanged:this.onResultSelected,textInputChanged:this.textInputChanged,iconType:this.props.iconType,greenIcon:this.props.selectorGreenIcon,placeHolder:this.props.placeholder,onFocus:this.props.onFocus,onBlur:this.props.onBlur,closeDropdownOnClickOutside:this.props.closeDropdownOnClickOutside},function(e,n,o){return y.createElement(X.NavigableList,null,[].concat(xe()(e.worldwide||[]),xe()(e.typeaheadjson||[])).map(function(e){return function(a,i){return y.createElement(Ce,{result:e,tracker:n,onMouseMove:i,onSelection:o,active:a,key:"result=".concat(e.value),iconStyle:t.props.resultIconStyle,includeIcon:!0})}}))})}}]),t}(y.Component);f()(We,"defaultProps",{mode:"all",includeWorld:!0,selectionCleared:function e(){},iconType:"search",selectorGreenIcon:!1,resultIconStyle:void 0,placeholder:void 0,max:8,onBlur:void 0,onFocus:void 0,closeDropdownOnClickOutside:!0});var qe=We,$e=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(m()(m()(n)),"state",{textInputValue:""}),f()(m()(m()(n)),"onResultSelected",function(e){n.props.selectionChanged(e),n.setState({textInputValue:e.displayValue||""})}),f()(m()(m()(n)),"typeaheadJsonFetcher",new H({interleaved:!0,types:["hotel","attr","eat"],filter:["nobroad"],name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:8})),f()(m()(m()(n)),"textInputChanged",function(e){n.setState({textInputValue:e})}),n}return d()(t,e),s()(t,[{key:"render",value:function e(){return y.createElement(Me,{fetchers:[this.typeaheadJsonFetcher],typeaheadTextInputValue:this.state.textInputValue,selectionChanged:this.onResultSelected,textInputChanged:this.textInputChanged,placeHolder:this.props.placeholderText},function(e,t,n){return y.createElement(X.NavigableList,null,xe()(e.typeaheadjson||[]).map(function(e){return function(o,a){return y.createElement(Ce,{result:e,tracker:t,onMouseMove:a,onSelection:n,active:o,key:"result=".concat(e.value),includeIcon:!0})}}))})}}]),t}(y.Component);n.d(t,"Typeahead",function(){return I}),n.d(t,"TypeaheadTextInput",function(){return T}),n.d(t,"TypeaheadTextArea",function(){return C}),n.d(t,"TypeaheadTracking",function(){return O}),n.d(t,"GeoNaviFetcher",function(){return w}),n.d(t,"GeoNaviFetcherId",function(){return F}),n.d(t,"SponsoredGeoFetcher",function(){return M}),n.d(t,"SponsoredGeoFetcherID",function(){return L}),n.d(t,"RecentlyViewedFetcher",function(){return D}),n.d(t,"RecentlyViewedFetcherId",function(){return j}),n.d(t,"GeoThemeFetcher",function(){return V}),n.d(t,"GeoThemeFetcherId",function(){return G}),n.d(t,"TypeaheadJsonFetcher",function(){return H}),n.d(t,"TypeaheadJsonFetcherId",function(){return K}),n.d(t,"BasicResult",function(){return q}),n.d(t,"getIconFromResultType",function(){return $}),n.d(t,"GeoNaviResult",function(){return ee}),n.d(t,"GoNearbyResult",function(){return oe}),n.d(t,"GoWorldwideResult",function(){return ie}),n.d(t,"LoadingResult",function(){return ce}),n.d(t,"NoResults",function(){return ue}),n.d(t,"RecentlyViewedResult",function(){return me}),n.d(t,"SponsoredGeoResult",function(){return Se}),n.d(t,"GeoThemeResult",function(){return ke}),n.d(t,"SectionTitle",function(){return Te}),n.d(t,"TypeaheadJsonResult",function(){return Ce}),n.d(t,"RescueResult",function(){return Ne}),n.d(t,"LocationSelector",function(){return Pe}),n.d(t,"MultiLocationSelector",function(){return Je}),n.d(t,"GeoSelector",function(){return qe}),n.d(t,"POISelector",function(){return $e}),n.d(t,"Selector",function(){return Me}),n.d(t,"WorldwideFetcher",function(){return ze}),n.d(t,"POIObjectList",function(){return He})}}});
//# sourceMappingURL=common.typeahead.a0aebdb2cc.js.map