($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/hotels.hr-map-opener",d:["vendor-babel","vendor-react-libs","ta-platform","lithium-platform","@ta/maps.overlay"],e:["./packages/hotels/hr-map-opener/hr-map-opener.jsx"],x:{"./packages/hotels/hr-map-opener/hr-map-opener.jsx":["default"]},m:{"./packages/hotels/hr-map-opener/hr-map-opener.jsx":function(e,t,a){"use strict";a.r(t);var n,o=a("@babel/runtime/helpers/esm/classCallCheck"),r=a.n(o),s=a("@babel/runtime/helpers/esm/createClass"),i=a.n(s),h=a("@babel/runtime/helpers/esm/possibleConstructorReturn"),l=a.n(h),p=a("@babel/runtime/helpers/esm/getPrototypeOf"),c=a.n(p),m=a("@babel/runtime/helpers/esm/inherits"),u=a.n(m),_=a("@babel/runtime/helpers/esm/assertThisInitialized"),d=a.n(_),w=a("@babel/runtime/helpers/esm/defineProperty"),v=a.n(w),f=a("@babel/runtime/helpers/esm/slicedToArray"),b=a.n(f),E=a("react"),k=a("@ta/common.radio"),M=a.n(k),g=a("@ta/common.features"),y=a("@ta/common.tracking"),A=a.n(y),D=a("@ta/platform.import"),P=a("@ta/maps.overlay"),H=a.n(P),L=Object(g.featureIsEnabled)("hr_map_load_on_click")||Object(g.featureIsEnabled)("hr_map_load_on_scroll")?D.component.onTrigger(((n=function e(){return a.e("@ta/hotels.hotel-review-map")}).__PACKAGE__="@ta/hotels.hr-map-opener",n.__MODULE_ID__="@ta/hotels.hotel-review-map",n.__MODULE_NAME__="@ta/hotels.hotel-review-map",n.__BUNDLE_NAME__="@ta/hotels.hotel-review-map",n.__GET_SYNC__=function(){return a.m["@ta/hotels.hotel-review-map"]?a("@ta/hotels.hotel-review-map"):null},n.__IS_LOADED__=function(){return void 0!==a.m["@ta/hotels.hotel-review-map"]},n)):[function(){},D.component(function(){var e=function e(){return a.e("@ta/hotels.hotel-review-map")};return e.__PACKAGE__="@ta/hotels.hr-map-opener",e.__MODULE_ID__="@ta/hotels.hotel-review-map",e.__MODULE_NAME__="@ta/hotels.hotel-review-map",e.__BUNDLE_NAME__="@ta/hotels.hotel-review-map",e.__GET_SYNC__=function(){return a.m["@ta/hotels.hotel-review-map"]?a("@ta/hotels.hotel-review-map"):null},e.__IS_LOADED__=function(){return void 0!==a.m["@ta/hotels.hotel-review-map"]},e}())],O=b()(L,2),C=O[0],I=O[1],N=function e(){var t=window.location.toString();if(t.indexOf("#")>0){var a=t.substring(0,t.indexOf("#"));window.history.replaceState(null,document.title,a)}},S=function e(){return window&&window.location&&"#MAPVIEW"===window.location.hash},x=function(e){function t(){var e,a;r()(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=l()(this,(e=c()(t)).call.apply(e,[this].concat(o))),v()(d()(d()(a)),"state",{showMap:!1}),v()(d()(d()(a)),"hasPushedHash",!1),v()(d()(d()(a)),"mapRadio",null),v()(d()(d()(a)),"openMap",function(){A()({module:"map_view",action:"open_requested",context:"v4"}),history.pushState(null,document.title,"#MAPVIEW"),a.hasPushedHash=!0,a.checkHash()}),v()(d()(d()(a)),"checkHash",function(){var e=S();e&&C(),a.setState({showMap:e})}),v()(d()(d()(a)),"close",function(){a.hasPushedHash?(window.history.back(),a.checkHash()):(N(),a.checkHash())}),a}return u()(t,e),i()(t,[{key:"componentDidMount",value:function e(){this.mapRadio=M()("hr-map"),this.mapRadio&&this.mapRadio.on("open-trigger-clicked",this.openMap),this.checkHash(),window.addEventListener("popstate",this.checkHash),window.addEventListener("hashchange",this.checkHash,!1)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("popstate",this.checkHash),window.removeEventListener("hashchange",this.checkHash),this.mapRadio&&this.mapRadio.off("open-trigger-clicked",this.openMap)}},{key:"render",value:function e(){return this.state.showMap?E.createElement(H.a,{onClose:this.close},E.createElement(I,{close:this.close})):null}}]),t}(E.PureComponent);t.default=x}}});
//# sourceMappingURL=hotels.hr-map-opener.06c9a08daf.js.map