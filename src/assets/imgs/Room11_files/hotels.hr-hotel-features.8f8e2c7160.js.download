($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/hotels.hr-hotel-features",d:["vendor-react-libs","vendor-redux-libs","vendor-apollo-libs","lithium-platform","ta-platform","@ta/styleguide.skeleton","vendor-babel","ta-common"],e:["./packages/hotels/hr-hotel-features/hr-hotel-features.jsx"],x:{"./packages/hotels/hr-hotel-features/hr-hotel-features.jsx":["default"]},m:{"./packages/hotels/hr-hotel-features/hr-hotel-features.jsx":function(e,a,t){"use strict";t.r(a);var n=t("react"),i=t.n(n),l=t("react-redux"),r=t("react-apollo"),o=t("@ta/common.features"),d=t("@ta/common.tracking"),m=t.n(d),u=t("@ta/styleguide.skeleton"),s=t.n(u),c=t("@babel/runtime/helpers/esm/slicedToArray"),v=t.n(c),k=t("@ta/common.is-visible"),h=t("@ta/common.decode"),g=t.n(h),N=t("@ta/common.i18n"),b=t("@ta/media.image"),f=t("@ta/styleguide.icon"),p=t("@ta/styleguide.bubble-rating"),y=Object(n.memo)(Object(l.connect)(function(e){return{imageCdnUrl:e.meta.imageCdnUrl}})(function e(a){var t=a.hotelFeature,l=a.locationId,r=a.index,o=a.imageCdnUrl,d=t.cta,u=t.image,s=t.link,c=t.body,h=t.location,y=(null==h?void 0:h.reviewSummary)||{},F=y.rating,_=y.count,S=t.category||function e(a){switch(a){case"ATTRACTION":return Object(N.localize)("common_Attraction_3dd");case"EATERY":return Object(N.localize)("common_Dining");default:return null}}(null==h?void 0:h.placeType),E=t.header||(null==h?void 0:h.name),x=Object(n.useState)(!1),I=v()(x,2),T=I[0],V=I[1],O=Object(n.useMemo)(function(){return s?[T?g()(s):void 0,!0]:[(null==h?void 0:h.url)||"",!1]},[T,s,h]),j=v()(O,2),A=j[0],C=j[1],H=Object(k.useOnVisible)(function(){m()({module:"hr_hotel_features",action:"impression",context:String(l),value:r}),V(!0)}),w=Object(n.useCallback)(function(){m()({module:"hr_hotel_features",action:"click",context:String(l),value:r})},[l,r]);return i.a.createElement("a",{className:"hotels-hr-hotel-features-HotelFeature__hotelFeature--1bbl-",href:A,target:"_blank",rel:C?"nofollow noopener noreferrer":void 0,onClick:w,ref:H},u&&i.a.createElement("div",{className:"hotels-hr-hotel-features-HotelFeature__image--2UaPL"},i.a.createElement(b.ResponsiveImage,{width:"100px",height:"100px",sources:u.map(function(e){return{url:"".concat(o).concat((null==e?void 0:e.url)||""),width:(null==e?void 0:e.width)||0,height:(null==e?void 0:e.height)||0}})})),i.a.createElement("div",{className:"hotels-hr-hotel-features-HotelFeature__textContainer--1r-PA"},i.a.createElement("div",{className:"hotels-hr-hotel-features-HotelFeature__category--5oDst"},S),i.a.createElement("div",{className:"hotels-hr-hotel-features-HotelFeature__header--n09GF"},E),null!=F&&null!=_&&i.a.createElement("div",{className:"hotels-hr-hotel-features-HotelFeature__ratingAndReviewCount--2Zcwg"},i.a.createElement("span",{className:"hotels-hr-hotel-features-HotelFeature__rating--1iebu"},i.a.createElement(p.BubbleRating,{rating:F})),i.a.createElement("span",{className:"hotels-hr-hotel-features-HotelFeature__reviewCount--10T6D"},Object(N.localize)("hotels_num_reviews",{0:N.globalize.formatNumber("integer",_)}))),i.a.createElement("div",{className:"hotels-hr-hotel-features-HotelFeature__body--3I6zm"},c),d&&i.a.createElement("div",{className:"hotels-hr-hotel-features-HotelFeature__cta--10W6K"},d,C&&i.a.createElement(f.Icon,{name:"external-link-no-box",className:"hotels-hr-hotel-features-HotelFeature__linkIcon--1E4ge"}))))})),F={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HotelFeaturesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commerceCountryId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isMobile"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"servletName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"locationId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"businessAdvantage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"commerceCountryId"},value:{kind:"Variable",name:{kind:"Name",value:"commerceCountryId"}}},{kind:"Argument",name:{kind:"Name",value:"isMobile"},value:{kind:"Variable",name:{kind:"Name",value:"isMobile"}}},{kind:"Argument",name:{kind:"Name",value:"servletName"},value:{kind:"Variable",name:{kind:"Name",value:"servletName"}}},{kind:"Argument",name:{kind:"Name",value:"isSponsoredAttribution"},value:{kind:"BooleanValue",value:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hotelFeatures"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"header"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"link"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"encode"},arguments:[]}]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:733}};F.loc.source={body:"456522084e4a"};var _=F;a.default=Object(l.connect)(function(e){return{queryVariables:{locationId:e.page.detailId,commerceCountryId:e.meta.commerceCountryId,isMobile:"MOBILE"===e.meta.device.viewportCategory,servletName:e.meta.initialServletName||""}}})(function e(a){var t=a.queryVariables,l=Object(o.featureIsEnabled)("t10472_hotel_features_proof_of_concept");return Object(n.useEffect)(function(){m()({module:"hr_hotel_features",action:"load",context:String(t.locationId),value:l?1:0})},[l,t.locationId]),l?i.a.createElement(r.Query,{query:_,variables:t},function(e){var a,t,n=e.data,l=void 0===n?{}:n,r=e.loading,o=null===(a=l.locations)||void 0===a?void 0:a[0],d=[];return((null==o?void 0:null===(t=o.businessAdvantage)||void 0===t?void 0:t.hotelFeatures)||[]).forEach(function(e){null!=e&&d.push(e)}),i.a.createElement("div",{className:"hotels-hr-hotel-features-hr-hotel-features__hrHotelFeatures--3inQD"},i.a.createElement("h2",{className:"hotels-hr-hotel-features-hr-hotel-features__header--2iLVy"},"Hotel Features"),r?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{height:"118px",marginTop:"24px",marginBottom:"24px"}),i.a.createElement(s.a,{height:"118px",marginTop:"24px",marginBottom:"24px"}),i.a.createElement(s.a,{height:"118px",marginTop:"24px",marginBottom:"24px"}),i.a.createElement(s.a,{height:"118px",marginTop:"24px",marginBottom:"12px"})):d.map(function(e,a){return i.a.createElement(y,{key:a,hotelFeature:e,locationId:(null==o?void 0:o.locationId)||-1,index:a})}))}):null})}}});
//# sourceMappingURL=hotels.hr-hotel-features.8f8e2c7160.js.map