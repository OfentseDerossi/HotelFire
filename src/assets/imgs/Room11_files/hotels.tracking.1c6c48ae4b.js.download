($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/hotels.tracking",d:["vendor-babel","vendor-react-libs","vendor-redux-libs","vendor-apollo-libs","vendor-common","@ta/tracking.interactions","@ta/tracking.bbml","@ta/maps.click-source-tracking"],e:["./packages/hotels/tracking/HotelListingClickTracker.jsx"],x:{"./packages/hotels/tracking/HotelListingClickTracker.jsx":["INTERACTIONS_PARAM_NAMES","INTERACTIONS_SOURCE_ELEMENTS","getSourceElemForMapClick","default"]},m:{"./packages/hotels/tracking/HotelListingClickTracker.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"INTERACTIONS_PARAM_NAMES",function(){return H}),n.d(t,"INTERACTIONS_SOURCE_ELEMENTS",function(){return L}),n.d(t,"getSourceElemForMapClick",function(){return h});var i=n("@babel/runtime/helpers/esm/classCallCheck"),r=n.n(i),a=n("@babel/runtime/helpers/esm/createClass"),s=n.n(a),o=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),c=n.n(o),l=n("@babel/runtime/helpers/esm/getPrototypeOf"),u=n.n(l),E=n("@babel/runtime/helpers/esm/inherits"),_=n.n(E),m=n("@babel/runtime/helpers/esm/assertThisInitialized"),O=n.n(m),P=n("@babel/runtime/helpers/esm/defineProperty"),p=n.n(P),T=n("react"),d=n("react-redux"),C=n("react-apollo"),I=n("js-cookie"),g=n.n(I),k=n("@ta/tracking.interactions"),b=n("@ta/tracking.bbml"),N=n.n(b),S=n("@ta/maps.click-source-tracking"),H={HOTEL_REVIEW_SERVLET:"hotelReviewServlet",HOTEL_MAPS_COMPONENT:"hotelMapsComponent"},L={HOTEL_NAME:"HOTELNAME",PHOTO:"PHOTO",REVIEW_COUNT:"REVIEWCOUNT",HOTEL_LISTING:"HOTELLISTING",PRICE_MESSAGE:"PRICEMESSAGE",POPUP_HOTEL_NAME:"POPUPHOTELNAME",POPUP_PHOTO:"POPUPPHOTO",POPUP_REVIEW_COUNT:"POPUPREVIEWCOUNT"},h=function e(t,n){var i=n===S.MAP_LISTING_TYPES.POPUP;switch(t){case S.CLICK_SOURCES.NAME:return i?L.POPUP_HOTEL_NAME:L.HOTEL_NAME;case S.CLICK_SOURCES.PHOTO:return i?L.POPUP_PHOTO:L.PHOTO;case S.CLICK_SOURCES.REVIEWS:return i?L.POPUP_REVIEW_COUNT:L.REVIEW_COUNT;default:return L.HOTEL_LISTING}},f=function e(t,n,i,r,a,s,o){r&&i&&t({variables:{interaction:p()({uniqueId:r},i,{listingToHrClick:{impressionKey:o,locationId:a,listingKey:s,sourceElement:n}})}})},R=function e(t){var n=new Date;n.setTime(n.getTime()+1e4);var i={expires:n};g.a.set("hotelListingKey",t,i)},A=function(e){function t(){var e,n;r()(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(a))),p()(O()(O()(n)),"clickHandler",function(e,t){var i=n.props,r=i.customClickHandler,a=i.interactionsParamName,s=i.uniqueId,o=i.locationId,c=i.listingKey,l=i.impressionKey;r&&r(),f(e,t,a,s,o,c,l),R(c)}),p()(O()(O()(n)),"bbmlClickHandler",function(e,t){var i=n.props,r=i.uniqueId,a=i.locationId,s=i.listingKey,o=i.impressionKey,c=i.placementName,l=i.uid;o&&c&&e({variables:{interaction:{productInteraction:{interaction_type:"CLICK",site:{site_name:"ta",site_business_unit:"Hotels"},pageview:{pageview_request_uid:l},user:{user_agent:navigator.userAgent,site_persistent_user_uid:r},search:{},item_group:{item_group_collection_key:o,item_group_name:c},item:{product_type:"Hotels",item_id_type:"ta-location-id",item_id:a,item_key:s,item_attributes:{element_type:t}}}}}})}),n}return _()(t,e),s()(t,[{key:"render",value:function e(){var t=this,n=this.props.hotelListingRenderer;return T.createElement(C.Mutation,{mutation:k.LogInteractionV4},function(e){return T.createElement(C.Mutation,{mutation:N.a},function(i){return n(function(n){t.bbmlClickHandler(i,n),t.clickHandler(e,n)})})})}}]),t}(T.Component);p()(A,"defaultProps",{customClickHandler:null}),t.default=Object(d.connect)(function(e){return{uniqueId:e.tracking.uniqueId,uid:e.tracking.uid}})(A)}}});
//# sourceMappingURL=hotels.tracking.1c6c48ae4b.js.map