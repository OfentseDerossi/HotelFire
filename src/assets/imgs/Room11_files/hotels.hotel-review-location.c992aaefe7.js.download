($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/hotels.hotel-review-location",d:["vendor-babel","vendor-react-libs","ta-platform","lithium-platform","@ta/styleguide.skeleton","@ta/common.grid","@ta/hotels.hotel-review-layout","@ta/public.business-listing","ta-common","@ta/common.text","vendor-urql","vendor-apollo-libs","vendor-redux-libs","@ta/events.window-resize","@ta/maps.snapshot","@ta/common.sessionstorage","@ta/overlays.tooltip"],e:["./packages/hotels/hotel-review-location/hotel-review-location.jsx"],x:{"./packages/hotels/hotel-review-location/hotel-review-location.jsx":["default"]},m:{"./packages/hotels/hotel-review-location/hotel-review-location.jsx":function(e,t,n){"use strict";n.r(t);var a=n("@babel/runtime/helpers/esm/objectSpread"),i=n.n(a),l=n("@babel/runtime/helpers/esm/classCallCheck"),r=n.n(l),o=n("@babel/runtime/helpers/esm/createClass"),c=n.n(o),s=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),d=n.n(s),u=n("@babel/runtime/helpers/esm/getPrototypeOf"),m=n.n(u),v=n("@babel/runtime/helpers/esm/inherits"),p=n.n(v),k=n("@babel/runtime/helpers/esm/assertThisInitialized"),h=n.n(k),g=n("@babel/runtime/helpers/esm/defineProperty"),b=n.n(g),N=n("react"),_=n("@ta/common.api"),y=n("@ta/common.i18n"),f=n("@ta/common.classnames"),I=n.n(f),E=n("@ta/styleguide.skeleton"),S=n.n(E),O=n("@ta/common.grid"),w=n("@ta/hotels.hotel-review-layout"),C=n("@ta/common.features"),L=function e(t){return N.createElement("div",{className:I()("ui_column is-4","hotels-hotel-review-location-layout-LocationColumn__locationColumn--kANeS")},t.children)},A=function e(t){var n=t.children,a=t.title;return N.createElement(N.Fragment,null,N.createElement("div",{className:"hotels-hotel-review-location-layout-SubSection__title--4W3t8"},a),n)},T=n("@ta/overlays.tooltip"),F=n.n(T),P=n("@ta/common.tracking"),M=n.n(P),D=n("@ta/styleguide.icon"),R=n("urql"),j=n("react-apollo"),U=n("@ta/public.business-listing"),V={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NearbyQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"nearbyLocationIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"centerPoint"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"GeoPointInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"useGQForAirports"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isMobile"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commerceCountryId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"servletName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isSponsoredAttribution"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"distanceUnit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnitLengthInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"useHPS"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"useHPSForNearbyLocations"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"useHPSForNearbyWithPreferredPOIs"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"currentLocation"},name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"locationId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"nearbyAttractionsUrl"},name:{kind:"Name",value:"locationsNearUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ATTRACTION"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"nearbyHotelsUrl"},name:{kind:"Name",value:"locationsNearUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HOTEL"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"nearbyRestaurantsUrl"},name:{kind:"Name",value:"locationsNearUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"RESTAURANT"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"businessAdvantage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"isMobile"},value:{kind:"Variable",name:{kind:"Name",value:"isMobile"}}},{kind:"Argument",name:{kind:"Name",value:"commerceCountryId"},value:{kind:"Variable",name:{kind:"Name",value:"commerceCountryId"}}},{kind:"Argument",name:{kind:"Name",value:"servletName"},value:{kind:"Variable",name:{kind:"Name",value:"servletName"}}},{kind:"Argument",name:{kind:"Name",value:"isSponsoredAttribution"},value:{kind:"Variable",name:{kind:"Name",value:"isSponsoredAttribution"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ContactBaFields"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"nearbyTransit"},name:{kind:"Name",value:"nearby"},arguments:[{kind:"Argument",name:{kind:"Name",value:"radius"},value:{kind:"FloatValue",value:"1.0"}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"2"}},{kind:"ObjectField",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}}]}},{kind:"Argument",name:{kind:"Name",value:"locationFilter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"placeType"},value:{kind:"EnumValue",value:"METRO_STATION"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceFromCenter"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"detail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NearbyLocations"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"useHPSForNearbyLocations"}}}]}]},{kind:"FragmentSpread",name:{kind:"Name",value:"NearbyWithPreferredPOIs"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"useHPSForNearbyWithPreferredPOIs"}}}]}]}]}},{kind:"Field",alias:{kind:"Name",value:"nearbyAirports"},name:{kind:"Name",value:"nearestAirports"},arguments:[{kind:"Argument",name:{kind:"Name",value:"radius"},value:{kind:"FloatValue",value:"50.0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"2"}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"useGQForAirports"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"distanceFromCenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"airportInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"airportLocationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"nearbyLocations"},name:{kind:"Name",value:"locationsWithDistance"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"Variable",name:{kind:"Name",value:"nearbyLocationIds"}}},{kind:"Argument",name:{kind:"Name",value:"fromPoint"},value:{kind:"Variable",name:{kind:"Name",value:"centerPoint"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"useHPS"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StandardLocationInfo"},directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceFromCenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Attraction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"category"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ATTRACTIONS_L2_CATEGORY"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ATTRACTIONS_L3_TYPE"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Restaurant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cuisines"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CUISINES"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hotels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"locationId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"walkScore"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ContactBaFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocationProductData"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactLinks"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactLinkType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayPhone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rawPhone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emailParts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickTrackingUrl"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"encode"},arguments:[]}]},{kind:"Field",name:{kind:"Name",value:"column"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StandardLocationInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocationInformation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LocationDetail"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocationInformation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"detail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Restaurant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cuisines"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CUISINES"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Attraction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"category"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ATTRACTIONS_L2_CATEGORY"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ATTRACTIONS_L3_TYPE"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"NearbyLocationInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NearbyLocationInformation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"distanceFromCenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StandardLocationInfo"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"LocationDetail"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"NearbyLocations"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Hotel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nearbyLocations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"distanceUnit"},value:{kind:"Variable",name:{kind:"Name",value:"distanceUnit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attractionCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceUnit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hotelCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restaurantCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NearbyLocationInfo"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"NearbyWithPreferredPOIs"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Hotel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nearbyWithPreferredPOIs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"distanceUnit"},value:{kind:"Variable",name:{kind:"Name",value:"distanceUnit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attractionCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mapDistanceRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceUnit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hotelCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restaurantCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nearbyLocationList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NearbyLocationInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"preferredPOIList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"eateries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NearbyLocationInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"attractions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NearbyLocationInfo"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"topPOI"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NearbyLocationInfo"},directives:[]}]}}]}}]}}],loc:{start:0,end:3828}};V.loc.source={body:"364289687503"};var z=V,x={loading:!0,hasGeoCenter:!1,currentLocation:null,distanceRange:0,walkScore:null,hotels:[],restaurants:[],attractions:[],contacts:null,restaurantsCount:0,attractionsCount:0,nearbyAttractionsUrl:null,nearbyHotelsUrl:null,nearbyRestaurantsUrl:null,nearbyTransit:null,nearbyAirports:null,topPOI:null,mapDistanceRange:0},H=N.createContext(x),B=H.Consumer,G=H.Provider,W=function e(t){var n=t.locationId,a=t.placeType,i=t.name,l=t.latitude,r=t.longitude,o=t.distanceFromCenter,c=t.url,s=t.reviewSummary,d=t.isPreferredPOI;return{locationId:n,placeType:a,name:i,latitude:l,longitude:r,distanceInMiles:o,url:c,rating:s?s.rating:0,reviewCount:s?s.count:0,isPreferredPOI:d}},Y=function e(t,n){return i()({},W(i()({},t.location,{distanceFromCenter:t.distanceFromCenter,isPreferredPOI:n})),{cuisines:t.location&&t.location.detail&&t.location.detail.cuisines||[]})},Q=function e(t,n){return i()({},W(i()({},t.location,{distanceFromCenter:t.distanceFromCenter,isPreferredPOI:n})),{category:t.location&&t.location.detail&&t.location.detail.category||[],type:t.location&&t.location.detail&&t.location.detail.type||[]})},q=function e(t,n){(t||[]).forEach(function(e){if(e&&e.location)switch(e.placeType){case"ACCOMMODATION":n.hotels.push(W(i()({},e.location,{distanceFromCenter:e.distanceFromCenter})));break;case"EATERY":n.restaurants.push(Y(e,!1));break;case"ATTRACTION":n.attractions.push(Q(e,!1))}})},K=function e(t,n,a,l){var r,o=a.children,c=a.nearbyLocationData,s=l&&!Object(C.featureIsEnabled)("hr_location_anchor_poi_subtle")&&!Object(C.featureIsEnabled)("hr_location_anchor_poi_overt"),d=Object(C.featureIsEnabled)("hr_location_anchor_poi_subtle")||Object(C.featureIsEnabled)("hr_location_anchor_poi_overt");if(t)r=x;else if(n&&n.currentLocation&&n.currentLocation[0]&&(n.nearbyLocations||n.currentLocation[0].detail&&n.currentLocation[0].detail.nearbyLocations||n.currentLocation[0].detail&&n.currentLocation[0].detail.nearbyWithPreferredPOIs||n.currentLocation[0].nearbyAirports)){var u=n.currentLocation[0];if(r={loading:t,hasGeoCenter:!1,distanceRange:0,walkScore:n.hotels&&n.hotels[0]?n.hotels[0].walkScore:null,currentLocation:W(n.currentLocation[0]),hotels:[],restaurants:[],attractions:[],nearbyAttractionsUrl:u.nearbyAttractionsUrl,nearbyHotelsUrl:u.nearbyHotelsUrl,nearbyRestaurantsUrl:u.nearbyRestaurantsUrl,nearbyTransit:u.nearbyTransit,nearbyAirports:u.nearbyAirports,contacts:u.businessAdvantage&&Object(U.remapContacts)(u.businessAdvantage.contactLinks||[]),restaurantsCount:0,attractionsCount:0,topPOI:null,mapDistanceRange:0},s&&u&&u.detail&&u.detail.nearbyLocations)r.hasGeoCenter=!(!u.latitude||!u.longitude),r.distanceRange=u.detail.nearbyLocations.distanceRange||0,r.restaurantsCount=u.detail.nearbyLocations.restaurantCount||0,r.attractionsCount=u.detail.nearbyLocations.attractionCount||0,q(u.detail.nearbyLocations.locationList,r);else if(d&&u&&u.detail&&u.detail.nearbyWithPreferredPOIs){r.hasGeoCenter=!(!u.latitude||!u.longitude),r.distanceRange=u.detail.nearbyWithPreferredPOIs.distanceRange||0,r.mapDistanceRange=u.detail.nearbyWithPreferredPOIs.mapDistanceRange||0,r.restaurantsCount=u.detail.nearbyWithPreferredPOIs.restaurantCount||0,r.attractionsCount=u.detail.nearbyWithPreferredPOIs.attractionCount||0;var m=u.detail.nearbyWithPreferredPOIs.preferredPOIList.eateries,v=u.detail.nearbyWithPreferredPOIs.preferredPOIList.attractions;m&&m.length&&r.restaurants.push(Y(m[0],!0)),v&&v.length&&r.attractions.push(Q(v[0],!0));var p=u.detail.nearbyWithPreferredPOIs.topPOI;p&&(r.topPOI=W(i()({},p.location,{distanceFromCenter:p.distanceFromCenter,isPreferredPOI:!0}))),q(u.detail.nearbyWithPreferredPOIs.nearbyLocationList,r)}else c&&n.nearbyLocations&&(r.distanceRange=c.distanceRange||0,r.hasGeoCenter=!(!c.centerLatitude||!c.centerLongitude),r.restaurantsCount=c.restaurantsCount||0,r.attractionsCount=c.attractionsCount||0,(n.nearbyLocations||[]).forEach(function(e){if(e)switch(e.placeType){case"ACCOMMODATION":r.hotels.push(W(e));break;case"EATERY":r.restaurants.push(i()({},W(e),{cuisines:e.detail&&e.detail.cuisines||[]}));break;case"ATTRACTION":r.attractions.push(i()({},W(e),{category:e.detail&&e.detail.category||[],type:e.detail&&e.detail.type||[]}))}}))}else r=i()({},x,{loading:!1});return N.createElement(G,{value:r},o)},X=function e(t){var n=t.locationId,a=t.nearbyLocationData,i=t.isMobile,l=t.commerceCountryId,r=t.servlet,o=t.sponsoredListingLocationIdAttribution,c=t.distanceUnit,s={latitude:a&&a.centerLatitude||0,longitude:a&&a.centerLongitude||0},d={locationId:n||0,nearbyLocationIds:a&&a.nearbyLocationIds||[],centerPoint:s,useGQForAirports:Object(C.featureIsEnabled)("USE_GQL_FOR_AIRPORTS"),isMobile:i,commerceCountryId:l,servletName:r,isSponsoredAttribution:o===n,distanceUnit:c,useHPS:Object(C.featureIsEnabled)("hr_location_via_hps"),useHPSForNearbyLocations:Object(C.featureIsEnabled)("hr_location_via_hps")&&!Object(C.featureIsEnabled)("hr_location_anchor_poi_subtle")&&!Object(C.featureIsEnabled)("hr_location_anchor_poi_overt"),useHPSForNearbyWithPreferredPOIs:Object(C.featureIsEnabled)("hr_location_anchor_poi_subtle")||Object(C.featureIsEnabled)("hr_location_anchor_poi_overt")};return Object(C.featureIsEnabled)("hr_urql")?N.createElement(R.Query,{query:z,variables:d},function(e){var n=e.fetching,a=e.data;return K(n,a,t,d.useHPS)}):N.createElement(j.Query,{query:z,variables:d},function(e){var n=e.loading,a=e.data;return K(n,a,t,d.useHPS)})},Z=n("@babel/runtime/helpers/esm/slicedToArray"),$=n.n(Z),J={orange:"hotels-hotel-review-location-layout-Highlight__orange--1N-BP",blue:"hotels-hotel-review-location-layout-Highlight__blue--2qc3K",green:"hotels-hotel-review-location-layout-Highlight__green--3lccI",wrapper:"hotels-hotel-review-location-layout-Highlight__wrapper--1Ome5",number:"hotels-hotel-review-location-layout-Highlight__number--S3wsZ",collapsible:"hotels-hotel-review-location-layout-Highlight__collapsible--1Ht-P",arrowIcon:"hotels-hotel-review-location-layout-Highlight__arrowIcon--1driA",icon:"hotels-hotel-review-location-layout-Highlight__icon--DYg-3"},ee=function e(t){var n=t.number,a=t.children,i=t.color,l=t.icon,r=void 0===l?"":l,o=t.viewport,c=t.collapsedContent,s=N.useState(!0),d=$()(s,2),u=d[0],m=d[1],v=J[i];return"MOBILE"===o&&c?N.createElement("div",{className:I()(J.collapsible,"ui_column is-4"),onClick:function e(){return m(!u)}},N.createElement(D.Icon,{name:u?"caret-down":"caret-up",className:J.arrowIcon}),r&&N.createElement(D.Icon,{name:r,className:"".concat(J.icon," ").concat(v)}),N.createElement("span",{className:"".concat(J.number," ").concat(v)},n),a,c(u)):N.createElement("div",{className:I()(J.wrapper,"ui_column is-4")},N.createElement("span",{className:"".concat(J.number," ").concat(v)},n),a)},te={tooltip:"hotels-hotel-review-location-Infographic__tooltip--FoMax",infoCircle:"hotels-hotel-review-location-Infographic__infoCircle--1Cfmm",title:"hotels-hotel-review-location-Infographic__title--1IDkR",orange:"hotels-hotel-review-location-Infographic__orange--1x9a-",blue:"hotels-hotel-review-location-Infographic__blue--3o2UL",green:"hotels-hotel-review-location-Infographic__green--5PNC9",collapsible:"hotels-hotel-review-location-Infographic__collapsible--f8k9N",subtitle:"hotels-hotel-review-location-Infographic__subtitle--3jxTl",walkscoreSubtitle:"hotels-hotel-review-location-Infographic__walkscoreSubtitle--2OY0F",text:"hotels-hotel-review-location-Infographic__text--c6Cri",nearbyLocations:"hotels-hotel-review-location-Infographic__nearbyLocations--2CA59",hidden:"hotels-hotel-review-location-Infographic__hidden--1q89r"},ne=n("@babel/runtime/helpers/esm/extends"),ae=n.n(ne),ie=n("@babel/runtime/helpers/esm/objectWithoutProperties"),le=n.n(ie),re=n("@ta/common.routing"),oe=n("@ta/styleguide.bubble-rating"),ce=n("@ta/media.image"),se=function e(t){var n=20*t;return Math.ceil(n)},de=function e(t,n){return t<0?null:Object(y.unescaped)(Object(y.localize)("time_n_min",{0:se(t)}),n)},ue=function e(t,n){var a=Math.pow(10,n);return Math.round(t*a)/a},me=function e(t,n,a,i){if(t<0)return null;var l=ue(t,a);return"MILES"===n?Object(y.unescaped)(Object(y.localize)("distance_n_mi",{0:l}),i):Object(y.unescaped)(Object(y.localize)("distance_n_km",{0:l}),i)},ve=function e(t,n,a){return n===a?t:"MILES"===n?1.60934*t:.621371*t},pe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NearbyLocation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"locationId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"thumbnail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photoSizes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isHorizontal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:284}};pe.loc.source={body:"55982fed6d17"};var ke,he=pe,ge=function e(t,n,a){var i=t.defaultUrl,l=t.viewportCategory,r=!n&&a&&a.locations&&a.locations[0]||null,o=Object(C.featureIsEnabled)("hr_xsell_history_inject");return N.createElement(re.Link,{stripNoreferrerNoopener:o,href:r&&r.url,onClick:r?void 0:function(){return window.open(i,"_blank")},target:"_blank",className:"hotels-hotel-review-location-NearbyLocation__location--3aHDX"},"MOBILE"===l?function e(t){return N.createElement("div",{className:"hotels-hotel-review-location-NearbyLocation__thumbnail--1uAfG"},t&&t.thumbnail?N.createElement(ce.ResponsiveImage,{height:"96px",width:"86px",sources:t.thumbnail.photoSizes}):null)}(r):null,function e(t,n,a){var i=n.classification,l=n.location,r=n.distanceUnit,o=l.isPreferredPOI?"hotels-hotel-review-location-NearbyLocation__POIName--qyw1a":"hotels-hotel-review-location-NearbyLocation__name--1pAvV";return N.createElement(N.Fragment,null,N.createElement("div",{className:o,"data-nearbylocationid":l.locationId},l.name),N.createElement(N.Fragment,null,t?N.createElement(S.a,{height:"16px"}):function e(t,n){if(!n)return null;var a=n.reviewSummary,i=n.url;return a&&a.count?N.createElement(N.Fragment,null,N.createElement(oe.BubbleRating,{rating:a.rating}),N.createElement("span",{className:"hotels-hotel-review-location-NearbyLocation__reviewLink--3c7FI",onClick:function e(t){window.open("".concat(i,"#REVIEWS"),"_blank"),t.preventDefault()}},Object(y.localize)("mobile_reviews_plural",{0:y.globalize.formatNumber("integer",a.count)}))):null}(0,a),N.createElement("div",{className:"hotels-hotel-review-location-NearbyLocation__details--3a_CK"},N.createElement(D.Icon,{name:l.distanceInMiles<1?"activities":"parking",className:"hotels-hotel-review-location-NearbyLocation__travelIcon--3oTJZ"}),l.distanceInMiles<1?de(l.distanceInMiles):me(ve(l.distanceInMiles,"MILES",r),r,1),i?N.createElement("span",{className:"hotels-hotel-review-location-NearbyLocation__classification--3OxHA"},i):null)))}(n,t,r))},be=N.memo(function e(t){var n=t.location;return Object(C.featureIsEnabled)("hr_urql")?N.createElement(R.Query,{query:he,variables:{locationId:n.locationId}},function(e){var n=e.fetching,a=e.data;return ge(t,n,a)}):N.createElement(j.Query,{query:he,variables:{locationId:n.locationId},errorPolicy:"all"},function(e){var n=e.loading,a=e.data;return ge(t,n,a)})}),Ne=function e(t){var n=t.location,a=le()(t,["location"]);return N.createElement(be,ae()({defaultUrl:Object(re.buildUrl)({page:"Restaurant_Review",d:n.locationId}),location:n},a,{classification:n.cuisines&&n.cuisines[0]?n.cuisines[0].tagNameLocalized:null}))},_e=function e(t){var n=t.location,a=le()(t,["location"]),i=null;return n.type&&n.type[0]?i=n.type[0].tagNameLocalized:n.category&&n.category[0]&&(i=n.category[0].tagNameLocalized),N.createElement(be,ae()({defaultUrl:Object(re.buildUrl)({page:"Attraction_Review",d:n.locationId}),location:n},a,{classification:i}))},ye=function e(t){switch(t){case"ACCOMMODATION":return"hotels";case"ATTRACTION":return"attractions";case"EATERY":return"restaurants";default:return"hotels"}},fe=function e(t){var n=t.url,a=t.placeType,i=t.viewportCategory;return n?N.createElement(re.Link,{href:n,target:"_blank",className:I()("seeNearby","hotels-hotel-review-location-NearbyLink__seeNearby--1T7nl"),stripNoreferrerNoopener:!0,onClick:function e(t){return Object(P.trackClick)(t,{module:"seeAllNearby",action:"click",context:ye(a)})}},function e(t){switch(t){case"ACCOMMODATION":return Object(y.localize)("see_all_nearby_hotels_v2");case"ATTRACTION":return Object(y.localize)("see_all_nearby_attractions_v2");case"EATERY":return Object(y.localize)("see_all_nearby_restaurants_v2");default:return Object(y.localize)("see_all_nearby_hotels_v2")}}(a),"MOBILE"===i?N.createElement(D.Icon,{name:"single-chevron-right-circle-fill",className:"hotels-hotel-review-location-NearbyLink__nearbyIcon--2ilfR"}):null):null},Ie=35,Ee=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(i))),b()(h()(h()(n)),"renderInfographic",function(e,t,a,i,l,r){var o=e&&e>Ie?e:null;return o||"MOBILE"!==n.props.viewport?o?N.createElement(O.Columns,null,n.renderWalkability(o),n.renderRestaurantHighlight(t,a,r),n.renderAttractionHighlight(i,l,r)):null:N.createElement(O.Columns,null,n.renderRestaurantHighlight(t,a,r),n.renderAttractionHighlight(i,l,r))}),b()(h()(h()(n)),"renderWalkability",function(e){var t=Object(y.localize)("grade_x_out_of_100",{nGrade:e}),a=N.createElement(F.a,{below:!0,message:Object(y.localize)("walkability_explanation2")},function(e){return N.createElement("div",{ref:e,className:I()(te.subtitle,te.tooltip,te.walkscoreSubtitle)},t,N.createElement(D.Icon,{name:"information-circle",className:te.infoCircle,onClick:function e(){return M()({name:"nearby",action:"click",context:"walk_info"})}}))});return N.createElement(ee,{number:e,viewport:n.props.viewport,color:"green"},N.createElement("span",{className:te.text},N.createElement("span",{className:I()(te.title,te.green)},function i(e){return e>90?Object(y.localize)("great_for_walkers"):e>80?Object(y.localize)("good_for_walkers"):e>50?Object(y.localize)("somewhat_walkable"):Object(y.localize)("car_recommended")}(e)),a))}),b()(h()(h()(n)),"renderRestaurantHighlight",function(e,t,a){if(!e.length&&"MOBILE"===n.props.viewport)return null;var i={titleClass:I()(te.title,te.orange),subtitleClass:te.subtitle,count:"".concat(t),range:y.globalize.formatNumber("default",a)};return N.createElement(ee,{number:t,color:"orange",viewport:n.props.viewport,icon:"restaurants",collapsedContent:function t(a){return N.createElement("div",{className:I()(a&&te.hidden)},N.createElement("div",{className:te.nearbyLocations},e.slice(0,4).map(function(e){return N.createElement(Ne,{location:e,distanceUnit:n.props.distanceUnit,viewportCategory:n.props.viewport,key:e.locationId})})),N.createElement(fe,{url:n.props.nearbyRestaurantUrl,viewportCategory:n.props.viewport,placeType:"EATERY"}))}},N.createElement("span",{className:I()(te.text,"MOBILE"===n.props.viewport?te.collapsible:null),dangerouslySetInnerHTML:{__html:"MILES"===n.props.distanceUnit?Object(y.localize)("hr_location_infographic_restaurant_miles_v2",i):Object(y.localize)("hr_location_infographic_restaurant_km_v2",i)}}))}),b()(h()(h()(n)),"renderAttractionHighlight",function(e,t,a){if(!e.length&&"MOBILE"===n.props.viewport)return null;var i={titleClass:I()(te.title,te.blue),subtitleClass:te.subtitle,count:"".concat(t),range:y.globalize.formatNumber("default",a)};return N.createElement(ee,{number:t,color:"blue",viewport:n.props.viewport,icon:"attractions",collapsedContent:function t(a){return N.createElement("div",{className:I()(a&&te.hidden)},N.createElement("div",{className:te.nearbyLocations},e.slice(0,4).map(function(e){return N.createElement(_e,{location:e,distanceUnit:n.props.distanceUnit,viewportCategory:n.props.viewport,key:e.locationId})})),N.createElement(fe,{url:n.props.nearbyAttractionsUrl,viewportCategory:n.props.viewport,placeType:"ATTRACTION"}))}},N.createElement("span",{className:I()(te.text,"MOBILE"===n.props.viewport?te.collapsible:null),dangerouslySetInnerHTML:{__html:"MILES"===n.props.distanceUnit?Object(y.localize)("hr_location_infographic_attraction_miles_v2",i):Object(y.localize)("hr_location_infographic_attraction_km_v2",i)}}))}),n}return p()(t,e),c()(t,[{key:"render",value:function e(){var t=this;return N.createElement(B,null,function(e){var n=e.loading,a=e.walkScore,i=e.restaurants,l=e.restaurantsCount,r=e.attractions,o=e.attractionsCount,c=e.distanceRange;return n?N.createElement(S.a,{height:"80px"}):t.renderInfographic(a,i,l,r,o,c)})}}]),t}(N.Component),Se=n("@ta/platform.import"),Oe={airport:{typeIcon:"flights",travelIcon:"parking"},transit:{typeIcon:"train",travelIcon:"activities"}},we=Object(C.featureIsEnabled)("hr_xsell_history_inject"),Ce=function e(t,n){return"transit"===t&&n&&n.length<120},Le=function e(t){return N.createElement("div",{className:"hotels-hotel-review-location-NearbyTransport__item--7md5u"},N.createElement(D.Icon,{name:Oe[t.type].typeIcon,className:"hotels-hotel-review-location-NearbyTransport__typeIcon--21-Tf"}),N.createElement("div",null,N.createElement("span",{className:"hotels-hotel-review-location-NearbyTransport__name--2ZEk0"},t.name),t.travel?N.createElement("span",{className:I()("hotels-hotel-review-location-NearbyTransport__travel--oZRAC",b()({},"hotels-hotel-review-location-NearbyTransport__description--sA8c-",Ce(t.type,t.locationDescription)))},Ce(t.type,t.locationDescription)?N.createElement("span",{className:"hotels-hotel-review-location-NearbyTransport__description--sA8c-"},t.locationDescription):null,N.createElement(D.Icon,{name:Oe[t.type].travelIcon,className:"hotels-hotel-review-location-NearbyTransport__travelIcon--YCPiK"}),N.createElement("span",{className:"hotels-hotel-review-location-NearbyTransport__distance--24tmE"},t.travel)):null,t.link?N.createElement(re.Link,{stripNoreferrerNoopener:we,href:t.link,target:"_blank",className:"hotels-hotel-review-location-NearbyTransport__linkToFlights--3orLd"},t.fare?Object(y.localize)("hotel_see_flights_from",{displayFare:t.fare}):Object(y.localize)("hotel_See_all_flights")):null))},Ae=Se.component.onUsage(((ke=function e(){return n.e("@ta/public.ride-service-callout")}).__PACKAGE__="@ta/hotels.hotel-review-location",ke.__MODULE_ID__="@ta/public.ride-service-callout",ke.__MODULE_NAME__="@ta/public.ride-service-callout",ke.__BUNDLE_NAME__="@ta/public.ride-service-callout",ke.__GET_SYNC__=function(){return n.m["@ta/public.ride-service-callout"]?n("@ta/public.ride-service-callout"):null},ke.__IS_LOADED__=function(){return void 0!==n.m["@ta/public.ride-service-callout"]},ke)),Te=Object(C.featureIsEnabled)("LINK_TO_FLIGHTS"),Fe=function(e){function t(){return r()(this,t),d()(this,m()(t).apply(this,arguments))}return p()(t,e),c()(t,[{key:"renderAirports",value:function e(t){var n=this;return N.createElement(N.Fragment,null,t&&t.map(function(e){return N.createElement(Le,{type:"airport",key:e.id,name:e.localizedName,travel:me(e.localizedDistance,n.props.distanceUnit,0),link:Te?Object(re.buildUrl)({page:"Flights",g:e.locationId}):null})}))}},{key:"renderAirportsGQ",value:function e(t){var n=this;return N.createElement(N.Fragment,null,t&&t.map(function(e){return e&&e.airportInfo&&e.distanceFromCenter?N.createElement(Le,{type:"airport",key:e.airportInfo.airportLocationId,name:e.airportInfo.locationName,travel:me(ve(e.distanceFromCenter,"MILES",n.props.distanceUnit),n.props.distanceUnit,0),link:Te?e&&e.airportInfo&&e.airportInfo.locationId&&Object(re.buildUrl)({page:"Flights",g:e.airportInfo.locationId}):null}):null}))}},{key:"render",value:function e(){var t=this.props,n=t.nearbyAirports,a=t.nearbyAirportsGQ,i=t.nearbyTransit,l=t.viewport;return n&&0!==n.length||a&&0!==a.length||i&&0!==i.length?N.createElement(A,{fillSpace:!0,title:Object(y.localize)("hr_location_getting_there")},n&&this.renderAirports(n),a&&this.renderAirportsGQ(a),function e(t){return N.createElement(N.Fragment,null,t&&t.filter(function(e){return e.distanceFromCenter}).map(function(e){return N.createElement(Le,{type:"transit",key:e.locationId,name:e.name,travel:de(e.distanceFromCenter||0),locationDescription:e.locationDescription})}))}(i),"MOBILE"===l?N.createElement(Ae,null):null):null}}]),t}(N.Component),Pe=Object(_.bind)(function(e,t){var n=e.meta.device.viewportCategory,a=Object(C.featureIsEnabled)("USE_GQL_FOR_AIRPORTS"),i=null;if(!a){var l=new URLSearchParams({radius:"50",limit:"2",locale:e.i18n.locale});i=t("/data/1.0/airports/nearby/".concat(e.page.detailId,"?").concat(l.toString()))}return function(){return{nearbyAirports:i&&i.get().data,distanceUnit:e.i18n.distanceUnit||"MILES",viewport:n}}})(Fe),Me=n("@ta/common.text");function De(e){return!!(e&&e.name&&e.description)}var Re=function e(){return N.createElement(N.Fragment,null,N.createElement("span",{className:"hotels-hotel-review-location-Neighborhood__readMore--1wv8g"},Object(y.localize)("common_Read_more")),N.createElement(D.Icon,{name:"caret-down"}))},je=function e(t){var n=t.nearbyHotelsUrl,a=t.neighborhood,i=t.viewportCategory;if(!a||!De(a))return null;var l=function r(e){if(!e||!e.images)return[];var t=e.images;return t?Object.keys(t).map(function(e){return t[e]}):[]}(a.photo),o="MOBILE"===i?3:5;return N.createElement("div",{className:"hotels-hotel-review-location-Neighborhood__container--2evy3"},N.createElement(O.Columns,{gaplessVertical:"MOBILE"===i},N.createElement(O.Column,{width:"MOBILE"===i?12:8},N.createElement("div",{className:"hotels-hotel-review-location-Neighborhood__title--2r0Yo"},Object(y.localize)("common_Neighborhood_ffffdfce")),"MOBILE"!==i?N.createElement("div",{className:"hotels-hotel-review-location-Neighborhood__name--2LxNd"},a.name):null,N.createElement(Me.ReadMore,{customCssClass:"hotels-hotel-review-location-Neighborhood__description--28xqH",numLinesToShow:o,initialDivHeight:18*o,cta:Re(),ctaNewline:!0},a.description),N.createElement(fe,{url:n,viewportCategory:i,placeType:"ACCOMMODATION"})),"MOBILE"!==i&&l.length?N.createElement(O.Column,{width:4},n?N.createElement(re.Link,{href:n,target:"_blank",onClick:function e(t){return Object(P.trackClick)(t,{module:"seeAllNearby",action:"click_photo",context:"hotels"})}},N.createElement(ce.ResponsiveImage,{height:"200px",width:"100%",sources:l})):N.createElement(ce.ResponsiveImage,{height:"200px",width:"100%",sources:l})):null))},Ue=function e(t){var n=t.locationId,a=t.language,i=t.locationEndpoint,l=t.contactsGQ,r=t.hasGeoCenter,o=t.linkLevel,c=l;if(!c&&!i.address&&!i.plainTextAddress)return null;var s={address:i.address||i.plainTextAddress,localAddress:i.local_address,localName:i.local_name,localLanguage:i.local_lang_code&&i.local_lang_code.split("-")[0]||a};return N.createElement(A,{title:Object(y.localize)("tab_detail_contact_fffff9b3")},N.createElement(U.Address,{userLanguage:a,address:s,layout:"location",disableMap:!r,linkLevel:o}),c&&N.createElement(N.Fragment,null,N.createElement(U.PhoneLink,{locationId:n,contact:c.PHONE,layout:"location",linkLevel:o}),N.createElement(U.EmailLink,{locationId:n,contact:c.EMAIL,layout:"location",linkLevel:o})))};Ue.defaultProps={linkLevel:void 0};var Ve=Object(_.bind)(function(e,t){var n=new URLSearchParams({detailLevel:"EXTENDED",allowedFields:"address,local_address,local_name,local_lang_code"}),a=t("/data/1.0/location/".concat(e.page.detailId,"/poiDetails?").concat(n.toString()));return function(){return{locationEndpoint:a.get().data||{},locationId:e.page.detailId,language:e.i18n.locale&&e.i18n.locale.split("_")[0]||"en"}}})(Ue),ze=n("@babel/runtime/helpers/esm/toConsumableArray"),xe=n.n(ze),He=n("react-redux"),Be=n("@ta/events.window-resize"),Ge=n.n(Be),We=n("@ta/maps.snapshot"),Ye=n.n(We),Qe=n("@ta/common.radio"),qe=n.n(Qe),Ke=n("@ta/common.is-visible"),Xe=[.3,.75,5,25],Ze=[.5,1,10,40],$e={MOBILE:{height:184,width:765},TABLET:{height:241,width:975},DESKTOP:{height:241,width:811}},Je=Object(C.featureIsEnabled)("hr_map_load_on_scroll")?Se.component.onTrigger(function(){var e=function e(){return n.e("@ta/hotels.hotel-review-map")};return e.__PACKAGE__="@ta/hotels.hotel-review-location",e.__MODULE_ID__="@ta/hotels.hotel-review-map",e.__MODULE_NAME__="@ta/hotels.hotel-review-map",e.__BUNDLE_NAME__="@ta/hotels.hotel-review-map",e.__GET_SYNC__=function(){return n.m["@ta/hotels.hotel-review-map"]?n("@ta/hotels.hotel-review-map"):null},e.__IS_LOADED__=function(){return void 0!==n.m["@ta/hotels.hotel-review-map"]},e}()):[function(){}],et=$()(Je,1)[0],tt=function e(t,n){switch(("MILES"===n?Xe:Ze).indexOf(t)){case 0:return 15;case 1:return 13;case 2:return 11;default:return 9}},nt=function e(t){M()({module:"nearby",action:"click",context:"open_float_map"}),t&&t.emit("open-trigger-clicked")},at=function e(){return N.createElement("div",{className:"hotels-hotel-review-location-StaticMap__fullView--XAB4y"},N.createElement("div",{className:"hotels-hotel-review-location-StaticMap__fullViewInner--35N-M"},N.createElement(D.Icon,{name:"expand",className:"hotels-hotel-review-location-StaticMap__expandIcon--3ycAA"}),Object(y.localize)("full_view")))},it=Object(He.connect)(function(e){return{defaultSize:$e[e.meta.device.viewportCategory]||$e.MOBILE}})(function e(t){var n=N.useState(t.defaultSize),a=$()(n,2),i=a[0],l=a[1],r=N.useState(null),o=$()(r,2),c=o[0],s=o[1],d=N.useState(1),u=$()(d,2),m=u[0],v=u[1],p=Object(Ke.useOnVisible)(et),k=function e(){if(p&&p.current){var t=window.getComputedStyle(p.current);t&&t.width&&t.height&&l({width:parseInt(t.width.replace("px",""),10),height:parseInt(t.height.replace("px",""),10)}),v(window.devicePixelRatio&&window.devicePixelRatio>1?2:1)}};return N.useEffect(function(){k(),s(qe()("hr-map"))},[]),N.createElement(B,null,function(e){var n=e.loading,a=e.currentLocation,l=e.hotels,r=e.restaurants,o=e.attractions,s=e.topPOI,d=e.distanceRange,u=e.mapDistanceRange;if(n)return N.createElement("div",{className:"hotels-hotel-review-location-StaticMap__container--1vnh_",ref:p,onClick:function e(){return nt(c)}},N.createElement(S.a,{height:"100%"}),at());if(!a||!a.latitude||!a.longitude)return null;var v=[a].concat(xe()(r.slice(0,10)),xe()(o.slice(0,10)));l.length>0&&v.push.apply(v,xe()(l.slice(0,10)));var h=null;Object(C.featureIsEnabled)("hr_location_anchor_poi_overt")&&s&&(v.push(s),h=s.locationId);var g=u?Math.max(d,u):d;return N.createElement("div",{className:"hotels-hotel-review-location-StaticMap__container--1vnh_",ref:p,onClick:function e(){return nt(c)}},N.createElement(Ye.a,{center:{lat:a.latitude,lng:a.longitude},height:i.height,zoom:tt(g,t.distanceUnit),width:i.width,imgClassName:"hotels-hotel-review-location-StaticMap__map--3L4sb",scale:m,markers:v.map(function(e){return function e(t,n){if(!t.latitude||!t.longitude)return null;var a;switch(t.placeType){case"ACCOMMODATION":a=!t.distanceInMiles||0===t.distanceInMiles||n?We.SnapshotAssetCatalogue.anchorHotelPin:We.SnapshotAssetCatalogue.miniHotelPin;break;case"ATTRACTION":a=n?We.SnapshotAssetCatalogue.anchorAttractionPin:We.SnapshotAssetCatalogue.miniAttractionPin;break;case"EATERY":a=n?We.SnapshotAssetCatalogue.anchorRestaurantPin:We.SnapshotAssetCatalogue.miniRestaurantPin;break;default:return null}return{iconUrl:a,position:{lat:t.latitude,lng:t.longitude}}}(e,e.locationId===h)}).filter(function(e){return!!e}),lazy:!0}),at(),N.createElement(Ge.a,{callback:k,throttle:0}))})}),lt=n("@ta/common.sessionstorage"),rt=n.n(lt),ot={container:"hotels-hotel-review-location-TopPOI__container--aRu11",header:"hotels-hotel-review-location-TopPOI__header--2znDi",info:"hotels-hotel-review-location-TopPOI__info--38eMu",travelIcon:"hotels-hotel-review-location-TopPOI__travelIcon--J3cpE",thumbnail:"hotels-hotel-review-location-TopPOI__thumbnail--1U8X6",closingIcon:"hotels-hotel-review-location-TopPOI__closingIcon--fHxE6"},ct="placementCollapse",st=function(e){function t(e){var n;return r()(this,t),n=d()(this,m()(t).call(this,e)),b()(h()(h()(n)),"togglePlacement",function(){var e=n.state.openPlacement;rt.a.set(ct,e),n.setState({openPlacement:!e}),e&&M()({module:"hr_location",action:"dismiss",context:"anchorpoi"})}),b()(h()(h()(n)),"renderDistance",function(e){var t=e.location,n=e.hotel,a=e.distanceUnit;if(!t||!n||t.distanceInMiles<0)return null;if(t.distanceInMiles<1)return Object(y.localize)("getting_to_top_POI",{topPOI:t.name});var i=ue(ve(t.distanceInMiles,"MILES",a),1);return"MILES"===a?Object(y.localize)("distance_n_mi_from_hotel",{distance:i,hotel:n.name}):Object(y.localize)("distance_n_km_from_hotel",{distance:i,hotel:n.name})}),b()(h()(h()(n)),"renderInfo",function(e){var t=e.location,a=e.hotel;return t&&a?N.createElement(N.Fragment,null,N.createElement("div",{className:ot.header},Object(y.localize)("getting_to_top_POI",{topPOI:t.name})),N.createElement("div",{className:ot.info},N.createElement(D.Icon,{name:t.distanceInMiles<1?"activities":"parking",className:ot.travelIcon}),n.renderDistance(n.props))):null}),b()(h()(h()(n)),"renderThumbnail",function(e){return N.createElement("div",{className:ot.thumbnail},e?N.createElement(ce.ResponsiveImage,{height:"70px",width:"70px",sources:e.photoSizes}):null)}),n.state={openPlacement:!1},n}return p()(t,e),c()(t,[{key:"componentDidMount",value:function e(){var t=rt.a.get("topPOIId");this.props.location&&(null!=t&&t!==this.props.location.locationId&&rt.a.set(ct,!1),rt.a.set("topPOIId",this.props.location.locationId),rt.a.get(ct)||this.setState({openPlacement:!0}))}},{key:"render",value:function e(){var t=this,n=this.props,a=n.location,i=n.hotel;return!this.props.loading&&a&&i&&this.state.openPlacement?N.createElement(j.Query,{query:he,variables:{locationId:a.locationId},errorPolicy:"all"},function(e){var n=e.loading,a=e.data,i=!n&&a&&a.locations&&a.locations[0]&&a.locations[0].thumbnail||null;return N.createElement("div",{className:ot.container},N.createElement(D.Icon,{name:"times",className:ot.closingIcon,onClick:t.togglePlacement}),"MOBILE"===t.props.viewport?null:t.renderThumbnail(i),t.renderInfo(t.props))}):null}}]),t}(N.Component),dt=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(i))),b()(h()(h()(n)),"renderLocationColumn",function(e,t,a,i,l,r,o){return N.createElement(L,null,e?N.createElement(S.a,{height:"52px"}):N.createElement(Ve,{contactsGQ:t,hasGeoCenter:i,linkLevel:o}),N.createElement(Pe,{locationId:n.props.locationId,nearbyTransit:l,nearbyAirportsGQ:r}),De(n.props.parentNeighborhood)?null:N.createElement(fe,{url:a,viewportCategory:n.props.viewport,placeType:"ACCOMMODATION"}))}),b()(h()(h()(n)),"renderRestaurantsColumn",function(e,t,a,i){return e||t.length?N.createElement(L,null,N.createElement(A,{fillSpace:!0,title:Object(y.localize)("hr_location_nearby_restaurants")},e?N.createElement(S.a,{height:"240px"}):t.slice(0,4).map(function(e){return N.createElement(Ne,{location:e,distanceUnit:a,viewportCategory:n.props.viewport,key:e.locationId})})),N.createElement(fe,{url:i,viewportCategory:n.props.viewport,placeType:"EATERY"})):null}),b()(h()(h()(n)),"renderAttractionsColumn",function(e,t,a,i){return e||t.length?N.createElement(L,null,N.createElement(A,{fillSpace:!0,title:Object(y.localize)("hr_nearby_attractions")},e?N.createElement(S.a,{height:"240px"}):t.slice(0,4).map(function(e){return N.createElement(_e,{location:e,distanceUnit:a,viewportCategory:n.props.viewport,key:e.locationId})})),N.createElement(fe,{url:i,viewportCategory:n.props.viewport,placeType:"ATTRACTION"})):null}),n}return p()(t,e),c()(t,[{key:"render",value:function e(){var t=this,n=this.props,a=n.distanceUnit,i=n.viewport;return N.createElement(X,{locationId:this.props.locationId,nearbyLocationData:this.props.nearbyLocationData,commerceCountryId:this.props.commerceCountryId,isMobile:this.props.isMobile,servlet:this.props.servlet,sponsoredListingLocationIdAttribution:this.props.sponsoredListingLocationIdAttribution,distanceUnit:a},N.createElement(w.Section,{section:"location",theme:"reorg",trackVisible:"nearby_hr",className:I()("ui_column",Object(C.featureIsEnabled)("hotel_review_is_thin_content")?null:"is-8-desktop is-12")},N.createElement(w.Header,{noDivider:!0},Object(y.localize)("hotels_nav_location")),N.createElement(it,{distanceUnit:a}),N.createElement(B,null,function(e){var n=e.loading,l=e.contacts,r=e.restaurants,o=e.attractions,c=e.nearbyHotelsUrl,s=e.nearbyAttractionsUrl,d=e.nearbyRestaurantsUrl,u=e.nearbyTransit,m=e.nearbyAirports,v=e.hasGeoCenter,p=e.topPOI,k=e.currentLocation;return N.createElement(N.Fragment,null,Object(C.featureIsEnabled)("hr_location_anchor_poi_overt")?N.createElement(st,{loading:n,viewport:i,location:p,hotel:k,distanceUnit:a}):null,N.createElement(Ee,{viewport:i,distanceUnit:a,nearbyAttractionsUrl:s,nearbyRestaurantUrl:d}),N.createElement(O.Columns,null,t.renderLocationColumn(n,l,c,v,u,m,"level_4"),"MOBILE"!==i?N.createElement(N.Fragment,null,t.renderRestaurantsColumn(n,r,a,d),t.renderAttractionsColumn(n,o,a,s)):null),N.createElement(je,{neighborhood:t.props.parentNeighborhood,viewportCategory:i,nearbyHotelsUrl:c}))})))}}]),t}(N.Component);t.default=Object(_.bind)(function(e,t){Pe.stage(e,t),Ve.stage(e,t);var n=function e(t){var n=t.page.detailId,a=t.meta.device;return{locationId:n,userAgent:a.userAgentCategory,viewport:a.viewportCategory,isMobile:"MOBILE"===t.meta.device.userAgentCategory,sponsoredListingLocationIdAttribution:t.route.sponsoredListingLocationIdAttribution,commerceCountryId:t.meta.commerceCountryId,servlet:t.route.page,distanceUnit:t.i18n.distanceUnit}}(e),a=t("/data/1.0/location/".concat(e.page.detailId,"/parentNeighborhood?detailLevel=EXTENDED")),l=Object(C.featureIsEnabled)("hr_location_hotel_pins")?"ATTRACTION,EATERY,ACCOMMODATION":"ATTRACTION,EATERY",r=Object(C.featureIsEnabled)("hr_location_via_hps")?null:t("/data/1.0/nearbylocations/".concat(e.page.detailId,"?placeTypes=").concat(l));return function(){return i()({},n,{parentNeighborhood:a.get().data,nearbyLocationData:r?r.get().data:null})}})(dt)}}});
//# sourceMappingURL=hotels.hotel-review-location.c992aaefe7.js.map