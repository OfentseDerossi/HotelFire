($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/platform.runtime",se:!0,d:["vendor-babel","vendor-react-libs","vendor-redux-libs","ta-platform","lithium-platform"],e:["./packages/platform/runtime/runtime.jsx"],m:{"./packages/platform/runtime/runtime.jsx":function(e,t,n){"use strict";n.r(t);var r=n("@babel/runtime/helpers/esm/toConsumableArray"),a=n.n(r),o=n("react"),i=n.n(o),l=n("react-dom"),u=n("react-redux"),c=n("@ta/common.api"),s=n("@ta/common.error-handling"),m=n("@ta/common.features"),d=n("@ta/common.global"),f=n("@ta/platform.urql"),p=n("@ta/common.i18n"),b=n("@ta/common.imports"),h=n("@ta/common.logging"),g=n.n(h),O=n("@ta/platform.performance"),E=n("@ta/common.routing"),j=n("@ta/common.state"),C=n("@ta/common.tracking"),v=n.n(C),y=n("@ta/platform.import"),P=n.n(y);n("@babel/runtime/helpers/esm/classCallCheck"),n("@babel/runtime/helpers/esm/createClass"),n("@babel/runtime/helpers/esm/possibleConstructorReturn"),n("@babel/runtime/helpers/esm/getPrototypeOf"),n("@babel/runtime/helpers/esm/inherits"),n("@babel/runtime/helpers/esm/assertThisInitialized"),n("@babel/runtime/helpers/esm/defineProperty"),i.a.PureComponent,n.d(t,"importBundle",function(){return W}),n.d(t,"createRoot",function(){return T}),n.d(t,"destroyRoot",function(){return N}),n.d(t,"hydrateRoot",function(){return S}),n.d(t,"wrapSubrootElement",function(){return H}),n.d(t,"pageManifestComponents",function(){return U}),n.d(t,"restoreGraphQLResults",function(){return d.restoreGraphQLResults});var _=__WEB_CONTEXT__.pageManifest;Object(O.start)("Components Initialization"),Object(O.start)("Components Bundle Load");var k={};_.bundles.forEach(function(e){k[e]=$WP.getChunkPromise(e)}),Promise.all(Object.values(k)).then(function(){Object(O.end)("Components Bundle Load")});var w={};_.assets.forEach(function(e){w[e]=Promise.resolve(!0)}),Object(p.loadMessages)(_.messages),Object(m.loadFeatures)(_.features);var A=Object(j.initializeStore)(_.redux),I=A.getState().auth.csrfToken,R=new d.DummyCache;_.apolloCache&&R.restore(_.apolloCache);var B=Object(d.buildClient)(R,I),M=Object(f.buildUrqlClient)({csrfToken:I,ssrData:_.urqlCache});window.__APOLLO_CLIENT__=B;var W=function e(t){return t in k||(k[t]=fetch("/data/1.0/bundle?name=".concat(t),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return Object(p.loadMessages)(e.messages),Object(m.loadFeatures)(e.features),Promise.all([].concat(a()(e.css.map(function(e){return e in w||(w[e]=Object(b.importCss)(_.redux.meta.imageCdnUrl+e)),w[e]})),a()(e.js.map(function(e){return e in w||(w[e]=Object(b.importScript)(_.redux.meta.imageCdnUrl+e)),w[e]}))))}).then(function(){return $WP.getChunkPromise(t)})),k[t]},q=i.a.unstable_ConcurrentMode,L=function e(t){return Object(m.featureIsEnabled)("react_concurrent_mode")?i.a.createElement(q,null,i.a.createElement(P.a.Provider,{value:W},i.a.createElement(s.ErrorBoundary,{store:A},i.a.createElement(d.Root,{store:A,apolloClient:B,urqlClient:M},t)))):i.a.createElement(P.a.Provider,{value:W},i.a.createElement(s.ErrorBoundary,{store:A},i.a.createElement(d.Root,{store:A,apolloClient:B,urqlClient:M},t)))},$=i.a.createElement(P.a.Provider,{value:W},i.a.createElement(s.ErrorBoundary,{store:A},i.a.createElement(u.Provider,{store:A},i.a.createElement(E.Router,null,i.a.createElement(E.History,null))))),z="data-component-init",x=Object(m.featureIsEnabled)("hydrate_while_loading");Object(O.start)("Loadables"),t.default=Promise.all(_.lazyLoadedModules.filter(function(e){return!!e}).map(function(e){return $WP.getChunkPromise(e)})).finally(function(){Object(O.end)("Loadables"),Object(O.start)("Hydration"),x&&A.dispatch(Object(j.pauseRequestAction)());var e=[];return _.hydrations.forEach(function(t){var n=document.getElementById(t.id);null===n||n.getAttribute(z)||(n.setAttribute(z,z),e.push(function(){return new Promise(function(e){$WP.getChunkPromise(t.package).then(function(r){var a="Hydrate ".concat(t.package," ").concat(t.id);Object(O.start)(a),new c.ApiMonitor(A,r.default,t.props).stage(t.props),Object(l.hydrate)(L(i.a.createElement(r.default,t.props)),n,function(){Object(O.end)(a),e()})})})}))}),x?Promise.all(e.map(function(e){var t=e();return t?t.then(null,function(){return null}):t})):Object(m.featureIsEnabled)("serialized_hydration_promises")?e.reduce(function(e,t){return e.finally(t)},Promise.resolve([])):Promise.all(e.map(function(e){return e()}))}).finally(function(){Object(O.end)("Hydration"),x&&A.dispatch(Object(j.resumeRequestAction)()),Object(j.storeResizeHandler)(),Object(O.start)("Render");var e=[];_.renders.forEach(function(t){var n=document.getElementById(t.id);null===n||n.getAttribute(z)||(n.setAttribute(z,z),e.push(new Promise(function(e){$WP.getChunkPromise(t.package).then(function(r){new c.ApiMonitor(A,r.default,t.props).reload();var a="Render ".concat(t.package," ").concat(t.id);Object(O.start)(a),Object(l.render)(L(i.a.createElement(r.default,t.props)),n,function(){Object(O.end)(a),e()})})})))});var t=document.body,n=document.createElement("div");n.id="historyApi",t&&(t.appendChild(n),Object(l.render)($,n)),Promise.all(e).finally(function(){if(Object(O.end)("Render"),Object(O.end)("Components Initialization"),Object(m.featureIsEnabled)("prod_runtime_tracking")&&"undefined"!=typeof window&&window.performance&&window.performance.getEntriesByName){var e=window.performance.getEntriesByName("components-Components Initialization-end","mark");if(e&&e.length>0){var t=e[0].startTime;null!==t&&v()({module:"runtime",action:"initialization_complete",context:Number(t).toString()})}}}),requestIdleCallback(function(){return Object(d.replaceCache)(!0)}),requestIdleCallback(function(){return Object(h.defineSentry)(W)})});var T=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=document.getElementById(t);null!==a?a.getAttribute(z)||(a.setAttribute(z,z),$WP.getChunkPromise(n).then(function(e){new c.ApiMonitor(A,e.default,r).reload(),Object(l.render)(L(i.a.createElement(e.default,r)),a)})):g.a.error("Unable to find DOM element with id = ".concat(t))},N=function e(t){var n=document.getElementById(t);null!==n&&Object(l.unmountComponentAtNode)(n)},S=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=document.getElementById(t);null!==a?a.getAttribute(z)||(a.setAttribute(z,z),$WP.getChunkPromise(n).then(function(e){new c.ApiMonitor(A,e.default,r).stage(r),Object(l.hydrate)(L(i.a.createElement(e.default,r)),a)})):g.a.error("Unable to find DOM element with id = ".concat(t))},H=function e(t,n){var r=i.a.createElement(d.Root,{store:A,apolloClient:B,urqlClient:M},t);return n&&(r=i.a.createElement(s.ErrorBoundary,{store:A},r)),r=i.a.createElement(P.a.Provider,{value:W},r),Object(m.featureIsEnabled)("react_concurrent_mode")&&(r=i.a.createElement(q,null,r)),r},U=_.hydrations.concat(_.renders).concat(_.strictModeRoots).reduce(function(e,t){return e[t.id]=t.props,e},{});define("@ta/platform.runtime",[],function(){return n("@ta/platform.runtime")})}}});
//# sourceMappingURL=platform.runtime.29274d7350.js.map