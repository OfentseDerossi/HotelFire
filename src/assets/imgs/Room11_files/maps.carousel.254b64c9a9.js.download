($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/maps.carousel",d:["vendor-babel","vendor-react-libs","vendor-redux-libs","ta-platform","@ta/events.keyboard-event-listener","@ta/maps.cards","@ta/hotels.sponsored-listings"],e:["./packages/maps/carousel/entrypoint.jsx"],x:{"./packages/maps/carousel/entrypoint.jsx":["Carousel","CardCarousel"]},m:{"./node_modules/detect-passive-events/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={update:function e(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var t=!1,n=Object.defineProperty({},"passive",{get:function e(){t=!0}}),o=function e(){};window.addEventListener("testPassiveEventSupport",o,n),window.removeEventListener("testPassiveEventSupport",o,n),i.hasSupport=t}}};i.update(),t.default=i},"./node_modules/react-swipeable/lib/Swipeable.js":function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n("react"),s=n("prop-types"),r=n("./node_modules/detect-passive-events/lib/index.js").default;function a(e,t){var n=function i(e){return"changedTouches"in e?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}(e),o=n.x,s=n.y,r=t.x-o,a=t.y-s,l=Math.abs(r),p=Math.abs(a),u=Date.now()-t.start;return{deltaX:r,deltaY:a,absX:l,absY:p,velocity:Math.sqrt(l*l+p*p)/u}}var l=function(e){function t(n,i){!function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return s.eventStart=s.eventStart.bind(s),s.eventMove=s.eventMove.bind(s),s.eventEnd=s.eventEnd.bind(s),s.mouseDown=s.mouseDown.bind(s),s.mouseMove=s.mouseMove.bind(s),s.mouseUp=s.mouseUp.bind(s),s.cleanupMouseListeners=s.cleanupMouseListeners.bind(s),s.setupMouseListeners=s.setupMouseListeners.bind(s),s.elementRef=s.elementRef.bind(s),s.setupTouchmoveEvent=s.setupTouchmoveEvent.bind(s),s.cleanupTouchmoveEvent=s.cleanupTouchmoveEvent.bind(s),s.hasPassiveSupport=r.hasSupport,s}return function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function e(){this.swipeable={x:null,y:null,swiping:!1,start:0}},t.prototype.componentDidMount=function e(){this.props.preventDefaultTouchmoveEvent&&this.setupTouchmoveEvent()},t.prototype.componentDidUpdate=function e(t){t.disabled!==this.props.disabled&&(this.cleanupMouseListeners(),this.swipeable={x:null,y:null,swiping:!1,start:0}),t.preventDefaultTouchmoveEvent&&!this.props.preventDefaultTouchmoveEvent?this.cleanupTouchmoveEvent():!t.preventDefaultTouchmoveEvent&&this.props.preventDefaultTouchmoveEvent&&this.setupTouchmoveEvent()},t.prototype.componentWillUnmount=function e(){this.cleanupMouseListeners()},t.prototype.setupTouchmoveEvent=function e(){this.element&&this.hasPassiveSupport&&this.element.addEventListener("touchmove",this.eventMove,{passive:!1})},t.prototype.setupMouseListeners=function e(){document.addEventListener("mousemove",this.mouseMove),document.addEventListener("mouseup",this.mouseUp)},t.prototype.cleanupTouchmoveEvent=function e(){this.element&&this.hasPassiveSupport&&this.element.removeEventListener("touchmove",this.eventMove,{passive:!1})},t.prototype.cleanupMouseListeners=function e(){document.removeEventListener("mousemove",this.mouseMove),document.removeEventListener("mouseup",this.mouseUp)},t.prototype.mouseDown=function e(t){this.props.trackMouse&&"mousedown"===t.type&&("function"==typeof this.props.onMouseDown&&this.props.onMouseDown(t),this.setupMouseListeners(),this.eventStart(t))},t.prototype.mouseMove=function e(t){this.eventMove(t)},t.prototype.mouseUp=function e(t){this.cleanupMouseListeners(),this.eventEnd(t)},t.prototype.eventStart=function e(t){if(!(t.touches&&t.touches.length>1)){var n=function i(e){return"touches"in e?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:e.clientX,y:e.clientY}}(t),o=n.x,s=n.y;this.props.stopPropagation&&t.stopPropagation(),this.swipeable={start:Date.now(),x:o,y:s,swiping:!1}}},t.prototype.eventMove=function e(t){var n=this.props,i=n.stopPropagation,o=n.delta,s=n.onSwiping,r=n.onSwipingLeft,l=n.onSwipedLeft,p=n.onSwipingRight,u=n.onSwipedRight,d=n.onSwipingUp,c=n.onSwipedUp,h=n.onSwipingDown,f=n.onSwipedDown,v=n.preventDefaultTouchmoveEvent;if(this.swipeable.x&&this.swipeable.y&&!(t.touches&&t.touches.length>1)){var m=a(t,this.swipeable);if(!(m.absX<o&&m.absY<o)||this.swipeable.swiping){i&&t.stopPropagation(),s&&s(t,m.deltaX,m.deltaY,m.absX,m.absY,m.velocity);var w=!1;m.absX>m.absY?m.deltaX>0?(r||l)&&(r&&r(t,m.absX),w=!0):(p||u)&&(p&&p(t,m.absX),w=!0):m.deltaY>0?(d||c)&&(d&&d(t,m.absY),w=!0):(h||f)&&(h&&h(t,m.absY),w=!0),this.swipeable.swiping=!0,w&&v&&t.preventDefault()}}},t.prototype.eventEnd=function e(t){var n=this.props,i=n.stopPropagation,o=n.flickThreshold,s=n.onSwiped,r=n.onSwipedLeft,l=n.onSwipedRight,p=n.onSwipedUp,u=n.onSwipedDown,d=n.onTap;if(this.swipeable.swiping){var c=a(t,this.swipeable);i&&t.stopPropagation();var h=c.velocity>o;s&&s(t,c.deltaX,c.deltaY,h,c.velocity),c.absX>c.absY?c.deltaX>0?r&&r(t,c.deltaX,h):l&&l(t,c.deltaX,h):c.deltaY>0?p&&p(t,c.deltaY,h):u&&u(t,c.deltaY,h)}else d&&d(t);this.swipeable={x:null,y:null,swiping:!1,start:0}},t.prototype.elementRef=function e(t){this.element=t,this.props.innerRef&&this.props.innerRef(t)},t.prototype.render=function e(){var t=i({},this.props);return this.props.disabled||(t.onTouchStart=this.eventStart,this.props.preventDefaultTouchmoveEvent&&this.hasPassiveSupport||(t.onTouchMove=this.eventMove),t.onTouchEnd=this.eventEnd,t.onMouseDown=this.mouseDown),t.ref=this.elementRef,delete t.onSwiped,delete t.onSwiping,delete t.onSwipingUp,delete t.onSwipingRight,delete t.onSwipingDown,delete t.onSwipingLeft,delete t.onSwipedUp,delete t.onSwipedRight,delete t.onSwipedDown,delete t.onSwipedLeft,delete t.onTap,delete t.flickThreshold,delete t.delta,delete t.preventDefaultTouchmoveEvent,delete t.stopPropagation,delete t.nodeName,delete t.children,delete t.trackMouse,delete t.disabled,delete t.innerRef,o.createElement(this.props.nodeName,t,this.props.children)},t}(o.Component);l.propTypes={onSwiped:s.func,onSwiping:s.func,onSwipingUp:s.func,onSwipingRight:s.func,onSwipingDown:s.func,onSwipingLeft:s.func,onSwipedUp:s.func,onSwipedRight:s.func,onSwipedDown:s.func,onSwipedLeft:s.func,onTap:s.func,flickThreshold:s.number,delta:s.number,preventDefaultTouchmoveEvent:s.bool,stopPropagation:s.bool,nodeName:s.string,trackMouse:s.bool,disabled:s.bool,innerRef:s.func,children:s.node},l.defaultProps={flickThreshold:.6,delta:10,preventDefaultTouchmoveEvent:!1,stopPropagation:!1,nodeName:"div",disabled:!1},e.exports=l},"./packages/maps/carousel/entrypoint.jsx":function(e,t,n){"use strict";n.r(t);var i=n("@babel/runtime/helpers/esm/objectSpread"),o=n.n(i),s=n("@babel/runtime/helpers/esm/classCallCheck"),r=n.n(s),a=n("@babel/runtime/helpers/esm/createClass"),l=n.n(a),p=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),u=n.n(p),d=n("@babel/runtime/helpers/esm/getPrototypeOf"),c=n.n(d),h=n("@babel/runtime/helpers/esm/inherits"),f=n.n(h),v=n("@babel/runtime/helpers/esm/assertThisInitialized"),m=n.n(v),w=n("@babel/runtime/helpers/esm/defineProperty"),b=n.n(w),g=n("react"),S=n("react-redux"),y=n("@ta/common.throttle"),T=n.n(y),x=n("./node_modules/react-swipeable/lib/Swipeable.js"),E=n.n(x),M=n("@ta/events.keyboard-event-listener"),D=n.n(M),P=5,k=function(e){function t(e){var n;return r()(this,t),n=u()(this,c()(t).call(this,e)),b()(m()(m()(n)),"selectedOffsetPx",0),b()(m()(m()(n)),"swipeOffsetPx",0),b()(m()(m()(n)),"transitionTimeout",null),b()(m()(m()(n)),"throttledSlideToIndex",T()(function(){var e;return(e=n).slideToIndex.apply(e,arguments)},n.props.slideDuration,!0)),b()(m()(m()(n)),"onSliding",function(e){n.updateSlidesContainer(),n.state.isTransitioning&&(n.transitionTimeout&&(clearTimeout(n.transitionTimeout),n.transitionTimeout=null),n.transitionTimeout=setTimeout(function(){n.setState({isTransitioning:!1})},e+50))}),b()(m()(m()(n)),"imageGallery",void 0),b()(m()(m()(n)),"slideContainer",void 0),b()(m()(m()(n)),"throttledSlideToIndex",void 0),b()(m()(m()(n)),"slideToIndex",function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==n.props.items.length){var i=n.props.items.length-1,o=e;e<0?o=0:e>i&&(o=i);var s=n.slideContainer?n.slideContainer.children[0].offsetWidth:0,r=-o*s,a=n.selectedOffsetPx+n.swipeOffsetPx,l=Math.abs(a-r)/s,p=l>P?0:n.props.slideDuration*l;n.selectedOffsetPx=r,n.swipeOffsetPx=0,n.setState({currentIndex:o,isTransitioning:t&&r!==a,slidesTransitionStyle:"all ".concat(p,"ms ease-in-out")},function(){return n.onSliding(p)}),-1!==o&&n.props.parentHandler&&n.props.parentHandler(n.props.items[o])}}),b()(m()(m()(n)),"handleKeyDown",function(e){switch(parseInt(e.keyCode||e.which||0,10)){case 37:n.canSlideLeft()&&n.slideLeft();break;case 39:n.canSlideRight()&&n.slideRight()}}),b()(m()(m()(n)),"handleOnSwiped",function(e,t,i,o){n.setState({isScrolling:!1});var s=t>0?1:-1;n.handleOnSwipedTo(s,o)}),b()(m()(m()(n)),"handleSwiping",function(e,t){var i=n.state.isTransitioning;n.swipeOffsetPx=i?0:-t,n.state.isScrolling||n.setState({isScrolling:!0}),n.updateSlidesContainer()}),b()(m()(m()(n)),"slideLeft",function(){var e=n.state.currentIndex-1;n.props.throttle?n.throttledSlideToIndex(e):n.slideToIndex(e)}),b()(m()(m()(n)),"slideRight",function(){var e=n.state.currentIndex+1;n.props.throttle?n.throttledSlideToIndex(e):n.slideToIndex(e)}),n.state={currentIndex:e.startIndex,isScrolling:!1,slidesTransitionStyle:""},n}return f()(t,e),l()(t,[{key:"componentDidMount",value:function e(){this.slideToIndex(this.props.startIndex,!1)}},{key:"componentDidUpdate",value:function e(t,n){var i=this;n.currentIndex!==this.state.currentIndex&&this.props.onSlide&&this.props.onSlide(this.state.currentIndex),t.slideDuration!==this.props.slideDuration&&(this.throttledSlideToIndex=T()(function(){return i.slideToIndex.apply(i,arguments)},this.props.slideDuration,!0)),t.startIndex!==this.props.startIndex&&this.props.startIndex!==this.state.currentIndex&&this.slideToIndex(this.props.startIndex,this.props.items===t.items)}},{key:"componentWillUnmount",value:function e(){this.transitionTimeout&&(clearTimeout(this.transitionTimeout),this.transitionTimeout=null)}},{key:"getSlideStyle",value:function e(t){var n=-50*(this.props.isRtl?-1:1)+100*t,i="translate3d(".concat(n,"%, 0, 0)"),o="".concat(this.props.itemSpacing/2,"px");return{WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,transform:i,paddingLeft:o,paddingRight:o}}},{key:"canNavigate",value:function e(){return this.canSlideLeft()||this.canSlideRight()}},{key:"canSlideLeft",value:function e(){return this.state.currentIndex>0}},{key:"canSlideRight",value:function e(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleOnSwipedTo",value:function e(t,n){if(this.slideContainer){var i=this.state.currentIndex,o=i,s=this.slideContainer.children[0].offsetWidth,r=this.swipeOffsetPx/s*100;!function e(t){return Math.abs(t)>50}(r)?n&&(o+=t):o+=t*Math.round(Math.abs(r)/100),t<0?this.canSlideLeft()||(o=i):this.canSlideRight()||(o=i),this.slideToIndex(o,!0)}}},{key:"updateSlidesContainer",value:function e(){this.slideContainer&&(this.slideContainer.style.transform="translate3d(".concat(this.selectedOffsetPx+this.swipeOffsetPx,"px, 0px, 0px)"),this.slideContainer.style.transition=this.state.isTransitioning?this.state.slidesTransitionStyle:"")}},{key:"render",value:function e(){var t=this,n=this.props.preventDefaultTouchmoveEvent,i=this.state.isScrolling,o=[],s=0;this.props.items.forEach(function(e,n){var i=t.getSlideStyle(n),r=g.createElement("div",{key:s,className:"maps-carousel-Carousel__slideWrapper--lFG75",style:i,onMouseUp:function e(n){t.state.isScrolling&&(n.stopPropagation(),n.preventDefault())}},g.createElement("div",{className:"maps-carousel-Carousel__slideShadow--3UM8-"},t.props.renderItem(e)));o.push(r),s+=1});var r=g.createElement("div",{className:"".concat("maps-carousel-Carousel__carouselWrapper--1Yo_3")},this.canNavigate()?g.createElement("div",{className:"maps-carousel-Carousel__carouselContainer--AlMSw",key:"navigation"},g.createElement(E.a,{className:"".concat("maps-carousel-Carousel__swipeable--3ioWj"),key:"swipeable",delta:3,trackMouse:!0,flickThreshold:this.props.flickThreshold,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped,disabled:this.state.isTransitioning,stopPropagation:this.props.stopPropagation,preventDefaultTouchmoveEvent:n||i},g.createElement("div",{ref:function e(n){return t.slideContainer=n,n},className:"maps-carousel-Carousel__slides--3TfWH"},o))):g.createElement("div",{className:"maps-carousel-Carousel__slides--3TfWH"},o));return g.createElement("div",{ref:function e(n){return t.imageGallery=n,n},className:"maps-carousel-Carousel__carousel--2xRD1","aria-live":"polite"},g.createElement("div",{className:"maps-carousel-Carousel__content--3GYrx"},r,!this.props.disableArrowKeys&&g.createElement(D.a,{keyName:["ArrowLeft","ArrowRight","Left","Right"],callback:this.handleKeyDown})))}}]),t}(g.PureComponent);b()(k,"defaultProps",{flickThreshold:.6,itemSpacing:16,disableArrowKeys:!1,preventDefaultTouchmoveEvent:!0,startIndex:0,slideDuration:300,swipingTransitionDuration:0,stopPropagation:!0,isRtl:!1,throttle:!0});var I=Object(S.connect)(function(e,t){return o()({isRtl:e.i18n.isRtl},t)})(k),C=n("@ta/common.tracking"),L=n.n(C),R=n("@ta/maps.cards"),_=(n("@ta/hotels.sponsored-listings"),function e(t,n){if(0===n)return 0;var i=t.findIndex(function(e){return e.id===n});return-1===i?0:i}),O=function(e){function t(){var e,n;r()(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=u()(this,(e=c()(t)).call.apply(e,[this].concat(o))),b()(m()(m()(n)),"onSwipe",function(e){L()({module:"map_card",action:"swipe"}),n.props.onSwipe(e)}),b()(m()(m()(n)),"renderItem",function(e){return g.createElement("div",{style:{width:"310px"}},g.createElement(R.LocationCard,{location:e,largeImage:!0,spTrackingHandler:n.props.spTrackingHandler}))}),n}return f()(t,e),l()(t,[{key:"render",value:function e(){var t=this.props;return t.locations.length&&g.createElement("div",{style:{position:"absolute",top:"calc(100% - 16px)",width:"100%"}},g.createElement("div",{style:{position:"absolute",height:"150px",width:"100%",transform:"translateY(-100%)"}},g.createElement(I,{itemSpacing:8,items:t.locations,renderItem:this.renderItem,parentHandler:this.onSwipe,startIndex:_(t.locations,t.selectedMarker)})))}}]),t}(g.PureComponent);b()(O,"defaultProps",{selectedMarker:0,spTrackingHandler:null});var Y=O;n.d(t,"Carousel",function(){return I}),n.d(t,"CardCarousel",function(){return Y})}}});
//# sourceMappingURL=maps.carousel.254b64c9a9.js.map